<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//cdn.jsdelivr.net/gh/voidking/voidking.github.io/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="travis ciå¿…é¡»ä»˜è´¹äº†2023å¹´2æœˆ25æ—¥ï¼Œä½¿ç”¨travis ciéƒ¨ç½²hexoé¡¹ç›®ï¼Œå‘ç°å¹¶æ²¡æœ‰è§¦å‘ä»»åŠ¡ã€‚ ç™»å½•travis ciï¼Œå‘ç°æç¤ºï¼š  Builds have been temporarily disabled for public repositories due to a negative credit balance. Please go to the Plan page to"><meta property="og:type" content="article"><meta property="og:title" content="Hexoé…ç½®GitHub Actionsè‡ªåŠ¨æ„å»ºå‘å¸ƒ"><meta property="og:url" content="https://www.voidking.com/dev-hexo-github-actions/index.html"><meta property="og:site_name" content="å¥½å¥½å­¦ä¹ çš„éƒ"><meta property="og:description" content="travis ciå¿…é¡»ä»˜è´¹äº†2023å¹´2æœˆ25æ—¥ï¼Œä½¿ç”¨travis ciéƒ¨ç½²hexoé¡¹ç›®ï¼Œå‘ç°å¹¶æ²¡æœ‰è§¦å‘ä»»åŠ¡ã€‚ ç™»å½•travis ciï¼Œå‘ç°æç¤ºï¼š  Builds have been temporarily disabled for public repositories due to a negative credit balance. Please go to the Plan page to"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2023-02-25T20:00:00.000Z"><meta property="article:modified_time" content="2023-02-26T19:00:00.000Z"><meta property="article:author" content="å¥½å¥½å­¦ä¹ çš„éƒ"><meta property="article:tag" content="é—®é¢˜æ’æŸ¥"><meta property="article:tag" content="git"><meta property="article:tag" content="cicd"><meta property="article:tag" content="hexo"><meta property="article:tag" content="travis-ci"><meta property="article:tag" content="github-actions"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-hexo-github-actions/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>Hexoé…ç½®GitHub Actionsè‡ªåŠ¨æ„å»ºå‘å¸ƒ | å¥½å¥½å­¦ä¹ çš„éƒ</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="å¥½å¥½å­¦ä¹ çš„éƒ" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">å¥½å¥½å­¦ä¹ çš„éƒ</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Šï¼</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> é¦–é¡µ</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> å…³äº</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> æ ‡ç­¾</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> å½’æ¡£</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> æœç´¢</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="æœç´¢..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-hexo-github-actions/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="å¥½å¥½å­¦ä¹ çš„éƒ"><meta itemprop="description" content="å­¦è€Œä¸æ€åˆ™ç½”ï¼Œæ€è€Œä¸å­¦åˆ™æ®†ï¼"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="å¥½å¥½å­¦ä¹ çš„éƒ"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> Hexoé…ç½®GitHub Actionsè‡ªåŠ¨æ„å»ºå‘å¸ƒ</h2><div class="post-meta"><i class="fa fa-thumb-tack"></i> <font color="RED">ç½®é¡¶</font> <span class="post-meta-divider">|</span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2023-02-25 20:00:00" itemprop="dateCreated datePublished" datetime="2023-02-25T20:00:00+00:00">2023-02-25</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-02-26 19:00:00" itemprop="dateModified" datetime="2023-02-26T19:00:00+00:00">2023-02-26</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">åˆ†ç±»äº</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ï¼Œ <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/devops/" itemprop="url" rel="index"><span itemprop="name">devops</span></a></span> ï¼Œ <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a></span> ï¼Œ <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/troubleshooting/" itemprop="url" rel="index"><span itemprop="name">troubleshooting</span></a></span></span><span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="travis-ciå¿…é¡»ä»˜è´¹äº†"><a href="#travis-ciå¿…é¡»ä»˜è´¹äº†" class="headerlink" title="travis ciå¿…é¡»ä»˜è´¹äº†"></a>travis ciå¿…é¡»ä»˜è´¹äº†</h1><p>2023å¹´2æœˆ25æ—¥ï¼Œä½¿ç”¨travis ciéƒ¨ç½²hexoé¡¹ç›®ï¼Œå‘ç°å¹¶æ²¡æœ‰è§¦å‘ä»»åŠ¡ã€‚</p><p>ç™»å½•<a target="_blank" rel="noopener" href="https://www.travis-ci.com/">travis ci</a>ï¼Œå‘ç°æç¤ºï¼š</p><blockquote><p>Builds have been temporarily disabled for public repositories due to a negative credit balance. Please go to the Plan page to replenish your credit balance or alter your Consume paid credits for OSS setting.</p></blockquote><p>åœ¨<a target="_blank" rel="noopener" href="https://app.travis-ci.com/account/plan">travis ci plan</a>é¡µé¢å…³é—­äº†Consume paid credits for OSSï¼Œä½†æ˜¯ä¾ç„¶æç¤ºï¼š</p><blockquote><p>Builds have been temporarily disabled for private and public repositories due to a negative credit balance. Please go to the Plan page to replenish your credit balance.</p></blockquote><p>ç‚¹å‡»Change planï¼Œå‘ç°å·²ç»æ²¡æœ‰å…è´¹çš„planäº†ï¼Œè€Œæœ€ä¾¿å®œçš„planï¼Œä¹Ÿè¦<code>$69/monthly</code>ï¼Œå¤ªè´µäº†ï¼Œæ”¾å¼ƒã€‚<br>ä¸è¿‡å¯ä»¥ç†è§£ï¼Œæ¯•ç«Ÿè·‘CIæ˜¯éœ€è¦æœåŠ¡å™¨çš„ï¼ŒæœåŠ¡å™¨æ˜¯éœ€è¦èŠ±é’±çš„ã€‚</p><p>é‚£å°±æ¢æˆGitHub Actionså§ï¼Œæœ‰ä»˜è´¹ç‰ˆï¼Œä¹Ÿæœ‰å…è´¹ç‰ˆï¼Œæˆ‘å–œæ¬¢ã€‚</p><p>å‚è€ƒæ–‡æ¡£ï¼š</p><ul><li><a target="_blank" rel="noopener" href="https://docs.github.com/en/actions">GitHub Actions</a></li></ul><span id="more"></span><h1 id="Quickstart-for-GitHub-Actions"><a href="#Quickstart-for-GitHub-Actions" class="headerlink" title="Quickstart for GitHub Actions"></a>Quickstart for GitHub Actions</h1><p>å‚è€ƒæ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://docs.github.com/en/actions/quickstart">Quickstart for GitHub Actions</a></p><p>1ã€ åˆ›å»ºæ–°çš„åˆ†æ”¯ï¼ˆå› ä¸ºåŸåˆ†æ”¯æ˜¯é€‚ç”¨äºtravis ciçš„ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b github-action</span><br><span class="line">git push origin HEAD:github-action</span><br></pre></td></tr></table></figure><p>2ã€ åˆ›å»º github-actions-demo.yml æ–‡ä»¶<br><a target="_blank" rel="noopener" href="https://github.com/voidking/hexo-deploy">voidking/hexo-deploy</a>é¡¹ç›®ä¸­æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p .github/workflows</span><br><span class="line">vim .github/workflows/github-actions-demo.yml</span><br></pre></td></tr></table></figure><p>github-actions-demo.yml æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">GitHub</span> <span class="string">Actions</span> <span class="string">Demo</span></span><br><span class="line"><span class="attr">run-name:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.actor</span> <span class="string">&#125;&#125;</span> <span class="string">is</span> <span class="string">testing</span> <span class="string">out</span> <span class="string">GitHub</span> <span class="string">Actions</span> <span class="string">ğŸš€</span></span><br><span class="line"><span class="attr">on:</span> [<span class="string">push</span>]</span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">Explore-GitHub-Actions:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">echo</span> <span class="string">&quot;ğŸ‰ The job was automatically triggered by a $<span class="template-variable">&#123;&#123; github.event_name &#125;&#125;</span> event.&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">echo</span> <span class="string">&quot;ğŸ§ This job is now running on a $<span class="template-variable">&#123;&#123; runner.os &#125;&#125;</span> server hosted by GitHub!&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">echo</span> <span class="string">&quot;ğŸ” The name of your branch is $<span class="template-variable">&#123;&#123; github.ref &#125;&#125;</span> and your repository is $<span class="template-variable">&#123;&#123; github.repository &#125;&#125;</span>.&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Check</span> <span class="string">out</span> <span class="string">repository</span> <span class="string">code</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v3</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">echo</span> <span class="string">&quot;ğŸ’¡ The $<span class="template-variable">&#123;&#123; github.repository &#125;&#125;</span> repository has been cloned to the runner.&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">echo</span> <span class="string">&quot;ğŸ–¥ï¸ The workflow is now ready to test your code on the runner.&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">List</span> <span class="string">files</span> <span class="string">in</span> <span class="string">the</span> <span class="string">repository</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          ls $&#123;&#123; github.workspace &#125;&#125;</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="attr">run:</span> <span class="string">echo</span> <span class="string">&quot;ğŸ This job&#x27;s status is $<span class="template-variable">&#123;&#123; job.status &#125;&#125;</span>.&quot;</span></span><br></pre></td></tr></table></figure><p>3ã€ ä¸Šä¼ ä»£ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;github action test&quot;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><p>æŠ¥é”™ï¼šrefusing to allow a Personal Access Token to create or update workflow <code>.github/workflows/github-actions-demo.yml</code> without <code>workflow</code> scope</p><p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬çš„Access Tokenéœ€è¦å…·æœ‰create or update workflowçš„æƒé™ï¼Œå› æ­¤éœ€è¦é‡æ–°åˆ›å»ºä¸€ä¸ªAccess Tokenã€‚<br>å…·ä½“æ“ä½œæ–¹æ³•ï¼šè®¿é—®<a target="_blank" rel="noopener" href="https://github.com/settings/tokens">Personal access tokens (classic)</a>é¡µé¢ï¼ŒGenerate new tokenï¼Œç”Ÿæˆtokenæ—¶ä¸€å®šè¦å‹¾é€‰repoå’Œworkflowã€‚</p><p>ç„¶åï¼Œä½¿ç”¨æ–°çš„tokenå†æ¬¡pushå³å¯ã€‚ä¿®æ”¹tokençš„æ–¹æ³•å‚è€ƒæ–‡æ¡£<a href="https://www.voidking.com/dev-git/command/">ã€ŠGitå®ç”¨å‘½ä»¤ã€‹</a>ã€‚</p><p>4ã€æŸ¥çœ‹Actions<br>è®¿é—®<a target="_blank" rel="noopener" href="https://github.com/voidking/hexo-deploy/actions">voidking/hexo-deploy Actions</a>é¡µé¢ï¼Œå³å¯çœ‹åˆ°CI workflowsï¼ˆç›¸å½“äºgitlabä¸­çš„pipelinesï¼‰ã€‚</p><h1 id="Hexoé…ç½®GitHub-Actions"><a href="#Hexoé…ç½®GitHub-Actions" class="headerlink" title="Hexoé…ç½®GitHub Actions"></a>Hexoé…ç½®GitHub Actions</h1><p>å‚è€ƒæ–‡æ¡£ï¼š</p><ul><li><a target="_blank" rel="noopener" href="https://docs.github.com/en/actions">GitHub Actions</a></li><li><a target="_blank" rel="noopener" href="https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions">Workflow syntax for GitHub Actions</a></li><li><a target="_blank" rel="noopener" href="https://github.com/marketplace/actions/hexo-action">Hexo Action</a></li><li><a target="_blank" rel="noopener" href="https://sanonz.github.io/2020/deploy-a-hexo-blog-from-github-actions/">åˆ©ç”¨ Github Actions è‡ªåŠ¨éƒ¨ç½² Hexo åšå®¢</a></li><li><a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2019/12/github_actions.html">GitHub Actions æ•™ç¨‹ï¼šå®šæ—¶å‘é€å¤©æ°”é‚®ä»¶</a></li></ul><h2 id="CICDæ€è·¯"><a href="#CICDæ€è·¯" class="headerlink" title="CICDæ€è·¯"></a>CICDæ€è·¯</h2><ol><li>æ‹‰å–è´Ÿè´£éƒ¨ç½²çš„hexo-deploy repoï¼Œé‡Œé¢æ˜¯hexoçš„é…ç½®æ–‡ä»¶ï¼ˆå…³äºç«™ç‚¹é…ç½®å’Œæ„å»ºé…ç½®ç­‰ï¼‰</li><li>æ‹‰å–hexo theme repoï¼Œé‡Œé¢æ˜¯ç«™ç‚¹ä¸»é¢˜</li><li>æ‹‰å–hexo-backup repoï¼Œé‡Œé¢æ˜¯markdownæ–‡æ¡£</li><li>hexo-backupä¸­çš„æ–‡æ¡£æ”¾åˆ°hexoå¯ä»¥æ„å»ºï¼ˆç¼–è¯‘ï¼‰çš„ä½ç½®</li><li>å®‰è£…nodejs</li><li>å®‰è£…hexoã€gulpç­‰ä¾èµ–</li><li>æ‰§è¡Œæ„å»ºï¼ˆç¼–è¯‘ï¼‰</li><li>ä¸Šä¼ ç¼–è¯‘åçš„htmlç­‰é™æ€æ–‡ä»¶åˆ°ä¸¤ä¸ªpages repo<br>a. github pagesæ˜¯å›½å¤–æµé‡çš„æºç«™<br>b. aliyun serveræ˜¯å›½å†…æµé‡çš„æºç«™<br>c. aliyun serverä»gitee pagesæ‹‰å–æœ€æ–°ç‰ˆæœ¬<br>d. gitee pagesæœ¬èº«ä¸å¯¹å¤–æä¾›æœåŠ¡ï¼Œåªæ˜¯ä½œä¸ºä¸€ä¸ªgitä»“åº“</li><li>aliyun serverä»gitee pagesæ‹‰å–æœ€æ–°ç‰ˆæœ¬</li></ol><h2 id="å‡†å¤‡github-actions-yml"><a href="#å‡†å¤‡github-actions-yml" class="headerlink" title="å‡†å¤‡github-actions.yml"></a>å‡†å¤‡github-actions.yml</h2><p>github-actions.ymlå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Hexo</span> <span class="string">CICD</span></span><br><span class="line"><span class="attr">run-name:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.actor</span> <span class="string">&#125;&#125;</span> <span class="string">build</span> <span class="string">and</span> <span class="string">deploy</span> <span class="string">hexo!</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">github-actions</span></span><br><span class="line"></span><br><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="attr">GIT_USER:</span> <span class="string">voidking</span></span><br><span class="line">  <span class="attr">HEXO_BACKUP_REPO:</span> <span class="string">voidking/hexo-backup</span></span><br><span class="line">  <span class="attr">HEXO_BACKUP_REPO_BRANCH:</span> <span class="string">master</span></span><br><span class="line">  <span class="attr">HEXO_THEME_REPO:</span> <span class="string">voidking/hexo-theme-next</span></span><br><span class="line">  <span class="attr">HEXO_THEME_REPO_BRANCH:</span> <span class="string">root</span></span><br><span class="line">  <span class="attr">GITHUB_PAGES_REPO:</span> <span class="string">github.com/voidking/voidking.github.io.git</span></span><br><span class="line">  <span class="attr">GITEE_PAGES_REPO:</span> <span class="string">gitee.com/voidking/voidking.git</span></span><br><span class="line">  <span class="attr">GITHUB_PAGES_URL:</span> <span class="string">&quot;https://$&#123;GIT_USER&#125;:$<span class="template-variable">&#123;&#123; secrets.GH_TOKEN &#125;&#125;</span>@$&#123;GITHUB_PAGES_REPO&#125;&quot;</span></span><br><span class="line">  <span class="attr">GITEE_PAGES_URL:</span> <span class="string">&quot;https://$&#123;GIT_USER&#125;:$<span class="template-variable">&#123;&#123; secrets.GITEE_TOKEN &#125;&#125;</span>@$&#123;GITEE_PAGES_REPO&#125;&quot;</span></span><br><span class="line">  <span class="attr">ALI_IP:</span> <span class="number">8.136</span><span class="number">.13</span><span class="number">.58</span></span><br><span class="line">  <span class="attr">ALI_USER:</span> <span class="string">voidking</span></span><br><span class="line">  </span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">Build</span> <span class="string">on</span> <span class="string">node</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node_version</span> <span class="string">&#125;&#125;</span> <span class="string">and</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.os</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">strategy:</span></span><br><span class="line">      <span class="attr">matrix:</span></span><br><span class="line">        <span class="attr">os:</span> [<span class="string">ubuntu-latest</span>]</span><br><span class="line">        <span class="attr">node_version:</span> [<span class="number">12.22</span><span class="number">.5</span>]</span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">repo</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">theme</span> <span class="string">repo</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">repository:</span> <span class="string">$&#123;&#123;</span> <span class="string">env.HEXO_THEME_REPO</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">ref:</span> <span class="string">$&#123;&#123;</span> <span class="string">env.HEXO_THEME_REPO_BRANCH</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">themes/next</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">hexo-backup</span> <span class="string">repo</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">repository:</span> <span class="string">$&#123;&#123;</span> <span class="string">env.HEXO_BACKUP_REPO</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">ref:</span> <span class="string">$&#123;&#123;</span> <span class="string">env.HEXO_BACKUP_REPO_BRANCH</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">hexo-backup</span></span><br><span class="line">        <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GH_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Move</span> <span class="string">markdown</span> <span class="string">articles</span> <span class="string">to</span> <span class="string">current</span> <span class="string">directory</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">mv</span> <span class="string">hexo-backup/source</span> <span class="string">.</span> <span class="string">&amp;&amp;</span> <span class="string">rm</span> <span class="string">-rf</span> <span class="string">source/private</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">nodejs</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node_version</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/setup-node@v3</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">node-version:</span> <span class="string">$&#123;&#123;</span> <span class="string">matrix.node_version</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">nodejs</span> <span class="string">dependencies</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Build</span> <span class="string">nodejs</span> <span class="string">project</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">build</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Push</span> <span class="string">to</span> <span class="string">voidking.github.io</span> <span class="string">and</span> <span class="string">gitee</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        git config --global user.name &quot;voidking&quot;</span></span><br><span class="line"><span class="string">        git config --global user.email &quot;voidking@qq.com&quot;</span></span><br><span class="line"><span class="string">        git clone https://$&#123;&#123; secrets.GH_TOKEN &#125;&#125;@$&#123;&#123; env.GITHUB_PAGES_REPO &#125;&#125; voidking</span></span><br><span class="line"><span class="string">        cd voidking</span></span><br><span class="line"><span class="string">        rm -rfv `ls -a | grep -vw &#x27;\.&#x27; | grep -vw &#x27;\.git&#x27; | xargs`</span></span><br><span class="line"><span class="string">        ls -al</span></span><br><span class="line"><span class="string">        # unalias cp </span></span><br><span class="line"><span class="string">        cp -rf ../public/. .</span></span><br><span class="line"><span class="string">        cp ../source/.travis.yml .</span></span><br><span class="line"><span class="string">        git add . &amp;&amp; git commit -m &quot;GitHub Actions Auto Builder&quot;</span></span><br><span class="line"><span class="string">        git push --force --quiet $&#123;&#123; env.GITHUB_PAGES_URL &#125;&#125; master:master</span></span><br><span class="line"><span class="string">        git push --force --quiet $&#123;&#123; env.GITEE_PAGES_URL &#125;&#125; master:master</span></span><br><span class="line"><span class="string"></span>  </span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">Aliyun</span> <span class="string">Server</span></span><br><span class="line">    <span class="attr">needs:</span> <span class="string">build</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Configure</span> <span class="string">id_rsa</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        mkdir -p ~/.ssh/</span></span><br><span class="line"><span class="string">        echo $&#123;&#123; secrets.ID_RSA &#125;&#125; | base64 -d &gt; ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">        chmod 600 ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string"></span>    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Execute</span> <span class="string">ssh</span> <span class="string">command</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        ssh -o StrictHostKeyChecking=no \</span></span><br><span class="line"><span class="string">        -o PubkeyAcceptedKeyTypes=ssh-rsa \</span></span><br><span class="line"><span class="string">        $&#123;&#123; env.ALI_USER &#125;&#125;@$&#123;&#123; env.ALI_IP &#125;&#125; \</span></span><br><span class="line"><span class="string">        &quot;cd /opt/nginx/work/voidking/ &amp;&amp; git pull --force --quiet $&#123;&#123; env.GITEE_PAGES_URL &#125;&#125; master:master&quot;</span></span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ul><li>github actionä¸­å®šä¹‰å˜é‡æœ‰ä¸‰ç§æ–¹å¼ï¼švarsã€secretså’Œenvã€‚</li><li>vars/secretsåœ¨workflowè§¦å‘å‰å®šä¹‰ï¼Œenvåœ¨workflowè§¦å‘åå®šä¹‰ã€‚</li><li><code>$&#123;&#123;&#125;&#125;</code>åŒèŠ±æ‹¬å·è¡¨ç¤ºä¸Šä¸‹æ–‡å¼•ç”¨ï¼Œè¯¦æƒ…å‚è€ƒContext availability](<a target="_blank" rel="noopener" href="https://docs.github.com/en/actions/learn-github-actions/contexts#context-availability)%E3%80%82">https://docs.github.com/en/actions/learn-github-actions/contexts#context-availability)ã€‚</a></li><li><code>$&#123;&#125;</code>å•èŠ±æ‹¬å·è¡¨ç¤ºshellæ–¹å¼ä½¿ç”¨ä¸­envå˜é‡ã€‚</li><li>ä½¿ç”¨envä¸­çš„å˜é‡æœ‰ä¸¤ç§æ–¹å¼ï¼šä¸Šä¸‹æ–‡å¼•ç”¨å’Œshellæ–¹å¼ä½¿ç”¨ã€‚</li></ul><h2 id="é…ç½®åŠ å¯†å˜é‡"><a href="#é…ç½®åŠ å¯†å˜é‡" class="headerlink" title="é…ç½®åŠ å¯†å˜é‡"></a>é…ç½®åŠ å¯†å˜é‡</h2><p>ä¸Šé¢çš„workflowé…ç½®ä¸­ï¼Œç”¨åˆ°äº†ä¸€äº›æ•æ„Ÿå˜é‡ï¼ŒGH_TOKENã€GITEE_TOKENå’ŒID_RSAï¼Œè¿™äº›å˜é‡éœ€è¦åŠ å¯†ã€‚</p><p>é…ç½®åŠ å¯†å˜é‡çš„æ–¹æ³•ï¼š</p><ul><li>repositoryçº§åˆ«å˜é‡ï¼šProject -&gt; Settings -&gt; Actions secrets and variables -&gt; New repository secret</li><li>environmentsçº§åˆ«å˜é‡ï¼šProject -&gt; Settings -&gt; Actions secrets and variables -&gt; Manage enviroments -&gt; New enviroment -&gt; Environment secrets -&gt; Add secret</li></ul><p>å…¶ä¸­ID_RSAçš„è·å–æ–¹æ³•ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br><span class="line">ALI_IP=<span class="string">&quot;8.136.13.58&quot;</span></span><br><span class="line">ssh-copy-id -i ~/.ssh/id_rsa.pub voidking@<span class="variable">$&#123;ALI_IP&#125;</span></span><br><span class="line"><span class="built_in">cat</span> .ssh/id_rsa | <span class="built_in">base64</span> | <span class="built_in">tr</span> -d <span class="string">&#x27;\n&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="CICDæµ‹è¯•"><a href="#CICDæµ‹è¯•" class="headerlink" title="CICDæµ‹è¯•"></a>CICDæµ‹è¯•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;github action test&quot;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><p>è®¿é—®<a target="_blank" rel="noopener" href="https://github.com/voidking/hexo-deploy/actions">voidking/hexo-deploy Actions</a>é¡µé¢ï¼Œå³å¯çœ‹åˆ°æœ€æ–°çš„workflowã€‚<br>æœ€å¼€å§‹éš¾å…å‡ºé”™ï¼Œæ ¹æ®æŠ¥é”™è¿›è¡Œè°ƒæ•´å³å¯ã€‚</p><p>æœ€ç»ˆï¼Œå®ç°äº†å’Œtravis ciä¸Šä¸€æ ·çš„åŠŸèƒ½ï¼Œniceã€‚</p><h1 id="è¸©å‘è®°å½•"><a href="#è¸©å‘è®°å½•" class="headerlink" title="è¸©å‘è®°å½•"></a>è¸©å‘è®°å½•</h1><h2 id="envä¸èƒ½ç”¨åœ¨job-if"><a href="#envä¸èƒ½ç”¨åœ¨job-if" class="headerlink" title="envä¸èƒ½ç”¨åœ¨job:if"></a>envä¸èƒ½ç”¨åœ¨job:if</h2><p>å½“ä½¿ç”¨job:ifæ—¶ï¼Œå¦‚ä¸‹å®šä¹‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="attr">BUILD:</span> <span class="string">&quot;false&quot;</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">Build</span></span><br><span class="line">    <span class="attr">if:</span> <span class="string">$&#123;&#123;</span> <span class="string">env.BUILD</span> <span class="string">==</span> <span class="string">&quot;true&quot;</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br></pre></td></tr></table></figure><p>æŠ¥é”™ï¼š Unrecognized named-value: â€˜envâ€™. Located at position 1 within expression: env.BUILD == â€œtrueâ€ .github/workflows/github-actions.yml</p><p>è¿™æ˜¯ä¸ªgithub actionçš„å‘ï¼Œå‚è€ƒæ–‡æ¡£ï¼š</p><ul><li><a target="_blank" rel="noopener" href="https://github.com/actions/runner/issues/480">Workflow level env does not work properly in all fields.</a></li><li><a target="_blank" rel="noopener" href="https://github.com/actions/runner/issues/1661">workflow level env. is unrecognised on job levelâ€™s â€˜ifâ€™-expression when calling reusable workflow</a></li></ul><h2 id="workflow-dispatchæ— æ•ˆ"><a href="#workflow-dispatchæ— æ•ˆ" class="headerlink" title="workflow_dispatchæ— æ•ˆ"></a>workflow_dispatchæ— æ•ˆ</h2><p>å½“ä½¿ç”¨job:ifæ—¶ï¼Œå¦‚ä¸‹å®šä¹‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">workflow_dispatch:</span></span><br><span class="line">    <span class="attr">inputs:</span></span><br><span class="line">      <span class="attr">build:</span></span><br><span class="line">        <span class="attr">description:</span> <span class="string">&quot;build project&quot;</span></span><br><span class="line">        <span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">default:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">boolean</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">Build</span></span><br><span class="line">    <span class="attr">if:</span> <span class="string">$&#123;&#123;</span> <span class="string">inputs.build</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br></pre></td></tr></table></figure><p>æ— æ³•è§¦å‘build jobã€‚</p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>æœ¬æ–‡ä½œè€…ï¼š</strong> å¥½å¥½å­¦ä¹ çš„éƒ</li><li class="post-copyright-link"> <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://www.voidking.com/dev-hexo-github-actions/" title="Hexoé…ç½®GitHub Actionsè‡ªåŠ¨æ„å»ºå‘å¸ƒ">https://www.voidking.com/dev-hexo-github-actions/</a></li><li class="post-copyright-license"> <strong>ç‰ˆæƒå£°æ˜ï¼š</strong> æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼æºç«™ä¼šåŠæ—¶æ›´æ–°çŸ¥è¯†ç‚¹åŠä¿®æ­£é”™è¯¯ï¼Œé˜…è¯»ä½“éªŒä¹Ÿæ›´å¥½ã€‚æ¬¢è¿åˆ†äº«ï¼Œæ¬¢è¿æ”¶è—~</li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/" rel="tag"># é—®é¢˜æ’æŸ¥</a> <a href="/tags/git/" rel="tag"># git</a> <a href="/tags/cicd/" rel="tag"># cicd</a> <a href="/tags/hexo/" rel="tag"># hexo</a> <a href="/tags/travis-ci/" rel="tag"># travis-ci</a> <a href="/tags/github-actions/" rel="tag"># github-actions</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-centos8-change-repo/" rel="prev" title="CentOS8æ›´æ¢è½¯ä»¶å®‰è£…æº"><i class="fa fa-chevron-left"></i> CentOS8æ›´æ¢è½¯ä»¶å®‰è£…æº</a></div><div class="post-nav-item"></div></div></footer></article></div></div><div class="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zODU3Mi8xNTEwMA=="></div></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> æ–‡ç« ç›®å½•</li><li class="sidebar-nav-overview"> ç«™ç‚¹æ¦‚è§ˆ</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#travis-ci%E5%BF%85%E9%A1%BB%E4%BB%98%E8%B4%B9%E4%BA%86"><span class="nav-number">1.</span> <span class="nav-text">travis ciå¿…é¡»ä»˜è´¹äº†</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Quickstart-for-GitHub-Actions"><span class="nav-number">2.</span> <span class="nav-text">Quickstart for GitHub Actions</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Hexo%E9%85%8D%E7%BD%AEGitHub-Actions"><span class="nav-number">3.</span> <span class="nav-text">Hexoé…ç½®GitHub Actions</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#CICD%E6%80%9D%E8%B7%AF"><span class="nav-number">3.1.</span> <span class="nav-text">CICDæ€è·¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%86%E5%A4%87github-actions-yml"><span class="nav-number">3.2.</span> <span class="nav-text">å‡†å¤‡github-actions.yml</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E5%8A%A0%E5%AF%86%E5%8F%98%E9%87%8F"><span class="nav-number">3.3.</span> <span class="nav-text">é…ç½®åŠ å¯†å˜é‡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CICD%E6%B5%8B%E8%AF%95"><span class="nav-number">3.4.</span> <span class="nav-text">CICDæµ‹è¯•</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95"><span class="nav-number">4.</span> <span class="nav-text">è¸©å‘è®°å½•</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#env%E4%B8%8D%E8%83%BD%E7%94%A8%E5%9C%A8job-if"><span class="nav-number">4.1.</span> <span class="nav-text">envä¸èƒ½ç”¨åœ¨job:if</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#workflow-dispatch%E6%97%A0%E6%95%88"><span class="nav-number">4.2.</span> <span class="nav-text">workflow_dispatchæ— æ•ˆ</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="å¥½å¥½å­¦ä¹ çš„éƒ" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">å¥½å¥½å­¦ä¹ çš„éƒ</p><div class="site-description" itemprop="description">å­¦è€Œä¸æ€åˆ™ç½”ï¼Œæ€è€Œä¸å­¦åˆ™æ®†ï¼</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">630</span> <span class="site-state-item-name">æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">233</span> <span class="site-state-item-name">æ ‡ç­¾</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail â†’ mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo â†’ http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu â†’ https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 â€“ <span itemprop="copyrightYear">2023</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">å¥½å¥½å­¦ä¹ çš„éƒ</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="æ€»è®¿å®¢é‡"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="æ€»è®¿é—®é‡"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">è‹ICPå¤‡14021030å·</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">è‹å…¬ç½‘å®‰å¤‡ 32032202000223å·</a></div></div></footer><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={iconStyle:"box",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions),flOptions={iconStyle:"box",boxForm:"horizontal",position:"topRight",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-float",flOptions)</script><script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  // window.livereOptions = {
  //   refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  // };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script></body></html>