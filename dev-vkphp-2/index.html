<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu.cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="目标本篇，我们来实现加载控制器、数据查询和页面渲染。"><meta property="og:type" content="article"><meta property="og:title" content="好好学PHP：从零开始打造自己的PHP框架――第2章"><meta property="og:url" content="https://www.voidking.com/dev-vkphp-2/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="目标本篇，我们来实现加载控制器、数据查询和页面渲染。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2017-08-30T12:00:00.000Z"><meta property="article:modified_time" content="2017-08-30T12:00:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="php"><meta property="article:tag" content="好好学PHP"><meta property="article:tag" content="框架"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-vkphp-2/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>好好学PHP：从零开始打造自己的PHP框架――第2章 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-vkphp-2/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 好好学PHP：从零开始打造自己的PHP框架――第2章</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2017-08-30 12:00:00" itemprop="dateCreated datePublished" datetime="2017-08-30T12:00:00+00:00">2017-08-30</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/php/" itemprop="url" rel="index"><span itemprop="name">php</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="目标"><span class="post-title-index">1.</span><a href="#目标" class="headerlink" title="目标"></a> 目标</h1><p>本篇，我们来实现加载控制器、数据查询和页面渲染。</p><span id="more"></span><h1 id="加载控制器"><span class="post-title-index">2.</span><a href="#加载控制器" class="headerlink" title="加载控制器"></a> 加载控制器</h1><h2 id="控制器"><span class="post-title-index">2.1.</span><a href="#控制器" class="headerlink" title="控制器"></a> 控制器</h2><p>在app目录下，新建ctrl目录，ctrl目录下新建indexCtrl.php文件，内容如下：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">app</span>\<span class="title class_">ctrl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">indexCtrl</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;index ctrl&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="调用控制器"><span class="post-title-index">2.2.</span><a href="#调用控制器" class="headerlink" title="调用控制器"></a> 调用控制器</h2><p>在根目录下的index.php文件中，继续添加：</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">include CORE.<span class="string">&#x27;/autoload.php&#x27;</span>;</span><br><span class="line">spl_autoload_register(<span class="string">&#x27;\core\autoload::load&#x27;</span>);</span><br><span class="line"><span class="variable">$route</span> = <span class="keyword">new</span> <span class="type"></span>\core\route();</span><br><span class="line"></span><br><span class="line"><span class="variable">$ctrl</span> = <span class="variable">$route</span>-&gt;ctrl;</span><br><span class="line"><span class="variable">$action</span> = <span class="variable">$route</span>-&gt;action;</span><br><span class="line"><span class="variable">$params</span> = <span class="variable">$route</span>-&gt;params;</span><br><span class="line"><span class="variable">$ctrl_file</span> = APP.<span class="string">&#x27;/ctrl/&#x27;</span>.<span class="variable">$ctrl</span>.<span class="string">&#x27;Ctrl.php&#x27;</span>;</span><br><span class="line"><span class="variable">$ctrl_class</span> = <span class="string">&#x27;\\app\\ctrl\\&#x27;</span>.<span class="variable">$ctrl</span>.<span class="string">&#x27;Ctrl&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span>(is_file(<span class="variable">$ctrl_file</span>))&#123;</span><br><span class="line">    include <span class="variable">$ctrl_file</span>;</span><br><span class="line">    <span class="variable">$ctrl_obj</span> = <span class="keyword">new</span> <span class="type"></span>$ctrl_class;</span><br><span class="line">    <span class="variable">$ctrl_obj</span>-&gt;<span class="variable">$action</span>();</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type"></span>\Exception(<span class="string">&#x27;找不到控制器&#x27;</span>.<span class="variable">$ctrl_file</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>访问地址 <a target="_blank" rel="noopener" href="http://vkphp.dev/">http://vkphp.dev</a> ，即可看到“index ctrl”。</p><h1 id="数据查询"><span class="post-title-index">3.</span><a href="#数据查询" class="headerlink" title="数据查询"></a> 数据查询</h1><p>1、在mysql中，新建数据库vkphp。</p><p>2、在vkphp数据库中，新建表vk_user，字段包括id、username和password。</p><p>3、在common文件夹下，新建db.php，内容如下：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">core</span>\<span class="title class_">common</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">db</span> <span class="keyword">extends</span> \<span class="title">PDO</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="variable">$dsn</span> = <span class="string">&#x27;mysql:host=localhost;dbname=vkphp&#x27;</span>;</span><br><span class="line">        <span class="variable">$username</span> = <span class="string">&#x27;root&#x27;</span>;</span><br><span class="line">        <span class="variable">$passwd</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="built_in">parent</span>::<span class="title function_ invoke__">__construct</span>(<span class="variable">$dsn</span>,<span class="variable">$username</span>,<span class="variable">$passwd</span>);</span><br><span class="line">            <span class="comment">// echo &#x27;database connect success&#x27;;</span></span><br><span class="line">        &#125;<span class="keyword">catch</span> (\<span class="built_in">Exception</span> <span class="variable">$e</span>)&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="variable">$e</span>-&gt;<span class="title function_ invoke__">getMessage</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4、在indexCtrl.php中，添加：</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_"><span class="keyword">function</span> <span class="title">data</span></span>()&#123;</span><br><span class="line">    <span class="variable">$db</span> = <span class="keyword">new</span> <span class="type"></span>\core\common\db();</span><br><span class="line">    <span class="variable">$sql</span> = <span class="string">&#x27;select * from vk_user&#x27;</span>;</span><br><span class="line">    <span class="variable">$result</span> = <span class="variable">$db</span>-&gt;query(<span class="variable">$sql</span>);</span><br><span class="line">    p(<span class="variable">$result</span>);</span><br><span class="line">    p(<span class="variable">$result</span>-&gt;fetchAll());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>访问地址 <a target="_blank" rel="noopener" href="http://vkphp.dev/index/data">http://vkphp.dev/index/data</a> ，即可看到从数据库中查询出的数据。</p><h1 id="页面渲染"><span class="post-title-index">4.</span><a href="#页面渲染" class="headerlink" title="页面渲染"></a> 页面渲染</h1><p>页面渲染，主要有两部分工作：赋值和显示。我们需要实现两个函数：assign和display。</p><p>1、在app目录下新建view目录，view目录下新建index目录，index目录中新建render.html，内容如下：</p><figure class="highlight php-template"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Render<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>第一个视图<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>用户名：</span><span class="language-php"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="variable">$username</span>; <span class="meta">?&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>2、在core目录中，添加render.php，内容如下：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">core</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">render</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$params</span> = <span class="keyword">array</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">assign</span>(<span class="params"><span class="variable">$name</span>,<span class="variable">$value</span></span>)</span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;params[<span class="variable">$name</span>] = <span class="variable">$value</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params"><span class="variable">$file</span></span>)</span>&#123;</span><br><span class="line">        <span class="variable">$file</span> = APP.<span class="string">&#x27;/view/&#x27;</span>.<span class="variable">$file</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="title function_ invoke__">is_file</span>(<span class="variable">$file</span>))&#123;</span><br><span class="line">            <span class="title function_ invoke__">extract</span>(<span class="variable">$this</span>-&gt;params); <span class="comment">//把数组变成变量</span></span><br><span class="line">            <span class="keyword">include</span> <span class="variable">$file</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、修改indexCtrl.php如下：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">app</span>\<span class="title class_">ctrl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">indexCtrl</span> <span class="keyword">extends</span> \<span class="title">core</span>\<span class="title">render</span></span>&#123;</span><br><span class="line">    <span class="comment">// 其他</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">assign</span>(<span class="string">&#x27;username&#x27;</span>,<span class="string">&#x27;voidking&#x27;</span>);</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">display</span>(<span class="string">&#x27;index/render.html&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>访问地址 <a target="_blank" rel="noopener" href="http://vkphp.dev/index/render">http://vkphp.dev/index/render</a> ，即可看到渲染出的页面。</p><h1 id="页面渲染进阶"><span class="post-title-index">5.</span><a href="#页面渲染进阶" class="headerlink" title="页面渲染进阶"></a> 页面渲染进阶</h1><p>直接在页面echo，难以体现水平，我们来安装一个模板引擎――smarty。</p><h2 id="命名空间"><span class="post-title-index">5.1.</span><a href="#命名空间" class="headerlink" title="命名空间"></a> 命名空间</h2><p>接下来smarty的使用，牵涉到命名空间这个知识点，在此学习一下。</p><p>首先声明：命名空间和文件路径没有关系，没有关系，没有关系！虽然，在使用命名空间时经常参考文件路径，但是，它们没有必然关系。</p><p>命名空间的作用：解决重名问题。不同的命名空间中，可以存在相同类名和函数名。我们在使用一个类和函数时，必须明确指出使用的是哪一个命名空间中的类和函数。</p><p>上文我们说到，在文件系统中访问一个文件有三种方式，PHP命名空间中的元素使用同样的原理。例如，类名可以通过三种方式引用：</p><p>1、非限定名称，或不包含前缀的类名称，例如 <code>$a=new foo();</code> 或 <code>foo::staticmethod();</code> 。如果当前命名空间是 currentnamespace，foo 将被解析为 <code>\currentnamespace\foo</code> ；如果当前没有指定命名空间，则foo会被解析为 <code>\foo</code>。<br>2、限定名称，或包含前缀的名称，例如 <code>$a = new subnamespace\foo();</code> 或 <code>subnamespace\foo::staticmethod();</code> 。如果当前的命名空间是 currentnamespace，则 foo 会被解析为 <code>\currentnamespace\subnamespace\foo</code> ；如果当前没有指定命名空间，foo 会被解析为<code>\subnamespace\foo</code>。<br>3、完全限定名称，或包含了全局前缀操作符的名称，例如，<code>$a = new \currentnamespace\foo();</code> 或 <code>\currentnamespace\foo::staticmethod();</code>。在这种情况下，foo 总是被解析为代码中的文字名(literal name) <code>\currentnamespace\foo</code>。</p><p>下面举个栗子：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">A</span>\<span class="title class_">B</span>\<span class="title class_">C</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Exception</span> <span class="keyword">extends</span> \<span class="title">Exception</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span> = <span class="keyword">new</span> <span class="built_in">Exception</span>(<span class="string">&#x27;hi&#x27;</span>); <span class="comment">// $a 是类 A\B\C\Exception 的一个对象</span></span><br><span class="line"><span class="variable">$b</span> = <span class="keyword">new</span> <span class="title class_">\Exception</span>(<span class="string">&#x27;hi&#x27;</span>); <span class="comment">// $b 是类 Exception 的一个对象</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$c</span> = <span class="keyword">new</span> <span class="built_in">ArrayObject</span>; <span class="comment">// 致命错误, 找不到 A\B\C\ArrayObject 类</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h2 id="下载安装smarty"><span class="post-title-index">5.2.</span><a href="#下载安装smarty" class="headerlink" title="下载安装smarty"></a> 下载安装smarty</h2><p>1、访问<a target="_blank" rel="noopener" href="https://www.smarty.net/download">smarty官方下载</a> ，下载smarty，郝同学下载的是3.1.30版本。</p><p>2、在根目录下新建lib，解压smarty到lib目录下，重命名文件夹为smarty。</p><h2 id="使用smarty"><span class="post-title-index">5.3.</span><a href="#使用smarty" class="headerlink" title="使用smarty"></a> 使用smarty</h2><p>1、在app目录下新建smarty目录，smarty目录下新建templates、template_c、configs、cache四个目录。</p><p>2、在templates目录下新建index目录，index目录中新建render2.html，内容如下：</p><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Smarty<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>第一个Smarty页面<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>用户名：</span><span class="template-variable">&#123;&#123;<span class="name">$username</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>3、修改core目录下的render.php如下：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">core</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">render</span></span>&#123;   </span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$smarty</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">require_once</span>(LIB.<span class="string">&#x27;/smarty/libs/Smarty.class.php&#x27;</span>);</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;smarty = <span class="keyword">new</span> <span class="title class_">\Smarty</span>();</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">$this</span>-&gt;smarty-&gt;<span class="title function_ invoke__">setTemplateDir</span>(APP.<span class="string">&#x27;/smarty/templates/&#x27;</span>);</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;smarty-&gt;<span class="title function_ invoke__">setCompileDir</span>(APP.<span class="string">&#x27;/smarty/templates_c/&#x27;</span>);</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;smarty-&gt;<span class="title function_ invoke__">setConfigDir</span>(APP.<span class="string">&#x27;/smarty/configs/&#x27;</span>);</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;smarty-&gt;<span class="title function_ invoke__">setCacheDir</span>(APP.<span class="string">&#x27;/smarty/cache/&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$params</span> = <span class="keyword">array</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">assign</span>(<span class="params"><span class="variable">$name</span>,<span class="variable">$value</span></span>)</span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;params[<span class="variable">$name</span>] = <span class="variable">$value</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params"><span class="variable">$file</span></span>)</span>&#123;</span><br><span class="line">        <span class="variable">$file</span> = APP.<span class="string">&#x27;/view/&#x27;</span>.<span class="variable">$file</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="title function_ invoke__">is_file</span>(<span class="variable">$file</span>))&#123;</span><br><span class="line">            <span class="title function_ invoke__">extract</span>(<span class="variable">$this</span>-&gt;params); <span class="comment">//把数组变成变量</span></span><br><span class="line">            <span class="keyword">include</span> <span class="variable">$file</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4、修改indexCtrl.php如下：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">app</span>\<span class="title class_">ctrl</span>;</span><br><span class="line"><span class="keyword">include</span> CORE.<span class="string">&#x27;/render.php&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">indexCtrl</span> <span class="keyword">extends</span> \<span class="title">render</span></span>&#123;</span><br><span class="line">    <span class="comment">// 其他</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">render2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;smarty-&gt;<span class="title function_ invoke__">assign</span>(<span class="string">&#x27;username&#x27;</span>,<span class="string">&#x27;voidking&#x27;</span>);</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;smarty-&gt;<span class="title function_ invoke__">display</span>(<span class="string">&#x27;index/render2.html&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>访问地址 <a target="_blank" rel="noopener" href="http://vkphp.dev/index/render2">http://vkphp.dev/index/render2</a> ，即可看到渲染出的页面。</p><h1 id="源码分享"><span class="post-title-index">6.</span><a href="#源码分享" class="headerlink" title="源码分享"></a> 源码分享</h1><p><a target="_blank" rel="noopener" href="https://github.com/voidking/vkphp/releases/tag/v1.2.0">https://github.com/voidking/vkphp/releases/tag/v1.2.0</a></p><h1 id="书签"><span class="post-title-index">7.</span><a href="#书签" class="headerlink" title="书签"></a> 书签</h1><p><a target="_blank" rel="noopener" href="http://www.imooc.com/learn/696">从零开始打造自己的PHP框架</a></p><p><a target="_blank" rel="noopener" href="http://php.net/manual/zh/language.namespaces.basics.php">使用命名空间：基础</a></p><p><a target="_blank" rel="noopener" href="http://php.net/manual/zh/language.namespaces.fallback.php">使用命名空间：后备全局函数/常量</a></p><p><a target="_blank" rel="noopener" href="https://www.smarty.net/docs/zh_CN/installing.smarty.basic.tpl">smarty基础安装</a></p><p><a target="_blank" rel="noopener" href="https://www.smarty.net/docs/zh_CN/installing.smarty.extended.tpl">smarty进阶安装</a></p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-vkphp-2/" title="好好学PHP：从零开始打造自己的PHP框架――第2章">https://www.voidking.com/dev-vkphp-2/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li><li> <img width="200" height="200" src="/images/avatar.jpg"><p style="text-align:center;margin-bottom:0">微信公众号同步更新，欢迎关注~</p></li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/php/" rel="tag"># php</a> <a href="/tags/%E5%A5%BD%E5%A5%BD%E5%AD%A6PHP/" rel="tag"># 好好学PHP</a> <a href="/tags/%E6%A1%86%E6%9E%B6/" rel="tag"># 框架</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-vkphp-1/" rel="prev" title="好好学PHP：从零开始打造自己的PHP框架——第1章"><i class="fa fa-chevron-left"></i> 好好学PHP：从零开始打造自己的PHP框架——第1章</a></div><div class="post-nav-item"> <a href="/hobby-ps-seal-cutout/" rel="next" title="PS盖章抠图">PS盖章抠图<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%9B%AE%E6%A0%87"><span class="nav-text">1. 目标</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8A%A0%E8%BD%BD%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-text">2. 加载控制器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-text">2.1. 控制器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B0%83%E7%94%A8%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-text">2.2. 调用控制器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2"><span class="nav-text">3. 数据查询</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93"><span class="nav-text">4. 页面渲染</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E8%BF%9B%E9%98%B6"><span class="nav-text">5. 页面渲染进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-text">5.1. 命名空间</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85smarty"><span class="nav-text">5.2. 下载安装smarty</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8smarty"><span class="nav-text">5.3. 使用smarty</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%BA%90%E7%A0%81%E5%88%86%E4%BA%AB"><span class="nav-text">6. 源码分享</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B9%A6%E7%AD%BE"><span class="nav-text">7. 书签</span></a></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">721</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">254</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: 'ae175e2dc52d7843e0aed7048cb98ef8',
      title: '好好学PHP：从零开始打造自己的PHP框架――第2章',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>