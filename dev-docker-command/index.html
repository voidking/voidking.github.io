<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu-cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言本文记录Docker常用命令，备忘。 参考文档：  什么是Docker? docker入门教程 Docker入门实战 中国第一套Docker实战案例视频课程（入门到高级） Docker实战案例源码 Docker实战案例文档"><meta property="og:type" content="article"><meta property="og:title" content="好好学Docker：Docker常用命令"><meta property="og:url" content="https://www.voidking.com/dev-docker-command/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言本文记录Docker常用命令，备忘。 参考文档：  什么是Docker? docker入门教程 Docker入门实战 中国第一套Docker实战案例视频课程（入门到高级） Docker实战案例源码 Docker实战案例文档"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://cdn.voidking.com/img/docker-start/search.png?imageView2/0/w/800"><meta property="og:image" content="http://cdn.voidking.com/img/docker-start/tag.png?imageView2/0/w/800"><meta property="og:image" content="http://cdn.voidking.com/img/docker-start/pull.png?imageView2/0/w/800"><meta property="og:image" content="http://cdn.voidking.com/img/docker-start/exec.png?imageView2/0/w/800"><meta property="article:published_time" content="2017-05-08T15:00:00.000Z"><meta property="article:modified_time" content="2025-01-04T08:00:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="docker"><meta property="article:tag" content="好好学Docker"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://cdn.voidking.com/img/docker-start/search.png?imageView2/0/w/800"><link rel="canonical" href="https://www.voidking.com/dev-docker-command/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>好好学Docker：Docker常用命令 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-docker-command/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 好好学Docker：Docker常用命令</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2017-05-08 15:00:00" itemprop="dateCreated datePublished" datetime="2017-05-08T15:00:00+00:00">2017-05-08</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2025-01-04 08:00:00" itemprop="dateModified" datetime="2025-01-04T08:00:00+00:00">2025-01-04</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/docker/" itemprop="url" rel="index"><span itemprop="name">docker</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><span class="post-title-index">1.</span><a href="#前言" class="headerlink" title="前言"></a> 前言</h1><p>本文记录Docker常用命令，备忘。</p><p>参考文档：</p><ul><li><a target="_blank" rel="noopener" href="http://www.docker.org.cn/book/docker/what-is-docker-16.html">什么是Docker?</a></li><li><a target="_blank" rel="noopener" href="https://docs.docker.com/get-started/">docker入门教程</a></li><li><a target="_blank" rel="noopener" href="https://yuedu.baidu.com/ebook/d817967416fc700abb68fca1">Docker入门实战</a></li><li><a target="_blank" rel="noopener" href="http://edu.51cto.com/course/course_id-4238.html">中国第一套Docker实战案例视频课程（入门到高级）</a></li><li><a target="_blank" rel="noopener" href="https://git.oschina.net/voidking/docker-training">Docker实战案例源码</a></li><li><a target="_blank" rel="noopener" href="https://git.oschina.net/voidking/docker-practice">Docker实战案例文档</a></li></ul><span id="more"></span><h1 id="查看docker版本和帮助"><span class="post-title-index">2.</span><a href="#查看docker版本和帮助" class="headerlink" title="查看docker版本和帮助"></a> 查看docker版本和帮助</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看版本</span></span><br><span class="line">docker version</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看帮助</span></span><br><span class="line">docker</span><br><span class="line">docker -h</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看docker安装配置信息</span></span><br><span class="line">docker info</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看docker start帮助</span></span><br><span class="line">docker start --<span class="built_in">help</span></span><br><span class="line">docker <span class="built_in">help</span> start</span><br></pre></td></tr></table></figure><h1 id="操作镜像"><span class="post-title-index">3.</span><a href="#操作镜像" class="headerlink" title="操作镜像"></a> 操作镜像</h1><h2 id="docker-hub说明"><span class="post-title-index">3.1.</span><a href="#docker-hub说明" class="headerlink" title="docker hub说明"></a> docker hub说明</h2><p>github是存储代码的仓库，而<a target="_blank" rel="noopener" href="https://hub.docker.com/">docker hub</a>是存储docker镜像的仓库。</p><p>docker hub上面的镜像命名方式为：<br><code>&lt;username&gt;/&lt;imagename&gt;:&lt;tag&gt;</code>，比如<code>voidking/nginx:v1.0</code><br>其中 tag 可以省略，省略则默认使用 latest 。</p><p>有一类比较特殊的镜像，经过官方的验证值得信任，命名方式为：<br><code>&lt;imagename&gt;:&lt;tag&gt;</code>，比如 <code>busybox:1.25</code></p><h2 id="镜像命名规范"><span class="post-title-index">3.2.</span><a href="#镜像命名规范" class="headerlink" title="镜像命名规范"></a> 镜像命名规范</h2><p>docker registry镜像名称格式为：<code>DOCKER_REGISTRY/repo/name:tag</code>，各个字段具体含义如下：</p><ul><li>DOCKER_REGISTRY：企业统一的Docker Registry地址；</li><li>repo：镜像仓库，用来管理某一类镜像；</li><li>name：某个镜像的具体名称，一般的命名规则为：系统名称+系统版本+服务名+服务版本（如果公司约定了主要使用的系统名称和版本，则可以省略系统名称+系统版本部分，直接使用服务名作为镜像的名称）。例如：centos7.6-nginx-1.47。</li></ul><p>镜像的名称可以包含的字符限制为<code>[a-z0-9]</code>和<code>[-._]</code>，不能出现中文以及中文符号。</p><p>参考文档<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/VWaBoFZeTHi-90KQ6jlJDg">容器学习：容器镜像命名规范及版本管理规范</a></p><p>docker默认的镜像仓库为 <code>docker.io</code>，web ui为 <code>hub.docker.com</code></p><p>harbor镜像名称格式为：<code>HARBOR_REGISTRY/repo/path/name:tag</code><br>和docker registry镜像名称相比，主要是支持了多级路径。</p><h2 id="查找镜像"><span class="post-title-index">3.3.</span><a href="#查找镜像" class="headerlink" title="查找镜像"></a> 查找镜像</h2><p>方法一：在<a target="_blank" rel="noopener" href="https://hub.docker.com/">docker hub</a>上查找镜像，直接搜索即可<br>方法二：使用命令行的工具搜索，例如搜索 busybox 镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker search busybox</span><br><span class="line">curl -s <span class="string">&quot;https://registry.hub.docker.com/v1/repositories/busybox/tags&quot;</span> | jq -r .[].name</span><br></pre></td></tr></table></figure><p><img src="http://cdn.voidking.com/img/docker-start/search.png?imageView2/0/w/800"><br><img src="http://cdn.voidking.com/img/docker-start/tag.png?imageView2/0/w/800"></p><h2 id="指定TAG下载镜像"><span class="post-title-index">3.4.</span><a href="#指定TAG下载镜像" class="headerlink" title="指定TAG下载镜像"></a> 指定TAG下载镜像</h2><p>1、指定TAG下载镜像<br>以下载 <code>busybox:1.25</code> 镜像为例</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull busybox:1.25</span><br></pre></td></tr></table></figure><p><img src="http://cdn.voidking.com/img/docker-start/pull.png?imageView2/0/w/800"></p><p>2、查看本地镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><h2 id="指定DIGEST下载镜像"><span class="post-title-index">3.5.</span><a href="#指定DIGEST下载镜像" class="headerlink" title="指定DIGEST下载镜像"></a> 指定DIGEST下载镜像</h2><p>参考文档<a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/pull/">docker pull</a>，我们了解到，除了指定TAG下载镜像之外，还可以指定DIGEST下载镜像。<br>之所以需要DIGEST，是因为同一个镜像TAG，我们可能使用多次，实际上就是不同的版本了。<br>用户指定TAG拉取镜像时，默认会拉取最新的那个版本，那有的用户就想使用以前的版本，这时就可以使用DIGEST。</p><p>DIGEST可以在dockerhub的镜像页面找到，以<a target="_blank" rel="noopener" href="https://hub.docker.com/_/busybox">busybox</a>为例，对于同一个TAG多版本的镜像，我们可以指定一个DIGEST来下载。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull busybox@sha256:e02e811dd08fd49e7f6032625495118e63f597eb150403d02e3238af1df240ba</span><br></pre></td></tr></table></figure><h2 id="删除镜像"><span class="post-title-index">3.6.</span><a href="#删除镜像" class="headerlink" title="删除镜像"></a> 删除镜像</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除单个镜像 </span></span><br><span class="line">docker rmi &lt;image_name&gt;</span><br><span class="line">docker rmi &lt;image_id&gt;</span><br><span class="line">docker rmi &lt;image_name&gt; -f</span><br><span class="line">docker rmi &lt;image_id&gt; -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有镜像</span></span><br><span class="line">docker rmi $(docker images -q)</span><br></pre></td></tr></table></figure><h2 id="选择镜像"><span class="post-title-index">3.7.</span><a href="#选择镜像" class="headerlink" title="选择镜像"></a> 选择镜像</h2><p>如果一个软件有很多版本的镜像，该怎么选择？<br>1、如果对软件版本有要求，那么按照版本要求下载。<br>2、如果对软件版本没有要求，那么选择下载3到6个月前的版本，最好是大版本的最后一个小版本。因为如果版本太新，就容易当小白鼠，可能有很多未知的坑。而老一点的版本，遇到问题一般也能搜索到解决办法。</p><h2 id="修改容器并保存成镜像"><span class="post-title-index">3.8.</span><a href="#修改容器并保存成镜像" class="headerlink" title="修改容器并保存成镜像"></a> 修改容器并保存成镜像</h2><p>进入容器后，我们对容器进行了修改，比如创建了一个文件 /tmp/test.txt 。<br>现在想要把这个容器保存成镜像，方便以后复用，该怎么操作？<br>答：使用docker commit命令，类似于git commit。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker commit vk-busybox voidking/vk-busybox:v1.0</span><br></pre></td></tr></table></figure><p>以上命令，把修改后的 vk-busybox 容器保存成了镜像 <code>voidking/vk-busybox:v1.0</code> 。<br>docker commit时，除了使用容器名称，也可以使用容器id。</p><h2 id="分享镜像"><span class="post-title-index">3.9.</span><a href="#分享镜像" class="headerlink" title="分享镜像"></a> 分享镜像</h2><p>我们在本地保存了 <code>voidking/vk-busybox:v1.0</code> 镜像，怎样把它分享出去？<br>答：使用docker push命令，类似于git push。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker push voidking/vk-busybox:v1.0</span><br></pre></td></tr></table></figure><p>该命令把 voidking/vk-busybox:v1.0 镜像推送到 docker hub，所属账户为 voidking 。</p><p>记得push前，需要docker login，进行登录鉴权。</p><h2 id="修改镜像名"><span class="post-title-index">3.10.</span><a href="#修改镜像名" class="headerlink" title="修改镜像名"></a> 修改镜像名</h2><p>修改镜像名，上传到自己的镜像仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker tag voidking/vk-busybox:v1.0 harbor.voidking.com/voidking/vk-busybox:v1.0</span><br><span class="line">docker login harbor.voidking.com</span><br><span class="line">docekr push harbor.voidking.com/voidking/vk-busybox:v1.0</span><br></pre></td></tr></table></figure><p>如果<code>docker login</code>或者<code>docker push</code>报错，可以参考<a href="https://www.voidking.com/dev-harbor-start/">《Harbor入门篇》</a>进行解决</p><h2 id="下载国外镜像"><span class="post-title-index">3.11.</span><a href="#下载国外镜像" class="headerlink" title="下载国外镜像"></a> 下载国外镜像</h2><p>常用的国外镜像仓库包括：</p><ul><li>gcr.io</li><li>ghcr.io</li><li>quay.io</li></ul><p>对于这些镜像仓库，国内一般不能下载。<br>如果确实需要下载，建议通过科学上网下载到本地，然后上传到hub.docker.com或者本地镜像仓库。</p><p>例如下载mysql热备份软件xtrabackup的镜像，备份到自己的镜像仓库：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker pull gcr.io/google-samples/xtrabackup:1.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 备份到 docker hub</span></span><br><span class="line">docker tag gcr.io/google-samples/xtrabackup:1.0 voidking/gcr.io:google-samples.xtrabackup.1.0</span><br><span class="line">docker login</span><br><span class="line">docker push voidking/gcr.io:google-samples.xtrabackup.1.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 备份到 harbor</span></span><br><span class="line">docker tag gcr.io/google-samples/xtrabackup:1.0 harbor.voidking.com/gcr.io/google-samples/xtrabackup:1.0</span><br><span class="line">docker login harbor.voidking.com</span><br><span class="line">docker push harbor.voidking.com/gcr.io/google-samples/xtrabackup:1.0</span><br></pre></td></tr></table></figure><p>如果想要备份docker hub中的镜像到自己的镜像仓库，方法也是一样的：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker pull busybox:1.25</span><br><span class="line">docker tag voidking/docker.io:busybox.1.25</span><br><span class="line">docker push voidking/docker.io:busybox.1.25</span><br></pre></td></tr></table></figure><h1 id="操作容器"><span class="post-title-index">4.</span><a href="#操作容器" class="headerlink" title="操作容器"></a> 操作容器</h1><h2 id="创建-amp-启动容器"><span class="post-title-index">4.1.</span><a href="#创建-amp-启动容器" class="headerlink" title="创建&amp;启动容器"></a> 创建&amp;启动容器</h2><p>怎样创建&amp;启动一个容器，并让它保持运行呢？<br>答：在启动容器时，指定一个长期运行的前台进程作为1号进程。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run --name vk-busybox -d \</span><br><span class="line">busybox:1.25 <span class="built_in">sleep</span> 3600</span><br></pre></td></tr></table></figure><p>命令说明：</p><ul><li>docker run 表示启动一个容器</li><li>–name 指定容器名为 vk-busybox</li><li>-d 表示后台运行容器，并返回容器id</li><li>busybox:1.25 是镜像名</li><li>sleep 是1号进程，3600是sleep的参数</li></ul><h2 id="映射端口和挂载目录"><span class="post-title-index">4.2.</span><a href="#映射端口和挂载目录" class="headerlink" title="映射端口和挂载目录"></a> 映射端口和挂载目录</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run --name vk-nginx -d --privileged=<span class="literal">true</span> \</span><br><span class="line">-p 80:80 \</span><br><span class="line">-v /etc/localtime:/etc/localtime \</span><br><span class="line">nginx:1.17.7</span><br></pre></td></tr></table></figure><p>参数说明：</p><ul><li>-p 表示宿主机端口（冒号前的端口）映射给容器端口（冒号后的端口）</li><li>-v 表示宿主机目录（冒号前目录）挂载给容器目录（容器目录）</li></ul><p>详情参考<a href="https://www.voidking.com/dev-docker-nginx/">《使用Docker安装配置Nginx》</a></p><p>这里有一个比较有意思的问题：如果指定端口<code>81:81</code>，通过nc探测宿主机81端口是否是通的？<br>答：也是通的。<br>这个应该是docker的机制，docker占用了宿主机的81端口，因此nc是通的。但是通过veth pair把流量转发给容器后，因为容器内的81端口并不提供服务，所以通过curl访问宿主机81端口，最终并不能获得服务。</p><h2 id="启停容器"><span class="post-title-index">4.3.</span><a href="#启停容器" class="headerlink" title="启停容器"></a> 启停容器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 停止一个正在运行的容器</span></span><br><span class="line">docker stop vk-busybox</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动一个已经停止的容器</span></span><br><span class="line">docker start vk-busybox</span><br></pre></td></tr></table></figure><h2 id="开机启动容器"><span class="post-title-index">4.4.</span><a href="#开机启动容器" class="headerlink" title="开机启动容器"></a> 开机启动容器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 开机启动docker</span></span><br><span class="line">systemctl <span class="built_in">enable</span> docker</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开机启动容器</span></span><br><span class="line">docker run --restart=always vk-busybox</span><br><span class="line">docker update --restart=always vk-busybox</span><br></pre></td></tr></table></figure><h2 id="查看容器"><span class="post-title-index">4.5.</span><a href="#查看容器" class="headerlink" title="查看容器"></a> 查看容器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看运行中的容器 </span></span><br><span class="line">docker ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看历史容器</span></span><br><span class="line">docker ps -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有容器  </span></span><br><span class="line">docker ps -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看容器启动命令  </span></span><br><span class="line">docker ps --no-trunc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看容器详细信息  </span></span><br><span class="line">docker inspect &lt;container_name&gt;</span><br><span class="line">docker inspect &lt;container_id&gt;</span><br></pre></td></tr></table></figure><h2 id="查看容器日志"><span class="post-title-index">4.6.</span><a href="#查看容器日志" class="headerlink" title="查看容器日志"></a> 查看容器日志</h2><p>查看容器日志</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker logs &lt;container_name&gt;</span><br><span class="line">docker logs --<span class="built_in">tail</span>=100 &lt;container_name&gt;</span><br></pre></td></tr></table></figure><p>查找容器日志</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker logs --<span class="built_in">tail</span>=100 vk-busybox | grep xxx</span><br><span class="line">docker logs --<span class="built_in">tail</span>=100 vk-busybox 2&gt;&amp;1 | grep xxx</span><br></pre></td></tr></table></figure><p>管道符只对stdout有效，如果容器日志输出到了stderr，就会发现grep无效，这时就需要重定向。</p><h2 id="拷贝文件"><span class="post-title-index">4.7.</span><a href="#拷贝文件" class="headerlink" title="拷贝文件"></a> 拷贝文件</h2><p>在宿主机和容器之间拷贝单个文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> /tmp/test.txt vk-busybox:/tmp</span><br><span class="line">docker <span class="built_in">cp</span> vk-busybox:/tmp/test.txt /tmp/test.txt</span><br></pre></td></tr></table></figure><p>在宿主机和容器之间拷贝整个目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> /tmp/testdir vk-busybox:/tmp</span><br><span class="line">docker <span class="built_in">cp</span> vk-busybox:/tmp/testdir /tmp/ </span><br></pre></td></tr></table></figure><p>表示目录的最后一个斜杠<code>/</code>，加和不加效果相同。</p><p>在宿主机和容器之间拷贝目录中的所有文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> /tmp/. vk-busybox:/tmp</span><br><span class="line">docker <span class="built_in">cp</span> vk-busybox:/tmp/. /tmp/ </span><br></pre></td></tr></table></figure><h2 id="启动容器的同时拷贝文件"><span class="post-title-index">4.8.</span><a href="#启动容器的同时拷贝文件" class="headerlink" title="启动容器的同时拷贝文件"></a> 启动容器的同时拷贝文件</h2><p>使用cat代替cp：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run --<span class="built_in">rm</span> \</span><br><span class="line">    --entrypoint <span class="built_in">cat</span> \</span><br><span class="line">    prom/prometheus:v2.43.1 \</span><br><span class="line">    /etc/prometheus/prometheus.yml &gt; prometheus.yml</span><br></pre></td></tr></table></figure><p>挂载目录拷贝：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run --<span class="built_in">rm</span> \</span><br><span class="line">    -u root \</span><br><span class="line">    --entrypoint <span class="built_in">cp</span> \</span><br><span class="line">    -v /opt:/opt \</span><br><span class="line">    prom/prometheus:v2.43.1 \</span><br><span class="line">    -rf /etc/prometheus /opt/</span><br></pre></td></tr></table></figure><h2 id="进入容器"><span class="post-title-index">4.9.</span><a href="#进入容器" class="headerlink" title="进入容器"></a> 进入容器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it vk-busybox /bin/sh</span><br></pre></td></tr></table></figure><p><img src="http://cdn.voidking.com/img/docker-start/exec.png?imageView2/0/w/800"></p><h2 id="查看容器id和容器进程"><span class="post-title-index">4.10.</span><a href="#查看容器id和容器进程" class="headerlink" title="查看容器id和容器进程"></a> 查看容器id和容器进程</h2><p>查看容器进程ID</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">docker top vk-busybox</span><br><span class="line">docker inspect vk-busybox | grep pid -i</span><br></pre></td></tr></table></figure><p>查看容器进程的namespace</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ll /proc/$$/ns</span><br><span class="line">ll /proc/&lt;pid&gt;/ns</span><br></pre></td></tr></table></figure><p>在容器net namespace执行命令（需要宿主机上有route命令）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nsenter -t &lt;pid&gt; -n ip add</span><br><span class="line">nsenter -t &lt;pid&gt; -n route -n</span><br><span class="line">nsenter -t &lt;pid&gt; -n iptables -A OUTPUT -p tcp --dport 7535 -j DROP</span><br></pre></td></tr></table></figure><h2 id="查找占用某个端口的容器"><span class="post-title-index">4.11.</span><a href="#查找占用某个端口的容器" class="headerlink" title="查找占用某个端口的容器"></a> 查找占用某个端口的容器</h2><p>以查找占用80端口的容器为例。</p><p>1、查找进程ID</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -nlp | grep 80</span><br></pre></td></tr></table></figure><p>看到进程为 10538/docker-proxy</p><p>2、容器IP</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -Af | grep 10538</span><br></pre></td></tr></table></figure><p>看到容器启动信息为 /usr/bin/docker-proxy -proto tcp -host-ip 0.0.0.0 -host-port 80 -container-ip -container-port 8000</p><p>3、找到容器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker inspect &lt;container_id&gt; | grep IPAddress</span><br><span class="line">docker inspect &lt;container_id&gt; | grep 172.23.0.4</span><br></pre></td></tr></table></figure><h2 id="删除容器"><span class="post-title-index">4.12.</span><a href="#删除容器" class="headerlink" title="删除容器"></a> 删除容器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除单个容器</span></span><br><span class="line">docker <span class="built_in">rm</span> &lt;container_name&gt;</span><br><span class="line">docker <span class="built_in">rm</span> &lt;container_id&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有容器  </span></span><br><span class="line">docker <span class="built_in">rm</span> $(docker ps -a -q)</span><br></pre></td></tr></table></figure><h1 id="操作volume"><span class="post-title-index">5.</span><a href="#操作volume" class="headerlink" title="操作volume"></a> 操作volume</h1><p>查看volume信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker volume <span class="built_in">ls</span></span><br><span class="line">docker volume inspect xxx</span><br></pre></td></tr></table></figure><h1 id="清理无用资源"><span class="post-title-index">6.</span><a href="#清理无用资源" class="headerlink" title="清理无用资源"></a> 清理无用资源</h1><h2 id="清理所有资源"><span class="post-title-index">6.1.</span><a href="#清理所有资源" class="headerlink" title="清理所有资源"></a> 清理所有资源</h2><p>删除停止的容器、删除没有被使用的网络、删除没有被使用的镜像、删除构建产生的缓存</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker system prune</span><br><span class="line">docker system prune -a</span><br><span class="line">docker system prune -f</span><br></pre></td></tr></table></figure><p>删除以上内容，同时删除没有被使用的volumes</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker system prune -a --volumes</span><br></pre></td></tr></table></figure><h2 id="清理指定资源"><span class="post-title-index">6.2.</span><a href="#清理指定资源" class="headerlink" title="清理指定资源"></a> 清理指定资源</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除没有被使用的volumes</span></span><br><span class="line">docker volume prune</span><br><span class="line">docker volume <span class="built_in">rm</span> $(docker volume <span class="built_in">ls</span> -qf dangling=<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除停止的容器 </span></span><br><span class="line">docker container prune</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除没有被使用的镜像 </span></span><br><span class="line">docker image prune</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除docker build缓存</span></span><br><span class="line">docker builder prune</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除没有被使用的网络  </span></span><br><span class="line">docker network prune</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有悬空镜像（没有名称的镜像），不删除未使用镜像</span></span><br><span class="line">docker rmi $(docker images -f <span class="string">&quot;dangling=true&quot;</span> -q)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除未使用镜像和悬空镜像 </span></span><br><span class="line">docker rmi $(docker images -q)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有已退出的容器 </span></span><br><span class="line">docker <span class="built_in">rm</span> -v $(docker ps -aq -f status=exited)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有状态为dead的容器</span></span><br><span class="line">docker <span class="built_in">rm</span> -v $(docker ps -aq -f status=dead)</span><br></pre></td></tr></table></figure></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-docker-command/" title="好好学Docker：Docker常用命令">https://www.voidking.com/dev-docker-command/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/docker/" rel="tag"># docker</a> <a href="/tags/%E5%A5%BD%E5%A5%BD%E5%AD%A6Docker/" rel="tag"># 好好学Docker</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-docker-start/" rel="prev" title="好好学Docker：Docker入门篇"><i class="fa fa-chevron-left"></i> 好好学Docker：Docker入门篇</a></div><div class="post-nav-item"> <a href="/dev-docker-static-ip/" rel="next" title="好好学Docker：Docker容器配置静态IP">好好学Docker：Docker容器配置静态IP<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">1. 前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8Bdocker%E7%89%88%E6%9C%AC%E5%92%8C%E5%B8%AE%E5%8A%A9"><span class="nav-text">2. 查看docker版本和帮助</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E9%95%9C%E5%83%8F"><span class="nav-text">3. 操作镜像</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#docker-hub%E8%AF%B4%E6%98%8E"><span class="nav-text">3.1. docker hub说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%95%9C%E5%83%8F%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="nav-text">3.2. 镜像命名规范</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE%E9%95%9C%E5%83%8F"><span class="nav-text">3.3. 查找镜像</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8C%87%E5%AE%9ATAG%E4%B8%8B%E8%BD%BD%E9%95%9C%E5%83%8F"><span class="nav-text">3.4. 指定TAG下载镜像</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8C%87%E5%AE%9ADIGEST%E4%B8%8B%E8%BD%BD%E9%95%9C%E5%83%8F"><span class="nav-text">3.5. 指定DIGEST下载镜像</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E9%95%9C%E5%83%8F"><span class="nav-text">3.6. 删除镜像</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E9%95%9C%E5%83%8F"><span class="nav-text">3.7. 选择镜像</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%AE%B9%E5%99%A8%E5%B9%B6%E4%BF%9D%E5%AD%98%E6%88%90%E9%95%9C%E5%83%8F"><span class="nav-text">3.8. 修改容器并保存成镜像</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E4%BA%AB%E9%95%9C%E5%83%8F"><span class="nav-text">3.9. 分享镜像</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E9%95%9C%E5%83%8F%E5%90%8D"><span class="nav-text">3.10. 修改镜像名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD%E5%9B%BD%E5%A4%96%E9%95%9C%E5%83%8F"><span class="nav-text">3.11. 下载国外镜像</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E5%AE%B9%E5%99%A8"><span class="nav-text">4. 操作容器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-amp-%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8"><span class="nav-text">4.1. 创建&amp;启动容器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%98%A0%E5%B0%84%E7%AB%AF%E5%8F%A3%E5%92%8C%E6%8C%82%E8%BD%BD%E7%9B%AE%E5%BD%95"><span class="nav-text">4.2. 映射端口和挂载目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%AF%E5%81%9C%E5%AE%B9%E5%99%A8"><span class="nav-text">4.3. 启停容器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8"><span class="nav-text">4.4. 开机启动容器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%AE%B9%E5%99%A8"><span class="nav-text">4.5. 查看容器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%AE%B9%E5%99%A8%E6%97%A5%E5%BF%97"><span class="nav-text">4.6. 查看容器日志</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8B%B7%E8%B4%9D%E6%96%87%E4%BB%B6"><span class="nav-text">4.7. 拷贝文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8%E7%9A%84%E5%90%8C%E6%97%B6%E6%8B%B7%E8%B4%9D%E6%96%87%E4%BB%B6"><span class="nav-text">4.8. 启动容器的同时拷贝文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9B%E5%85%A5%E5%AE%B9%E5%99%A8"><span class="nav-text">4.9. 进入容器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%AE%B9%E5%99%A8id%E5%92%8C%E5%AE%B9%E5%99%A8%E8%BF%9B%E7%A8%8B"><span class="nav-text">4.10. 查看容器id和容器进程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE%E5%8D%A0%E7%94%A8%E6%9F%90%E4%B8%AA%E7%AB%AF%E5%8F%A3%E7%9A%84%E5%AE%B9%E5%99%A8"><span class="nav-text">4.11. 查找占用某个端口的容器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E5%AE%B9%E5%99%A8"><span class="nav-text">4.12. 删除容器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%93%8D%E4%BD%9Cvolume"><span class="nav-text">5. 操作volume</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B8%85%E7%90%86%E6%97%A0%E7%94%A8%E8%B5%84%E6%BA%90"><span class="nav-text">6. 清理无用资源</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B8%85%E7%90%86%E6%89%80%E6%9C%89%E8%B5%84%E6%BA%90"><span class="nav-text">6.1. 清理所有资源</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B8%85%E7%90%86%E6%8C%87%E5%AE%9A%E8%B5%84%E6%BA%90"><span class="nav-text">6.2. 清理指定资源</span></a></li></ol></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">748</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">32</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">259</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2025</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: '850b92fcb6c104fe0dfc88c01fa768ab',
      title: '好好学Docker：Docker常用命令',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>