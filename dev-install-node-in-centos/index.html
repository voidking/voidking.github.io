<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言毕设进入到了最后阶段，基本功能都完成了，接下来就是一些功能的完善和bug的修改。以及，好长好长的论文要写。。。压力有点大哇！ 为了方便在答辩的时候装逼，小编决定把毕设上线到阿里云服务器。"><meta property="og:type" content="article"><meta property="og:title" content="在CentOS上搭建Node环境"><meta property="og:url" content="https://www.voidking.com/dev-install-node-in-centos/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言毕设进入到了最后阶段，基本功能都完成了，接下来就是一些功能的完善和bug的修改。以及，好长好长的论文要写。。。压力有点大哇！ 为了方便在答辩的时候装逼，小编决定把毕设上线到阿里云服务器。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2016-05-14T18:37:00.000Z"><meta property="article:modified_time" content="2020-07-30T06:46:04.553Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="centos"><meta property="article:tag" content="毕设"><meta property="article:tag" content="node"><meta property="article:tag" content="nvm"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-install-node-in-centos/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>在CentOS上搭建Node环境 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">好好学习，天天向上！</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-install-node-in-centos/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="学而不思则罔，思而不学则殆！"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 在CentOS上搭建Node环境</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2016-05-14 18:37:00" itemprop="dateCreated datePublished" datetime="2016-05-14T18:37:00+00:00">2016-05-14</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/" itemprop="url" rel="index"><span itemprop="name">专业</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/%E8%BF%90%E7%BB%B4/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/node/" itemprop="url" rel="index"><span itemprop="name">node</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/%E8%BF%90%E7%BB%B4/centos/" itemprop="url" rel="index"><span itemprop="name">centos</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>毕设进入到了最后阶段，基本功能都完成了，接下来就是一些功能的完善和bug的修改。以及，好长好长的论文要写。。。压力有点大哇！</p><p>为了方便在答辩的时候装逼，小编决定把毕设上线到阿里云服务器。</p><a id="more"></a><h1 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h1><h2 id="安装node"><a href="#安装node" class="headerlink" title="安装node"></a>安装node</h2><p>1、使用xshell登陆到阿里云服务器。<br>2、<code>yum -y install gcc make gcc-c++ openssl-devel wget</code><br>3、<code>wget http://nodejs.org/dist/v6.1.0/node-v6.1.0.tar.gz</code><br>4、<code>tar -zvxf node-v6.1.0.tar.gz</code><br>5、<code>cd node-v6.1.0</code><br>6、<code>./configure</code><br>7、<code>make &amp;&amp; make install</code><br>8、<code>node -v</code></p><h2 id="安装node方法二"><a href="#安装node方法二" class="headerlink" title="安装node方法二"></a>安装node方法二</h2><p>第一种安装node的方法，小编失败了，因为编译出错。那么，试试第二种方法。<br>1、<code>yum install epel-release</code><br>2、<code>yum install nodejs</code><br>3、<code>yum install npm</code><br>4、<code>node -v</code><br>安装成功！但是版本有点低，0.12.0，因为我本地使用的5.6.0，版本不同，估计会出问题哇！</p><h2 id="安装mongodb"><a href="#安装mongodb" class="headerlink" title="安装mongodb"></a>安装mongodb</h2><p>1、<code>wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.0.6.tgz</code><br>2、<code>tar -zxvf mongodb-linux-x86_64-3.0.6.tgz</code><br>3、<code>mv mongodb-linux-x86_64-3.0.6/ /usr/local/mongodb</code><br>4、<code>export PATH=&lt;mongodb-install-directory&gt;/bin:$PATH</code>，其中<code>&lt;mongodb-install-directory&gt;</code>为<code>/usr/local/mongodb</code>。<br>5、<code>mkdir -p /data/db</code><br>6、<code>cd /usr/local/mongodb/bin</code>，<code>mongod</code>，至此，mongodb已经安装成功并且启动<br>7、使用另一个shell，<code>cd /usr/local/mongodb/bin</code>，<code>mongo</code>，连接成功，可以进行数据库的操作了。</p><h2 id="开机自启动mongodb"><a href="#开机自启动mongodb" class="headerlink" title="开机自启动mongodb"></a>开机自启动mongodb</h2><p><code>vim /etc/rc.d/rc.local</code>，插入一行如下：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/mongodb/</span>bin<span class="regexp">/mongod</span></span><br></pre></td></tr></table></figure><h2 id="安装git"><a href="#安装git" class="headerlink" title="安装git"></a>安装git</h2><p><code>yum install git</code></p><h2 id="下载项目"><a href="#下载项目" class="headerlink" title="下载项目"></a>下载项目</h2><p>把本地项目上传到github<br><code>git clone https://github.com/voidking/nodeforum.git</code></p><h2 id="安装需要的依赖"><a href="#安装需要的依赖" class="headerlink" title="安装需要的依赖"></a>安装需要的依赖</h2><p>1、<code>npm install</code><br>2、<code>npm install bower -g</code><br>3、<code>bower install</code><br>有报错，整了半天没整好，后来无缘无故好了，大写的蛋疼。</p><h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><p><code>node app.js</code>，报错，主要是connect-mongo版本问题。大哥，出问题才正常好不，毕竟node版本相差太大。还是想办法先把node版本统一了，这才是正途！</p><h2 id="安装node方法三"><a href="#安装node方法三" class="headerlink" title="安装node方法三"></a>安装node方法三</h2><p>1、<code>wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.31.1/install.sh | bash</code><br>2、<code>source ~/.bash_profile</code><br>3、<code>nvm list-remote</code><br>4、<code>nvm install v5.6.0</code><br>5、<code>nvm list</code><br>6、<code>nvm use v5.6.0</code><br>7、<code>nvm alias default v5.6.0</code></p><h2 id="再次运行"><a href="#再次运行" class="headerlink" title="再次运行"></a>再次运行</h2><p><code>node app.js</code>，哈哈，之前的报错没有啦！<br>然后，换了一个新的报错，无法连接到mongodb。使用<code>mongo</code>命令检查一下，原来是服务关掉了。为什么会关掉呢？因为我们之前的mongodb启动方法不对！在shell里启动，肯定不靠谱哇！<br>好吧，暂时先勉强用着，在shell里再次启动mongodb。<code>node app.js</code>，启动成功！<br>打开<a href="http://139.129.28.10:3000" target="_blank" rel="noopener">http://139.129.28.10:3000</a> ，看到了熟悉的界面，上线成功！</p><h2 id="mongodb添加进服务"><a href="#mongodb添加进服务" class="headerlink" title="mongodb添加进服务"></a>mongodb添加进服务</h2><p>1、<code>mkdir -p /data/db</code>，<code>mkdir -p /data/log</code>，在<code>/data/log</code>下新建文件mongodb.log。<br>2、在<code>/usr/local/mongodb</code>下新建文件mongod.conf，内容如下：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dbpath</span> = /data/db <span class="comment">#数据文件存放目录</span></span><br><span class="line"><span class="attr">logpath</span> = /data/log/mongodb.log <span class="comment">#日志文件存放目录</span></span><br><span class="line"><span class="attr">port</span> = <span class="number">27017</span>  <span class="comment">#端口</span></span><br><span class="line"><span class="attr">fork</span> = <span class="literal">true</span>  <span class="comment">#以守护程序的方式启用，即在后台运行</span></span><br></pre></td></tr></table></figure><p>3、在<code>/ect/rc.d/init.d</code>下新建文件mongod，内容如下：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># mongodb init file for starting up the MongoDB server</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># chkconfig: - 20 80</span></span><br><span class="line"><span class="comment"># description: Starts and stops the MongDB daemon that handles all \</span></span><br><span class="line"><span class="comment"># database requests.</span></span><br><span class="line"><span class="comment"># Source function library.</span></span><br><span class="line">. <span class="regexp">/etc/</span>rc.d<span class="regexp">/init.d/</span>functions</span><br><span class="line">exec=<span class="string">"/usr/local/mongodb/bin/mongod"</span></span><br><span class="line">prog=<span class="string">"mongod"</span></span><br><span class="line">logfile=<span class="string">"/data/log/mongodb.log"</span></span><br><span class="line">options=<span class="string">" -f /usr/local/mongodb/mongod.conf"</span></span><br><span class="line">[ -e <span class="regexp">/etc/</span>sysconfig<span class="regexp">/$prog ] &amp;&amp; . /</span>etc<span class="regexp">/sysconfig/</span><span class="variable">$prog</span></span><br><span class="line">lockfile=<span class="string">"/var/lock/subsys/mongod"</span></span><br><span class="line">start() &#123;</span><br><span class="line">[ -x <span class="variable">$exec</span> ] || <span class="keyword">exit</span> <span class="number">5</span></span><br><span class="line">echo -n $<span class="string">"Starting $prog: "</span></span><br><span class="line">daemon --user root <span class="string">"$exec --quiet $options run &gt;&gt; $logfile 2&gt;&amp;1 &amp;"</span></span><br><span class="line">retval=$?</span><br><span class="line">echo</span><br><span class="line">[ <span class="variable">$retval</span> -eq <span class="number">0</span> ] &amp;&amp; touch <span class="variable">$lockfile</span></span><br><span class="line">return <span class="variable">$retval</span></span><br><span class="line">&#125;</span><br><span class="line">stop() &#123;</span><br><span class="line">echo -n $<span class="string">"Stopping $prog: "</span></span><br><span class="line">killproc <span class="variable">$prog</span></span><br><span class="line">retval=$?</span><br><span class="line">echo</span><br><span class="line">[ <span class="variable">$retval</span> -eq <span class="number">0</span> ] &amp;&amp; rm -f <span class="variable">$lockfile</span></span><br><span class="line">return <span class="variable">$retval</span></span><br><span class="line">&#125;</span><br><span class="line">restart() &#123;</span><br><span class="line">stop</span><br><span class="line">start</span><br><span class="line">&#125;</span><br><span class="line">reload() &#123;</span><br><span class="line">restart</span><br><span class="line">&#125;</span><br><span class="line">force_reload() &#123;</span><br><span class="line">restart</span><br><span class="line">&#125;</span><br><span class="line">rh_status() &#123;</span><br><span class="line"><span class="comment"># run checks to determine if the service is running or use generic status</span></span><br><span class="line">status <span class="variable">$prog</span></span><br><span class="line">&#125;</span><br><span class="line">rh_status_q() &#123;</span><br><span class="line">rh_status &gt;<span class="regexp">/dev/</span>null <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">case <span class="string">"$1"</span> <span class="keyword">in</span></span><br><span class="line">start)</span><br><span class="line">rh_status_q &amp;&amp; <span class="keyword">exit</span> <span class="number">0</span></span><br><span class="line"><span class="variable">$1</span></span><br><span class="line">;;</span><br><span class="line">stop)</span><br><span class="line">rh_status_q || <span class="keyword">exit</span> <span class="number">0</span></span><br><span class="line"><span class="variable">$1</span></span><br><span class="line">;;</span><br><span class="line">restart)</span><br><span class="line"><span class="variable">$1</span></span><br><span class="line">;;</span><br><span class="line">reload)</span><br><span class="line">rh_status_q || <span class="keyword">exit</span> <span class="number">7</span></span><br><span class="line"><span class="variable">$1</span></span><br><span class="line">;;</span><br><span class="line">force-reload)</span><br><span class="line">force_reload</span><br><span class="line">;;</span><br><span class="line">status)</span><br><span class="line">rh_status</span><br><span class="line">;;</span><br><span class="line">condrestart|try-restart)</span><br><span class="line">rh_status_q || <span class="keyword">exit</span> <span class="number">0</span></span><br><span class="line">restart</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo $<span class="string">"Usage: $0 &#123;start|stop|status|restart|condrestart|try-restart|reload|force-reload&#125;"</span></span><br><span class="line"><span class="keyword">exit</span> <span class="number">2</span></span><br><span class="line">esac</span><br><span class="line"><span class="keyword">exit</span> $?</span><br></pre></td></tr></table></figure><p>4、<code>chmod 777 mongod</code>，给mongod文件增加执行权限。<br>5、<code>service mongod start</code>，mongodb服务成功启动。</p><h2 id="node守护进程"><a href="#node守护进程" class="headerlink" title="node守护进程"></a>node守护进程</h2><p>1、安装nohup，<code>yum provides */nohup</code>，<code>yum install coreutils</code><br>2、启动服务，<code>nohup node app.js &amp;</code><br>3、关闭服务，<code>bg</code>，<code>fg</code>，Ctrl+C。</p><p>后来发现一个问题，<code>nohup node app.js &amp;</code>，断开连接后有时会关闭进程，或者输入命令后两次回车也会关闭进程。<br>查看nohup.out文件，奥，原来是代码出问题了！如果使用命令<code>nohup node app.js &gt; myout.file 2&gt;&amp;1 &amp;</code>，就查看myout.file文件。</p><p>还有一点需要注意，退出xshell的时候，不要直接关闭，最好使用<code>exit</code>命令，否则有时也会导致进程关闭。</p><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>查看CentOS版本命令：<code>cat /etc/redhat-release</code><br>查看端口占用命令：<code>netstat -apn | grep 27017</code><br>查看进程命令：<code>ps -ef | grep mongodb</code>，<code>ps aux | grep mongodb</code>，<code>top</code><br>结束进程命令：<code>kill -9 [PID]</code></p><h1 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h1><p>Centos 安装 NodeJS<br><a href="http://www.cnblogs.com/hamy/p/3632574.html" target="_blank" rel="noopener">http://www.cnblogs.com/hamy/p/3632574.html</a></p><p>Node Downloads<br><a href="https://nodejs.org/en/download/current/" target="_blank" rel="noopener">https://nodejs.org/en/download/current/</a></p><p>如何在CentOS 7安装Node.js<br><a href="http://www.linuxidc.com/Linux/2015-02/113554.htm" target="_blank" rel="noopener">http://www.linuxidc.com/Linux/2015-02/113554.htm</a></p><p>Linux平台安装MongoDB<br><a href="http://www.runoob.com/mongodb/mongodb-linux-install.html" target="_blank" rel="noopener">http://www.runoob.com/mongodb/mongodb-linux-install.html</a></p><p>CentOS6.5源码安装nodejs4.4<br><a href="http://www.centoscn.com/image-text/install/2016/0314/6839.html" target="_blank" rel="noopener">http://www.centoscn.com/image-text/install/2016/0314/6839.html</a></p><p>在CentOS 7上安装Node.js的4种方法<br><a href="https://www.vmvps.com/4-ways-to-install-node-js-on-centos-7-servers.html" target="_blank" rel="noopener">https://www.vmvps.com/4-ways-to-install-node-js-on-centos-7-servers.html</a></p><p>nvm项目<br><a href="https://github.com/creationix/nvm" target="_blank" rel="noopener">https://github.com/creationix/nvm</a></p><p>MongoDB在CentOS6下的安装以及服务启动<br><a href="http://www.swmemo.com/2136.html" target="_blank" rel="noopener">http://www.swmemo.com/2136.html</a></p><p>Linux 守护进程的启动方法<br><a href="http://www.ruanyifeng.com/blog/2016/02/linux-daemon.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2016/02/linux-daemon.html</a></p></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/centos/" rel="tag"># centos</a> <a href="/tags/%E6%AF%95%E8%AE%BE/" rel="tag"># 毕设</a> <a href="/tags/node/" rel="tag"># node</a> <a href="/tags/nvm/" rel="tag"># nvm</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-hexo-gitcafe-to-coding/" rel="prev" title="迁移博客从gitcafe到coding"><i class="fa fa-chevron-left"></i> 迁移博客从gitcafe到coding</a></div><div class="post-nav-item"> <a href="/dev-auto-loading-when-scroll-to-the-bottom/" rel="next" title="基于JQuery实现滚动到页面底端时自动加载更多信息">基于JQuery实现滚动到页面底端时自动加载更多信息<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zODU3Mi8xNTEwMA=="></div></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#步骤"><span class="nav-number">2.</span> <span class="nav-text">步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#安装node"><span class="nav-number">2.1.</span> <span class="nav-text">安装node</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装node方法二"><span class="nav-number">2.2.</span> <span class="nav-text">安装node方法二</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装mongodb"><span class="nav-number">2.3.</span> <span class="nav-text">安装mongodb</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#开机自启动mongodb"><span class="nav-number">2.4.</span> <span class="nav-text">开机自启动mongodb</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装git"><span class="nav-number">2.5.</span> <span class="nav-text">安装git</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#下载项目"><span class="nav-number">2.6.</span> <span class="nav-text">下载项目</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装需要的依赖"><span class="nav-number">2.7.</span> <span class="nav-text">安装需要的依赖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#运行"><span class="nav-number">2.8.</span> <span class="nav-text">运行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装node方法三"><span class="nav-number">2.9.</span> <span class="nav-text">安装node方法三</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#再次运行"><span class="nav-number">2.10.</span> <span class="nav-text">再次运行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mongodb添加进服务"><span class="nav-number">2.11.</span> <span class="nav-text">mongodb添加进服务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#node守护进程"><span class="nav-number">2.12.</span> <span class="nav-text">node守护进程</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#后记"><span class="nav-number">3.</span> <span class="nav-text">后记</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考文档"><span class="nav-number">4.</span> <span class="nav-text">参考文档</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">学而不思则罔，思而不学则殆！</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">610</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">46</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">193</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2020</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://www.beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={iconStyle:"box",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions),flOptions={iconStyle:"box",boxForm:"horizontal",position:"topRight",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-float",flOptions)</script><script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  // window.livereOptions = {
  //   refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  // };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script></body></html>