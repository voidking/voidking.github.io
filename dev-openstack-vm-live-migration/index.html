<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言《OpenStack中虚拟机的在线迁移》一文中，虚拟机迁移时，把block一起进行了迁移。生产环境中，这些虚拟机往往是共享存储设备，不需要对block进行迁移。所以，本文就来重新配置一下环境，实现共享存储的虚拟机在线迁移。"><meta property="og:type" content="article"><meta property="og:title" content="OpenStack中共享存储的虚拟机在线迁移"><meta property="og:url" content="https://www.voidking.com/dev-openstack-vm-live-migration/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言《OpenStack中虚拟机的在线迁移》一文中，虚拟机迁移时，把block一起进行了迁移。生产环境中，这些虚拟机往往是共享存储设备，不需要对block进行迁移。所以，本文就来重新配置一下环境，实现共享存储的虚拟机在线迁移。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://cdn.voidking.com//imgs/openstack-vm-live-migration/error.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com//imgs/openstack-vm-live-migration/floatip.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com//imgs/openstack-vm-live-migration/list.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com//imgs/openstack-vm-live-migration/detail3.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com//imgs/openstack-vm-live-migration/detail4.jpg?imageView2/0/w/600"><meta property="article:published_time" content="2018-11-15T09:00:00.000Z"><meta property="article:modified_time" content="2021-03-11T05:57:28.570Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="docker"><meta property="article:tag" content="linux"><meta property="article:tag" content="ubuntu"><meta property="article:tag" content="openstack"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://cdn.voidking.com//imgs/openstack-vm-live-migration/error.jpg?imageView2/0/w/600"><link rel="canonical" href="https://www.voidking.com/dev-openstack-vm-live-migration/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>OpenStack中共享存储的虚拟机在线迁移 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">好好学习，天天向上！</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-openstack-vm-live-migration/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="学而不思则罔，思而不学则殆！"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> OpenStack中共享存储的虚拟机在线迁移</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-11-15 09:00:00" itemprop="dateCreated datePublished" datetime="2018-11-15T09:00:00+00:00">2018-11-15</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/" itemprop="url" rel="index"><span itemprop="name">专业</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/%E8%BF%90%E7%BB%B4/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/%E8%BF%90%E7%BB%B4/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><a href="https://www.voidking.com/dev-openstack-vm-block-live-migration/">《OpenStack中虚拟机的在线迁移》</a>一文中，虚拟机迁移时，把block一起进行了迁移。生产环境中，这些虚拟机往往是共享存储设备，不需要对block进行迁移。所以，本文就来重新配置一下环境，实现共享存储的虚拟机在线迁移。</p><a id="more"></a><h1 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h1><p>常规安装的OpenStack中，实例存放在 <code>/var/lib/nova/instances/</code> 目录；<br>使用kolla安装的OpenStack中，实例存放在 <code>/var/lib/docker/volumes/nova_compute/_data/instances/</code> 目录。</p><p>共享存储，需要两个步骤：<br>1、有一台NFS（Network File System）服务器，共享某个目录，比如/nfs/share/instances。<br>2、所有计算节点的instances目录，都挂载上NFS服务器的/nfs/share/instances目录。</p><h1 id="主机准备"><a href="#主机准备" class="headerlink" title="主机准备"></a>主机准备</h1><p>使用virtualbox创建一个新的ubuntu16虚拟机，或者clone其他节点并且通过快照恢复初始状态，作为nfs存储节点。这里通过clone的方法得到一个新的主机，设置IP为192.168.56.130。参考<a href="https://www.voidking.com/dev-virtualbox-ubuntu-extend-storage/">《VirtualBox中Ubuntu扩容》</a>，对虚拟机进行扩容。</p><h1 id="NFS"><a href="#NFS" class="headerlink" title="NFS"></a>NFS</h1><h2 id="NFS服务器"><a href="#NFS服务器" class="headerlink" title="NFS服务器"></a>NFS服务器</h2><p>首先，我们要搭建一个NFS服务器，参考<a href="https://blog.csdn.net/csdn_duomaomao/article/details/77822883" target="_blank" rel="noopener">Ubuntu 16.04系统上NFS的安装与使用</a>和<a href="https://blog.csdn.net/chinagissoft/article/details/45605539" target="_blank" rel="noopener">使用NFS实现Ubuntu的文件共享</a>。</p><p>1、安装nfs软件包<br><code>apt install nfs-kernel-server</code></p><p>2、编写配置文件<br><code>vim /etc/exports</code><br>添加如下内容：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># openstack instances</span></span><br><span class="line"><span class="regexp">/nfs/</span>share<span class="regexp">/instances *(rw,sync,no_root_squash)</span></span><br></pre></td></tr></table></figure><p>3、创建共享目录并修改权限</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p <span class="meta-keyword">/nfs/</span>share/instances</span><br><span class="line">chmod o+x <span class="meta-keyword">/nfs/</span>share/instances</span><br></pre></td></tr></table></figure><p>4、重启nfs服务<br><code>service nfs-kernel-server restart</code></p><p>5、查看共享信息<br><code>exportfs</code></p><h2 id="控制节点"><a href="#控制节点" class="headerlink" title="控制节点"></a>控制节点</h2><p>在控制节点删除demo1实例，或者在horizon控制台删除demo1的实例。</p><h2 id="计算节点"><a href="#计算节点" class="headerlink" title="计算节点"></a>计算节点</h2><p>1、安装nfs客户端<br><code>apt-get install nfs-common</code></p><p>2、查看共享信息<br><code>showmount -e 192.168.56.130</code></p><p>3、挂载nfs目录</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -t nfs <span class="number">192.168</span>.<span class="number">56.130</span><span class="symbol">:/nfs/share/instances</span> /var/lib/docker/volumes/nova_compute/_data/instances/</span><br></pre></td></tr></table></figure><p>instances目录中还有文件和文件夹，直接挂载覆盖确定没有影响吗？没有。</p><p>两个计算节点都执行同样的操作，此时它们的instances目录是同一个目录。</p><p>4、修改instances目录权限<br><code>chmod -R 777 /var/lib/docker/volumes/nova_compute/_data/instances/</code><br>一定要修改，否则创建实例时会报错。<br><img src="http://cdn.voidking.com//imgs/openstack-vm-live-migration/error.jpg?imageView2/0/w/600" alt=""></p><p>5、自动挂载<br><code>vim /etc/fstab</code>，添加：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.56.130:/nfs/share/instances /var/lib/docker/volumes/nova_compute/_data/instances nfs<span class="built_in"> default </span>0 0</span><br></pre></td></tr></table></figure><p>自动挂载有可能会失败，所以在计算节点重启后，最好先检查一下有没有挂载成功。没有挂载成功的话，就手动进行挂载。</p><p>6、重启compute服务和libvirt服务</p><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker stop nov<span class="built_in">a_compute</span></span><br><span class="line">docker start nov<span class="built_in">a_compute</span></span><br><span class="line">docker stop nov<span class="built_in">a_libvirt</span></span><br><span class="line">docker start nov<span class="built_in">a_libvirt</span></span><br></pre></td></tr></table></figure><p>如果不重启，那么创建的实例会存放在计算节点本地磁盘上，卸载instances目录后可以看到。</p><h1 id="迁移"><a href="#迁移" class="headerlink" title="迁移"></a>迁移</h1><h2 id="创建实例"><a href="#创建实例" class="headerlink" title="创建实例"></a>创建实例</h2><p>参考<a href="https://www.voidking.com/dev-ubuntu16-kolla-openstack-multinode/">《Kolla安装OpenStack多节点》</a>的初始化配置部分，使用cirros镜像创建demo2实例。</p><p>1、使管理员环境生效<br><code>source /etc/kolla/admin-openrc.sh</code></p><p>2、创建实例</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">openstack<span class="built_in"> server </span>create \</span><br><span class="line">    --image cirros \</span><br><span class="line">    --flavor m1.tiny \</span><br><span class="line">    --key-name mykey \</span><br><span class="line">    --nic <span class="attribute">net-id</span>=25e6c0ef-6a0a-481c-a08a-46f7ef67ad3e \</span><br><span class="line">    demo2</span><br></pre></td></tr></table></figure><p>3、分配浮动IP</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">openstack<span class="built_in"> network </span>list</span><br><span class="line">openstack floating list</span><br><span class="line">openstack floating<span class="built_in"> ip </span>create public1</span><br><span class="line">openstack<span class="built_in"> server </span><span class="builtin-name">add</span> floating<span class="built_in"> ip </span>demo2 10.0.2.156</span><br></pre></td></tr></table></figure><p><img src="http://cdn.voidking.com//imgs/openstack-vm-live-migration/floatip.jpg?imageView2/0/w/600" alt=""></p><p>3、查看实例<br>计算节点上，在/var/lib/docker/volumes/nova_compute/_data/instances目录中，可以看到新创建的实例。</p><h2 id="迁移实验"><a href="#迁移实验" class="headerlink" title="迁移实验"></a>迁移实验</h2><p>1、查看实例列表<br><code>nova list</code><br><img src="http://cdn.voidking.com//imgs/openstack-vm-live-migration/list.jpg?imageView2/0/w/600" alt=""></p><p>2、查看实例信息<br><code>nova show demo2</code><br><img src="http://cdn.voidking.com//imgs/openstack-vm-live-migration/detail3.jpg?imageView2/0/w/600" alt=""><br>可以看到demo2位于compute节点。</p><p>3、实例迁移<br><code>nova live-migration demo2 compute2</code></p><p>4、再次查看实例信息<br><code>nova show demo2</code><br><img src="http://cdn.voidking.com//imgs/openstack-vm-live-migration/detail4.jpg?imageView2/0/w/600" alt=""><br>可以看到demo2迁移到了compute2节点，迁移成功，nice。</p><h1 id="书签"><a href="#书签" class="headerlink" title="书签"></a>书签</h1><p><a href="http://www.chinastor.com/a/jishu/SAN/0222203942016.html" target="_blank" rel="noopener">DAS、NAS、SAN三种存储架构比较及应用分析</a></p></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/docker/" rel="tag"># docker</a> <a href="/tags/linux/" rel="tag"># linux</a> <a href="/tags/ubuntu/" rel="tag"># ubuntu</a> <a href="/tags/openstack/" rel="tag"># openstack</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-openstack-vm-block-live-migration/" rel="prev" title="OpenStack中虚拟机的在线迁移"><i class="fa fa-chevron-left"></i> OpenStack中虚拟机的在线迁移</a></div><div class="post-nav-item"> <a href="/dev-virtualbox-ubuntu-extend-storage/" rel="next" title="VirtualBox中Ubuntu扩容">VirtualBox中Ubuntu扩容<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zODU3Mi8xNTEwMA=="></div></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#原理"><span class="nav-number">2.</span> <span class="nav-text">原理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#主机准备"><span class="nav-number">3.</span> <span class="nav-text">主机准备</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NFS"><span class="nav-number">4.</span> <span class="nav-text">NFS</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#NFS服务器"><span class="nav-number">4.1.</span> <span class="nav-text">NFS服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#控制节点"><span class="nav-number">4.2.</span> <span class="nav-text">控制节点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#计算节点"><span class="nav-number">4.3.</span> <span class="nav-text">计算节点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#迁移"><span class="nav-number">5.</span> <span class="nav-text">迁移</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#创建实例"><span class="nav-number">5.1.</span> <span class="nav-text">创建实例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#迁移实验"><span class="nav-number">5.2.</span> <span class="nav-text">迁移实验</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#书签"><span class="nav-number">6.</span> <span class="nav-text">书签</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">学而不思则罔，思而不学则殆！</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">615</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">50</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">198</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2021</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://www.beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={iconStyle:"box",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions),flOptions={iconStyle:"box",boxForm:"horizontal",position:"topRight",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-float",flOptions)</script><script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  // window.livereOptions = {
  //   refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  // };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script></body></html>