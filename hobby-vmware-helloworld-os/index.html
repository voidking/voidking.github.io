<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="本文转载自：http:&#x2F;&#x2F;freesoftman.iteye.com&#x2F;blog&#x2F;629598 1温故而知新先温习一下汇编语言，当然这个是一个苦活！我是温习了一下《IBM-PC汇编语言程序设计》 2了解操作系统基础概念推荐一本电子书，《自己动手写操作系统》。"><meta property="og:type" content="article"><meta property="og:title" content="VMware上跑HelloWorld操作系统"><meta property="og:url" content="https://www.voidking.com/hobby-vmware-helloworld-os/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="本文转载自：http:&#x2F;&#x2F;freesoftman.iteye.com&#x2F;blog&#x2F;629598 1温故而知新先温习一下汇编语言，当然这个是一个苦活！我是温习了一下《IBM-PC汇编语言程序设计》 2了解操作系统基础概念推荐一本电子书，《自己动手写操作系统》。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://cdn.voidking.com/@/imgs/os/helloworld1.jpg"><meta property="og:image" content="http://cdn.voidking.com/@/imgs/os/helloworld2.jpg"><meta property="og:image" content="http://cdn.voidking.com/@/imgs/os/helloworld3.jpg"><meta property="article:published_time" content="2013-09-04T12:48:28.000Z"><meta property="article:modified_time" content="2021-03-11T05:57:28.586Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="操作系统"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://cdn.voidking.com/@/imgs/os/helloworld1.jpg"><link rel="canonical" href="https://www.voidking.com/hobby-vmware-helloworld-os/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>VMware上跑HelloWorld操作系统 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">好好学习，天天向上！</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/hobby-vmware-helloworld-os/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="学而不思则罔，思而不学则殆！"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> VMware上跑HelloWorld操作系统</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2013-09-04 12:48:28" itemprop="dateCreated datePublished" datetime="2013-09-04T12:48:28+00:00">2013-09-04</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/" itemprop="url" rel="index"><span itemprop="name">专业</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/%E8%BF%90%E7%BB%B4/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/%E8%BF%90%E7%BB%B4/OS/" itemprop="url" rel="index"><span itemprop="name">OS</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><p>本文转载自：<a href="http://freesoftman.iteye.com/blog/629598" target="_blank" rel="noopener">http://freesoftman.iteye.com/blog/629598</a></p><p>1温故而知新<br>先温习一下汇编语言，当然这个是一个苦活！我是温习了一下《IBM-PC汇编语言程序设计》</p><p>2了解操作系统基础概念<br>推荐一本电子书，《自己动手写操作系统》。</p><a id="more"></a><p>书中说只需要10分钟就可以完成操作系统。可是，本人确用了大约二周，惭愧呀！<br>代码只有20行左右，如下：</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">++++++++++++++boot<span class="number">.</span>asm begin ++++++++++++++++++  </span><br><span class="line"> </span><br><span class="line">org <span class="number">07c00h</span> <span class="comment">;告诉编译器程序加载到7c00处  </span></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="built_in">cs</span>  </span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">ds</span>,<span class="built_in">ax</span>  </span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">es</span>,<span class="built_in">ax</span>  </span><br><span class="line"><span class="keyword">call</span> DispStr <span class="comment">;调用显示字符串例程  </span></span><br><span class="line"><span class="keyword">jmp</span> $  <span class="comment">;无限循环  </span></span><br><span class="line">  </span><br><span class="line"><span class="symbol">DispStr:</span>  </span><br><span class="line">  <span class="keyword">mov</span> <span class="built_in">ax</span>,BootMessage  </span><br><span class="line">  <span class="keyword">mov</span> <span class="built_in">bp</span>,<span class="built_in">ax</span> <span class="comment">;es:bp = 串地址  </span></span><br><span class="line">  <span class="keyword">mov</span> <span class="built_in">cx</span>,<span class="number">16</span> <span class="comment">;cx = 串长度  </span></span><br><span class="line">  <span class="keyword">mov</span> <span class="built_in">ax</span>,<span class="number">01301h</span> <span class="comment">;ah = 13, al = 01h  </span></span><br><span class="line">  <span class="keyword">mov</span> <span class="built_in">bx</span>,<span class="number">000ch</span> <span class="comment">;页号为0（bh = 0） 黑底红字（b1 = 0Ch，高亮）  </span></span><br><span class="line">  <span class="keyword">mov</span> <span class="built_in">dl</span>,<span class="number">0</span>  </span><br><span class="line">  <span class="keyword">int</span> <span class="number">10h</span>  </span><br><span class="line">  <span class="keyword">ret</span>  </span><br><span class="line"><span class="symbol">BootMessage:</span> <span class="built_in">db</span> <span class="string">"Hello, OS world!"</span>  </span><br><span class="line"><span class="built_in">times</span> <span class="number">510</span>-($-$$) <span class="built_in">db</span> <span class="number">0</span> <span class="comment">;填充剩下的空间，使生成的二进制代码  </span></span><br><span class="line">     <span class="comment">;为512字节  </span></span><br><span class="line"><span class="built_in">dw</span> <span class="number">0xaa55</span>    <span class="comment">;结束标志  </span></span><br><span class="line"> </span><br><span class="line">++++++++++++++boot<span class="number">.</span>asm end++++++++++++++++++</span><br></pre></td></tr></table></figure><p>大家首先需要下载一个NASM的汇编编译器， 我下载的是nasm-2.06-installer(1).exe!一般只要使用迅雷<br>都能获取该编译器。至于上边代码的意思，我就不做多的解释了， 最基本的一些汇编语法。</p><p>输入命令：<br>nasm boot.asm -o boot.bin</p><p>一会儿就生成了一个镜像文件boot.bin. 该文件就是我所谓的操作系统了。哈哈！其实只是一个boot sector而已。但是这个是我们步入操作系统的第一步， 跨过了这一步，以后就海阔天空<br>理论上偶也只是使用了10分钟左右写完成了。</p><p>但是，令人恼火的是，书中介绍的是将该image写入floppy。我的本本没有floppy驱动。那么偶就必须要了解bootloader的概念。</p><p>于是，花了1周的时候了解概念，并且设想是不是能使用u盘进行启动， 将自己的boot loader程序写入到u盘的MBR中。于是询问了公司的元老，哈哈，功夫不费有心人。 让我了解了一款向u盘的MBR写入Image的工具。</p><p>这里就像大家隆重的推荐一下dd工具， 这款工具本来是Linux自带的用于向任何存储设备写镜像文件的工具。你可以在google中输入 dd for window， 那么你就可以获得window版本的dd。</p><p>接下来， 我分步讲解如何将boot.bin写入到u盘的MBR中：<br>1，打开cmd，进入dd.exe所在的目录，偶的路径为C:\NASM。如图：<br><img src="http://cdn.voidking.com/@/imgs/os/helloworld1.jpg" alt=""></p><p>2，由于dd是命令行的一个小工具，先调用命令–list， 查看一下U盘的Partition。如图：<br><img src="http://cdn.voidking.com/@/imgs/os/helloworld2.jpg" alt=""></p><p>3，从图中看到， 我的U盘partition是K, 名字为\.\Volume{66b36b20-3a85-11df-b4e4-005056c00008}<br>4，既然找到了partition地址，那么就可以将我们的boot.bin写入到U盘的MBR。</p><p>5，命令 dd if=c:\nasm\boot.bin of=\.\Volume{66b36b20-3a85-11df-b4e4-005056c00008} count=1<br>就是这条命令，你就可以把你的boot loader写入到u盘中。<br>参数含义：<br>if， 你要写入的文件绝对地址+文件名<br>of， 你想要写入的地址。<br>bs， 每次写入块大小， 默认为512字节。<br>count， 要写入指定of设备的指定块。</p><p>那么上面的命令就是， 将我的boot.bin文件中的512个字节写入到U盘的0扇区。也就是MBR。</p><p>OK,经过上面简单的处理， 那么你就可以看看效果了。 于是， 偶就重启电脑， 设置BIOS从U盘启动。</p><p>哈哈， 在界面上显示了Hello, OS world! 内心无比喜悦。</p><p>之后我想， 可不可以在vmware上使用U盘启动来查看效果呢。毕竟以后主要是在vmware上做实验啊！</p><p>但是问题又来了， vmware居然不支持U盘启动， 郁闷啊！</p><p>还有， 在网上search了解决方案。步骤如下：</p><p>1、先关闭VMware;<br>2、插入可启动的USB设备;<br>3、启动VMware;<br>4、添加硬盘,在DISK选项中选择”use a physical disk”,在device中选择刚刚添加的USB设备;（比如我实机系统已经有了二块硬盘disk0和disk1，这时候USB设备被识别为disk2)<br>5、重启VMware,修改VMware中的BIOS由SCSI启动.</p><p>在次令人兴奋的， 在vmware中也跑起来了。如图：<br><img src="http://cdn.voidking.com/@/imgs/os/helloworld3.jpg" alt=""></p><p>不知不觉就到深夜了，程序员的生涯就是寂寞中度过。<br>接下来， 偶就要开始深入进行Linux内核的研究了。 希望这篇简陋的文章对还在门口徘徊的新人有点帮助！</p></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag"># 操作系统</a></div><div class="post-nav"><div class="post-nav-item"><a href="/hobby-linux-version-comparison/" rel="prev" title="Linux各版本比较"><i class="fa fa-chevron-left"></i> Linux各版本比较</a></div><div class="post-nav-item"> <a href="/dev-ora-01033/" rel="next" title="ORA-01033">ORA-01033<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zODU3Mi8xNTEwMA=="></div></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">学而不思则罔，思而不学则殆！</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">615</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">50</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">198</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2021</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://www.beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={iconStyle:"box",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions),flOptions={iconStyle:"box",boxForm:"horizontal",position:"topRight",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-float",flOptions)</script><script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  // window.livereOptions = {
  //   refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  // };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script></body></html>