<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu-cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言OpenStack的安装是一个难点，非常难。哪怕已经安装过OpenStack，再次安装，也不敢说一定成功。安装过程中某处细微变化，也许就会出现各种奇葩错误。 总的来说，OpenStack大致分为4种安装方式：1、基于虚拟机的快速体验安装。这是最简单的方法，把搭建好环境的虚拟机运行起来即可。但是，遗憾的是，在网上没有找到OpenStack的虚拟机镜像。 2、基于DevStack快速脚本安装。这是"><meta property="og:type" content="article"><meta property="og:title" content="好好学OpenStack：VirtualBox中安装OpenStack"><meta property="og:url" content="https://www.voidking.com/dev-virtualbox-ubuntu-openstack/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言OpenStack的安装是一个难点，非常难。哪怕已经安装过OpenStack，再次安装，也不敢说一定成功。安装过程中某处细微变化，也许就会出现各种奇葩错误。 总的来说，OpenStack大致分为4种安装方式：1、基于虚拟机的快速体验安装。这是最简单的方法，把搭建好环境的虚拟机运行起来即可。但是，遗憾的是，在网上没有找到OpenStack的虚拟机镜像。 2、基于DevStack快速脚本安装。这是"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://cdn.voidking.com/img/virtualbox-ubuntu-openstack/success.jpg?imageView2/0/w/700"><meta property="og:image" content="http://cdn.voidking.com/img/virtualbox-ubuntu-openstack/dashboard.jpg?imageView2/0/w/700"><meta property="og:image" content="http://cdn.voidking.com/img/virtualbox-ubuntu-openstack/dashboard2.jpg?imageView2/0/w/700"><meta property="article:published_time" content="2017-06-13T12:00:00.000Z"><meta property="article:modified_time" content="2017-06-13T12:00:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="ubuntu"><meta property="article:tag" content="openstack"><meta property="article:tag" content="virtualbox"><meta property="article:tag" content="好好学OpenStack"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://cdn.voidking.com/img/virtualbox-ubuntu-openstack/success.jpg?imageView2/0/w/700"><link rel="canonical" href="https://www.voidking.com/dev-virtualbox-ubuntu-openstack/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>好好学OpenStack：VirtualBox中安装OpenStack | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-virtualbox-ubuntu-openstack/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 好好学OpenStack：VirtualBox中安装OpenStack</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2017-06-13 12:00:00" itemprop="dateCreated datePublished" datetime="2017-06-13T12:00:00+00:00">2017-06-13</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/devops/" itemprop="url" rel="index"><span itemprop="name">devops</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><span class="post-title-index">1.</span><a href="#前言" class="headerlink" title="前言"></a> 前言</h1><p>OpenStack的安装是一个难点，非常难。哪怕已经安装过OpenStack，再次安装，也不敢说一定成功。安装过程中某处细微变化，也许就会出现各种奇葩错误。</p><p>总的来说，OpenStack大致分为4种安装方式：<br>1、基于虚拟机的快速体验安装。<br>这是最简单的方法，把搭建好环境的虚拟机运行起来即可。但是，遗憾的是，在网上没有找到OpenStack的虚拟机镜像。</p><p>2、基于DevStack快速脚本安装。<br>这是OpenStack官方推荐的方式，安装速度较快，基于Folsom版本。但是，安装过程中一言不合就报错，困难重重。</p><p>3、使用自动化安装工具。<br>RDO、Fuel、Puppet、Chef、Salt等，都是OpenStack的自动化安装工具。说是自动化安装工具，实际上安装配置时，也是非常繁琐。</p><p>4、手动安装。<br>这种方式最困难，但是实际生产环境下，基本都需要手动安装。</p><p>本文，就探讨一下在VirtualBox中使用DevStack安装OpenStack的步骤。也就是说，我们要自己创建一个OpenStack的虚拟机镜像。</p><span id="more"></span><h1 id="系统准备"><span class="post-title-index">2.</span><a href="#系统准备" class="headerlink" title="系统准备"></a> 系统准备</h1><p>1、VirtualBox中安装好Ubuntu16，至少需要内存4G，硬盘20G。</p><p>2、配置好Ubuntu16的网络地址为192.169.56.102。</p><p>3、安装好ssh服务，方便远程操作。</p><p>步骤2和3可以参考<a href="http://www.voidking.com/dev-virtualbox-centos-ubuntu-network/">《VirtualBox下CentOS7和Ubuntu16.04网络配置》</a>。</p><h1 id="环境准备"><span class="post-title-index">3.</span><a href="#环境准备" class="headerlink" title="环境准备"></a> 环境准备</h1><p>1、安装git<br><code>apt-get install git</code></p><p>2、安装python<br><code>apt-get install python</code></p><p>3、添加stack用户<br><code>useradd -s /bin/bash -d /opt/stack -m stack</code></p><p>4、给stack用户添加sudo权限<br><code>echo &quot;stack ALL=(ALL) NOPASSWD: ALL&quot; | sudo tee /etc/sudoers.d/stack</code></p><p>5、切换到stack用户<br><code>su - stack</code></p><p>6、下载devstack<br><code>git clone https://git.openstack.org/openstack-dev/devstack</code><br>或者<br><code>git clone https://github.com/openstack-dev/devstack</code></p><p>推荐从github下载。速度缓慢，请耐心等待。</p><p>7、切换到stable/newton分支<br><code>cd devstack</code></p><p><code>git checkout stable/newton</code></p><h1 id="配置devstack"><span class="post-title-index">4.</span><a href="#配置devstack" class="headerlink" title="配置devstack"></a> 配置devstack</h1><h2 id="创建local-conf"><span class="post-title-index">4.1.</span><a href="#创建local-conf" class="headerlink" title="创建local.conf"></a> 创建local.conf</h2><p>在devstack目录下创建local.conf文件，内容如下：</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[[local|localrc]]</span><br><span class="line">ADMIN_PASSWORD=voidking</span><br><span class="line">DATABASE_PASSWORD=$ADMIN_PASSWORD</span><br><span class="line">RABBIT_PASSWORD=$ADMIN_PASSWORD</span><br><span class="line">SERVICE_PASSWORD=$ADMIN_PASSWORD</span><br><span class="line"></span><br><span class="line"><span class="comment"># Branches</span></span><br><span class="line">KEYSTONE_BRANCH=stable/newton</span><br><span class="line">NOVA_BRANCH=stable/newton</span><br><span class="line">NEUTRON_BRANCH=stable/newton</span><br><span class="line">SWIFT_BRANCH=stable/newton</span><br><span class="line">GLANCE_BRANCH=stable/newton</span><br><span class="line">CINDER_BRANCH=stable/newton</span><br><span class="line"></span><br><span class="line"><span class="comment"># Use mirror</span></span><br><span class="line">GIT_BASE=http://git.trystack.cn</span><br><span class="line">NOVNC_REPO=http://git.trystack.cn/kanaka/noVNC.git</span><br><span class="line">SPICE_REPO=http://git.trystack.cn/git/spice/spice-html5.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable heat services</span></span><br><span class="line">enable_service h-eng h-api h-api-cfn h-api-cw</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable heat plugin</span></span><br><span class="line">enable_plugin heat http://git.trystack.cn/openstack/heat.git stable/newton</span><br><span class="line"></span><br><span class="line">IMAGE_URL_SITE=<span class="string">&quot;http://download.fedoraproject.org&quot;</span></span><br><span class="line">IMAGE_URL_PATH=<span class="string">&quot;/pub/fedora/linux/releases/25/CloudImages/x86_64/images/&quot;</span></span><br><span class="line">IMAGE_URL_FILE=<span class="string">&quot;Fedora-Cloud-Base-25-1.3.x86_64.qcow2&quot;</span></span><br><span class="line">IMAGE_URLS+=<span class="string">&quot;,&quot;</span>$IMAGE_URL_SITE$IMAGE_URL_PATH$IMAGE_URL_FILE</span><br><span class="line"></span><br><span class="line"><span class="comment"># Service/Dashboard IP</span></span><br><span class="line">FLOATING_RANGE=192.168.1.224/27</span><br><span class="line">HOST_IP=192.168.56.102</span><br><span class="line">FLAT_INTERFACE=enp0s3</span><br></pre></td></tr></table></figure><h2 id="local-conf说明"><span class="post-title-index">4.2.</span><a href="#local-conf说明" class="headerlink" title="local.conf说明"></a> local.conf说明</h2><p>1、密码配置</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ADMIN_PASSWORD</span>=voidking</span><br><span class="line"><span class="attr">DATABASE_PASSWORD</span>=<span class="variable">$ADMIN_PASSWORD</span></span><br><span class="line"><span class="attr">RABBIT_PASSWORD</span>=<span class="variable">$ADMIN_PASSWORD</span></span><br><span class="line"><span class="attr">SERVICE_PASSWORD</span>=<span class="variable">$ADMIN_PASSWORD</span></span><br></pre></td></tr></table></figure><p>2、git仓库<br>devstack默认会从 <a target="_blank" rel="noopener" href="https://git.openstack.org/">https://git.openstack.org</a> 上下载openstack组件，那是相当的慢。故在local.conf必须要把仓库替换成其他源，国内推荐git.trystack.cn。注意，trystack用的是http，不是https。</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">GIT_BASE</span>=http://git.trystack.cn</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">GIT_BASE</span>=https://github.com</span><br></pre></td></tr></table></figure><p>3、branch<br>保证与devstack的branch一致，避免不可预知的问题。</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">NOVA_BRANCH</span>=stable/newton</span><br></pre></td></tr></table></figure><p>4、Service/Dashboard IP<br>与虚拟机IP保持一致。</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">HOST_IP</span>=<span class="number">192.168</span>.<span class="number">56.102</span></span><br></pre></td></tr></table></figure><h2 id="更换pypi源（可选）"><span class="post-title-index">4.3.</span><a href="#更换pypi源（可选）" class="headerlink" title="更换pypi源（可选）"></a> 更换pypi源（可选）</h2><p>devstack默认python源为 <a target="_blank" rel="noopener" href="https://pypi.python.org/">https://pypi.python.org</a> ，国内访问非常慢。可以从 <a target="_blank" rel="noopener" href="https://www.pypi-mirrors.org/">https://www.pypi-mirrors.org/</a> 选一个国内的镜像，把镜像地址写到pip.conf文件，并放到/root/.pip/pip.conf以及/home/stack/.pip/pip.conf。</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[global]</span></span><br><span class="line"><span class="attr">index-url</span> = https://pypi.doubanio.com/simple</span><br></pre></td></tr></table></figure><h1 id="安装devstack"><span class="post-title-index">5.</span><a href="#安装devstack" class="headerlink" title="安装devstack"></a> 安装devstack</h1><p>1、切换stack用户，在devstack目录下。<br><code>./stack.sh</code></p><p>安装过程中，会三次提示输入密码，这些密码需要和local.conf中保持一致。</p><p>如果下载报错了。。。，请重新执行：<br><code>./stack.sh</code></p><p>这一步非常久，郝同学用了六个多小时，请耐心等待。</p><p>3、安装成功，提示：</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">=========================</span><br><span class="line">Total runtime         <span class="number">2982</span></span><br><span class="line"></span><br><span class="line">run_process           <span class="number">104</span></span><br><span class="line">test_with_retry         <span class="number">6</span></span><br><span class="line">apt-<span class="built_in">get</span>-update         <span class="number">22</span></span><br><span class="line">pip_install           <span class="number">462</span></span><br><span class="line">restart_apache_server  <span class="number">15</span></span><br><span class="line">wait_for_service       <span class="number">26</span></span><br><span class="line">apt-<span class="built_in">get</span>                <span class="number">12</span></span><br><span class="line">=========================</span><br><span class="line"></span><br><span class="line">This <span class="built_in">is</span> your host IP address: <span class="number">192.168</span><span class="number">.56</span><span class="number">.102</span></span><br><span class="line">This <span class="built_in">is</span> your host IPv6 address: ::<span class="number">1</span></span><br><span class="line">Horizon <span class="built_in">is</span> now available <span class="built_in">at</span> http://<span class="number">192.168</span><span class="number">.56</span><span class="number">.102</span>/dashboard</span><br><span class="line">Keystone <span class="built_in">is</span> serving <span class="built_in">at</span> http://<span class="number">192.168</span><span class="number">.56</span><span class="number">.102</span>/<span class="built_in">identity</span>/</span><br><span class="line">The default users are: admin <span class="keyword">and</span> <span class="built_in">demo</span></span><br><span class="line">The password: voidking</span><br><span class="line"><span class="number">2017</span>-<span class="number">06</span>-<span class="number">15</span> <span class="number">01</span>:<span class="number">01</span>:<span class="number">59.770</span> | WARNING: </span><br><span class="line"><span class="number">2017</span>-<span class="number">06</span>-<span class="number">15</span> <span class="number">01</span>:<span class="number">01</span>:<span class="number">59.771</span> | Using lib/neutron-legacy <span class="built_in">is</span> deprecated, <span class="keyword">and</span> it will be removed <span class="keyword">in</span> the future</span><br><span class="line"><span class="number">2017</span>-<span class="number">06</span>-<span class="number">15</span> <span class="number">01</span>:<span class="number">01</span>:<span class="number">59.771</span> | stack.sh completed <span class="keyword">in</span> <span class="number">2982</span> seconds.</span><br></pre></td></tr></table></figure><p><img src="http://cdn.voidking.com/img/virtualbox-ubuntu-openstack/success.jpg?imageView2/0/w/700"></p><p>4、大功告成，这时就可以通过浏览器访问openstack服务了！<br>访问地址：<a target="_blank" rel="noopener" href="http://192.168.56.102/dashboard">http://192.168.56.102/dashboard</a></p><p><img src="http://cdn.voidking.com/img/virtualbox-ubuntu-openstack/dashboard.jpg?imageView2/0/w/700"></p><p>PS：如果这一步无法访问，提示“Internal Server Error”，那么需要手动把ip地址加到local_settings.py里的ALLOWED_HOSTS字段。<br><code>vim /opt/stack/horizon/openstack_dashboard/local/local_settings.py</code></p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># If horizon is running in production (DEBUG is False), set this</span></span><br><span class="line"><span class="comment"># with the list of host/domain names that the application can serve.</span></span><br><span class="line"><span class="comment"># For more information see:</span></span><br><span class="line"><span class="comment"># https://docs.djangoproject.com/en/dev/ref/settings/#allowed-hosts</span></span><br><span class="line"><span class="attr">ALLOWED_HOSTS</span> = [<span class="string">&#x27;*&#x27;</span>]</span><br></pre></td></tr></table></figure><p>然后重启apache2服务，<code>service apache2 restart</code></p><p>5、输入用户名admin，密码voidking，进入管理面板。<br><img src="http://cdn.voidking.com/img/virtualbox-ubuntu-openstack/dashboard2.jpg?imageView2/0/w/700"></p><h1 id="书签"><span class="post-title-index">6.</span><a href="#书签" class="headerlink" title="书签"></a> 书签</h1><ul><li><a target="_blank" rel="noopener" href="http://blog.csdn.net/dead911/article/details/53953965">VirtualBox + DevStack</a></li><li><a target="_blank" rel="noopener" href="https://docs.openstack.org/developer/devstack/">DevStack</a></li><li><a target="_blank" rel="noopener" href="https://www.ustack.com/blog/install-openstack-in-10mins">10分钟安装OpenStack</a></li><li><a target="_blank" rel="noopener" href="http://www.cnblogs.com/yudar/p/4630758.html">Fuel 30 分钟快速安装OpenStack</a></li><li><a target="_blank" rel="noopener" href="http://geek.csdn.net/news/detail/53890/">个人电脑上搭建OpenStack的实验室</a></li><li><a target="_blank" rel="noopener" href="https://docs.openstack.org/developer/devstack/guides/single-machine.html">All-In-One Single Machine</a></li><li><a target="_blank" rel="noopener" href="http://lingxiankong.github.io/blog/huawei-allinone-operation-guide/">Huawei Icehouse All in One Operation Guide</a></li><li><a target="_blank" rel="noopener" href="http://www.chenshake.com/openstack-project-series-3-devstack/">OpenStack项目系列介绍（3） Devstack</a></li><li><a target="_blank" rel="noopener" href="http://blog.csdn.net/mygrus/article/details/53816022">DevStack环境搭建</a></li><li><a target="_blank" rel="noopener" href="http://releases.ubuntu.com/14.04/">Ubuntu14.04下载地址1</a></li><li><a target="_blank" rel="noopener" href="http://ftp.sjtu.edu.cn/ubuntu-cd/14.04/">Ubuntu14.04下载地址2</a></li></ul></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-virtualbox-ubuntu-openstack/" title="好好学OpenStack：VirtualBox中安装OpenStack">https://www.voidking.com/dev-virtualbox-ubuntu-openstack/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/ubuntu/" rel="tag"># ubuntu</a> <a href="/tags/openstack/" rel="tag"># openstack</a> <a href="/tags/virtualbox/" rel="tag"># virtualbox</a> <a href="/tags/%E5%A5%BD%E5%A5%BD%E5%AD%A6OpenStack/" rel="tag"># 好好学OpenStack</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-openstack-start/" rel="prev" title="好好学OpenStack：OpenStack入门篇"><i class="fa fa-chevron-left"></i> 好好学OpenStack：OpenStack入门篇</a></div><div class="post-nav-item"> <a href="/dev-leetcode-sort/" rel="next" title="leetcode刷题记录-排序算法总结">leetcode刷题记录-排序算法总结<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">1. 前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E5%87%86%E5%A4%87"><span class="nav-text">2. 系统准备</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="nav-text">3. 环境准备</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEdevstack"><span class="nav-text">4. 配置devstack</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAlocal-conf"><span class="nav-text">4.1. 创建local.conf</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#local-conf%E8%AF%B4%E6%98%8E"><span class="nav-text">4.2. local.conf说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%B4%E6%8D%A2pypi%E6%BA%90%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89"><span class="nav-text">4.3. 更换pypi源（可选）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85devstack"><span class="nav-text">5. 安装devstack</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B9%A6%E7%AD%BE"><span class="nav-text">6. 书签</span></a></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">748</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">32</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">259</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2025</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: '2d05efd363beb64563da3dd76c4efa53',
      title: '好好学OpenStack：VirtualBox中安装OpenStack',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>