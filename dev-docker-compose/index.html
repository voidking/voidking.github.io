<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu.cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="Docker-Compose简介Docker-Compose（简称Compose）是用于定义和运行多容器Docker应用程序的工具。通过Compose，可以使用YAML文件来配置应用程序的服务。然后使用一个命令，就可以从配置中创建并启动所有服务。 本文中，我们来学习一下Compose的基础用法。 参考文档：  Overview of Docker Compose Docker 入门教程 docke"><meta property="og:type" content="article"><meta property="og:title" content="好好学Docker：Docker-Compose入门篇"><meta property="og:url" content="https://www.voidking.com/dev-docker-compose/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="Docker-Compose简介Docker-Compose（简称Compose）是用于定义和运行多容器Docker应用程序的工具。通过Compose，可以使用YAML文件来配置应用程序的服务。然后使用一个命令，就可以从配置中创建并启动所有服务。 本文中，我们来学习一下Compose的基础用法。 参考文档：  Overview of Docker Compose Docker 入门教程 docke"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2019-11-03T20:00:00.000Z"><meta property="article:modified_time" content="2024-03-16T08:00:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="docker"><meta property="article:tag" content="问题排查"><meta property="article:tag" content="网络"><meta property="article:tag" content="好好学Docker"><meta property="article:tag" content="docker-compose"><meta property="article:tag" content="存储"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-docker-compose/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>好好学Docker：Docker-Compose入门篇 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-docker-compose/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 好好学Docker：Docker-Compose入门篇</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-11-03 20:00:00" itemprop="dateCreated datePublished" datetime="2019-11-03T20:00:00+00:00">2019-11-03</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2024-03-16 08:00:00" itemprop="dateModified" datetime="2024-03-16T08:00:00+00:00">2024-03-16</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/docker/" itemprop="url" rel="index"><span itemprop="name">docker</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/network/" itemprop="url" rel="index"><span itemprop="name">network</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/troubleshooting/" itemprop="url" rel="index"><span itemprop="name">troubleshooting</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/storage/" itemprop="url" rel="index"><span itemprop="name">storage</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="Docker-Compose简介"><span class="post-title-index">1.</span><a href="#Docker-Compose简介" class="headerlink" title="Docker-Compose简介"></a> Docker-Compose简介</h1><p>Docker-Compose（简称Compose）是用于定义和运行多容器Docker应用程序的工具。<br>通过Compose，可以使用YAML文件来配置应用程序的服务。然后使用一个命令，就可以从配置中创建并启动所有服务。</p><p>本文中，我们来学习一下Compose的基础用法。</p><p>参考文档：</p><ul><li><a target="_blank" rel="noopener" href="https://docs.docker.com/compose/">Overview of Docker Compose</a></li><li><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html">Docker 入门教程</a></li><li><a target="_blank" rel="noopener" href="https://github.com/docker/compose">docker/compose</a></li></ul><span id="more"></span><h1 id="安装Compose"><span class="post-title-index">2.</span><a href="#安装Compose" class="headerlink" title="安装Compose"></a> 安装Compose</h1><p>在CentOS7机器上，假设已经了Docker，参考<a target="_blank" rel="noopener" href="https://docs.docker.com/compose/install/">Install Docker Compose</a>安装Compose-Docker。如果没有安装Docker，那么参考<a href="https://www.voidking.com/dev-docker-start/">Docker入门</a>进行安装。</p><p>1、安装docker-compose 1.24.1 版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo curl -L <span class="string">&quot;https://github.com/docker/compose/releases/download/1.24.1/docker-compose-<span class="subst">$(uname -s)</span>-<span class="subst">$(uname -m)</span>&quot;</span> -o /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure><p>2、添加执行权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">chmod</span> +x /usr/local/bin/docker-compose</span><br><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/bin/docker-compose /usr/bin/docker-compose</span><br></pre></td></tr></table></figure><p>3、验证安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure><h1 id="Compose运行容器"><span class="post-title-index">3.</span><a href="#Compose运行容器" class="headerlink" title="Compose运行容器"></a> Compose运行容器</h1><p>1、定义 docker-compose.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">vk-nginx</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;80:80&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;443:443&quot;</span></span><br></pre></td></tr></table></figure><p>2、启动容器<br>在 docker-compose.yml 文件所在目录，执行命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><p>执行之后，会启动一个名为 vk-nginx 的容器，主机端口80映射到容器端口80，主机端口443映射到容器端口443。</p><p>上面的配置和启动命令，实际上相当于</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run --name vk-nginx -d \</span><br><span class="line">  -p 80:80 \</span><br><span class="line">  -p 443:443 \</span><br><span class="line">  nginx:latest</span><br></pre></td></tr></table></figure><h1 id="Compose常用命令"><span class="post-title-index">4.</span><a href="#Compose常用命令" class="headerlink" title="Compose常用命令"></a> Compose常用命令</h1><h2 id="创建-销毁容器"><span class="post-title-index">4.1.</span><a href="#创建-销毁容器" class="headerlink" title="创建/销毁容器"></a> 创建/销毁容器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建并运行容器</span></span><br><span class="line">docker-compose up</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建并后台运行容器</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭并删除容器</span></span><br><span class="line">docker-compose down</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭并删除容器，连带删除容器挂载卷</span></span><br><span class="line">docker-compose down -v</span><br><span class="line">docker-compose down --volumes</span><br></pre></td></tr></table></figure><h2 id="启动-停止容器"><span class="post-title-index">4.2.</span><a href="#启动-停止容器" class="headerlink" title="启动/停止容器"></a> 启动/停止容器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 关闭容器但不删除容器</span></span><br><span class="line">docker-compose stop</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动容器</span></span><br><span class="line">docker-compose start</span><br></pre></td></tr></table></figure><h2 id="查看容器"><span class="post-title-index">4.3.</span><a href="#查看容器" class="headerlink" title="查看容器"></a> 查看容器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看容器</span></span><br><span class="line">docker-compose ps</span><br><span class="line">docker-compose ps -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看web服务的环境变量</span></span><br><span class="line">docker-compose run web <span class="built_in">env</span></span><br></pre></td></tr></table></figure><h1 id="Compose常用配置"><span class="post-title-index">5.</span><a href="#Compose常用配置" class="headerlink" title="Compose常用配置"></a> Compose常用配置</h1><h2 id="自定义启动命令"><span class="post-title-index">5.1.</span><a href="#自定义启动命令" class="headerlink" title="自定义启动命令"></a> 自定义启动命令</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">test:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">alpine:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">test</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&#x27;tail&#x27;</span>,<span class="string">&#x27;-f&#x27;</span>,<span class="string">&#x27;/dev/null&#x27;</span>]</span><br></pre></td></tr></table></figure><h2 id="使用环境变量"><span class="post-title-index">5.2.</span><a href="#使用环境变量" class="headerlink" title="使用环境变量"></a> 使用环境变量</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">test:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">alpine:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">test</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&#x27;tail&#x27;</span>,<span class="string">&#x27;-f&#x27;</span>,<span class="string">&#x27;/dev/null&#x27;</span>]</span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_HOST:</span> <span class="string">&#x27;192.166.56.100&#x27;</span></span><br><span class="line">      <span class="attr">MYSQL_PORT:</span> <span class="string">&#x27;3306&#x27;</span></span><br><span class="line">      <span class="attr">MYSQL_USER:</span> <span class="string">&#x27;root&#x27;</span></span><br><span class="line">      <span class="attr">MYSQL_PASSWORD:</span> <span class="string">&#x27;mysql123&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="容器挂掉后自动拉起"><span class="post-title-index">5.3.</span><a href="#容器挂掉后自动拉起" class="headerlink" title="容器挂掉后自动拉起"></a> 容器挂掉后自动拉起</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">test:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">alpine:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">test</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&#x27;tail&#x27;</span>,<span class="string">&#x27;-f&#x27;</span>,<span class="string">&#x27;/dev/null&#x27;</span>]</span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br></pre></td></tr></table></figure><h2 id="使用volume"><span class="post-title-index">5.4.</span><a href="#使用volume" class="headerlink" title="使用volume"></a> 使用volume</h2><p>docker使用持久化存储的时候，有两种方式：</p><ul><li>bind mount方式：挂载宿主机的绝对路径（目录和文件都可以）到容器</li><li>volume方式：挂载volume（本质是目录）到容器</li></ul><p>使用bind mount方式，如果宿主文件夹是空的，不光容器内的文件不会被复制到宿主机器上，容器的内容还会被覆盖为空，对于一些容器内路径文件夹存放config文件的情况，宿主目录为空会导致容器内的对应目录被清空，造成启动错误的问题。<br>使用volume方式，容器内的文件会被保留在volume中（对应的_data文件夹）内部，也就是文件被复制到宿主机器上.</p><p>两种方式都可以使用-v(–volume)和–mount参数，但是，在创建bind mount的时候，使用–volume会自动创建宿主方的文件夹，而–mount不会，因此使用–mount映射不存在的目录，会报错。</p><p>docker-compose指定的时候，有一些区别：</p><ul><li>使用bind mount的时候，宿主这边可以使用相对路径了(<code>./</code>)，不需要显示指定(<code>$PWD</code>)</li><li>可以在指定volume名称的同时创建volume，需要使用<code>volume:</code>的配置项</li></ul><p>以下是一个使用volumes的示例：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line">  <span class="attr">dolphinscheduler-master:</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">dolphinscheduler-logs:/opt/dolphinscheduler/logs</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">dolphinscheduler-shared-local:/opt/soft</span></span><br><span class="line">      <span class="comment">#- /xxx/mysql-connector.jar:/opt/dolphinscheduler/libs/mysql-connector.jar</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">bind</span></span><br><span class="line">        <span class="attr">source:</span> <span class="string">/xxx/mysql-connector.jar</span></span><br><span class="line">        <span class="attr">target:</span> <span class="string">/opt/dolphinscheduler/libs/mysql-connector.jar</span></span><br></pre></td></tr></table></figure><p>参考文档：</p><ul><li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/podolski/archive/2022/09/01/16647195.html">关于使用docker volume挂载的注意事项</a></li></ul><h2 id="使用expose和ports"><span class="post-title-index">5.5.</span><a href="#使用expose和ports" class="headerlink" title="使用expose和ports"></a> 使用expose和ports</h2><p>参考文档：</p><ul><li><a target="_blank" rel="noopener" href="https://www.baeldung.com/ops/docker-compose-expose-vs-ports">Difference Between Expose and Ports in Docker Compose</a></li><li><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/compose_run/">docker compose run</a></li></ul><h3 id="expose"><span class="post-title-index">5.5.1.</span><a href="#expose" class="headerlink" title="expose"></a> expose</h3><p>expose暴露的端口，可由连接到同一网络的其他服务访问，但不会在宿主机上发布。<br>例如：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">myapp1:</span></span><br><span class="line">    <span class="string">...</span></span><br><span class="line">    <span class="attr">expose:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3000&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8000&quot;</span></span><br><span class="line">  <span class="attr">myapp2:</span></span><br><span class="line">    <span class="string">...</span></span><br><span class="line">    <span class="attr">expose:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;5000&quot;</span></span><br></pre></td></tr></table></figure><p><code>docker ps</code>结果如下：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID   IMAGE    COMMAND     CREATED     STATUS      PORTS               NAMES</span><br><span class="line">8673c14f18d1   ...      ...         ...         ...         3000/tcp, 8000/tcp  bael_myapp1</span><br><span class="line">bc044e180131   ...      ...         ...         ...         5000/tcp            bael_myapp2</span><br></pre></td></tr></table></figure><h3 id="ports"><span class="post-title-index">5.5.2.</span><a href="#ports" class="headerlink" title="ports"></a> ports</h3><p>ports暴露的端口，可由连接到同一网络的其他服务访问，并在宿主机上发布。<br>例如：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">myapp1:</span></span><br><span class="line">    <span class="string">...</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;3000&quot;</span>                             <span class="comment"># container port (3000), assigned to random host port</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;3001-3005&quot;</span>                        <span class="comment"># container port range (3001-3005), assigned to random host ports</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;8000:8000&quot;</span>                        <span class="comment"># container port (8000), assigned to given host port (8000)</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;9090-9091:8080-8081&quot;</span>              <span class="comment"># container port range (8080-8081), assigned to given host port range (9090-9091)</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;127.0.0.1:8002:8002&quot;</span>              <span class="comment"># container port (8002), assigned to given host port (8002) and bind to 127.0.0.1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;6060:6060/udp&quot;</span>                    <span class="comment"># container port (6060) restricted to UDP protocol, assigned to given host (6060)</span></span><br></pre></td></tr></table></figure><p><code>docker ps</code>结果如下：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID   ... PORTS                                                                        NAMES</span><br><span class="line">e8c65b9eec91   ... 0.0.0.0:51060-&gt;3000/tcp, 0.0.0.0:51063-&gt;3001/tcp, 0.0.0.0:51064-&gt;3002/tcp,   bael_myapp1</span><br><span class="line">                   0.0.0.0:51065-&gt;3003/tcp, 0.0.0.0:51061-&gt;3004/tcp, 0.0.0.0:51062-&gt;3005/tcp, </span><br><span class="line">                   0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9090-&gt;8080/tcp, 0.0.0.0:9091-&gt;8081/tcp</span><br><span class="line">                   127.0.0.1:8002-&gt;8002/tcp, 0.0.0.0:6060-&gt;6060/udp</span><br></pre></td></tr></table></figure><p>ports长语法：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span> </span><br><span class="line">  <span class="attr">myapp1:</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="comment"># - &quot;127.0.0.1:6060:6060/udp&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">target:</span> <span class="number">6060</span></span><br><span class="line">    <span class="attr">host_ip:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">    <span class="attr">published:</span> <span class="number">6060</span></span><br><span class="line">    <span class="attr">protocol:</span> <span class="string">udp</span></span><br><span class="line">    <span class="attr">mode:</span> <span class="string">host</span></span><br></pre></td></tr></table></figure><h3 id="小结"><span class="post-title-index">5.5.3.</span><a href="#小结" class="headerlink" title="小结"></a> 小结</h3><p>这两种暴露方式，最大的区别在于是否在宿主机上暴露端口，是否对外部网络提供服务。<br>使用<code>docker ps</code>查看容器时，根据<code>PORTS</code>字段，我们也能判断出该容器是否在宿主机上暴露端口。</p><p>但是，个别情况下，虽然我们看到的是端口是<code>3000/tcp</code>，但是依然可能在宿主机上暴露端口。可能是docker/docker-compose某个版本的bug，也可能是yaml文件中的version不匹配，也可能是其他什么原因。<br>这种情况下，只能找到docker-compose.yml，查看端口映射关系，然后查看宿主机端口开放情况。</p><h2 id="共享IPC"><span class="post-title-index">5.6.</span><a href="#共享IPC" class="headerlink" title="共享IPC"></a> 共享IPC</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">first:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">ipc:</span> <span class="string">shareable</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">share_container</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&#x27;tail&#x27;</span>,<span class="string">&#x27;-f&#x27;</span>,<span class="string">&#x27;/dev/null&#x27;</span>]</span><br><span class="line">  <span class="attr">second:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">ipc:</span> <span class="string">&#x27;container:share_container&#x27;</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&#x27;tail&#x27;</span>,<span class="string">&#x27;-f&#x27;</span>,<span class="string">&#x27;/dev/null&#x27;</span>]</span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;first&#x27;</span></span><br></pre></td></tr></table></figure><h1 id="Docker-Compose网络问题"><span class="post-title-index">6.</span><a href="#Docker-Compose网络问题" class="headerlink" title="Docker-Compose网络问题"></a> Docker-Compose网络问题</h1><h2 id="问题描述"><span class="post-title-index">6.1.</span><a href="#问题描述" class="headerlink" title="问题描述"></a> 问题描述</h2><p>宿主机执行 <code>docker-compose up -d</code> 之后，宿主机突然无法从其他主机 ping 通了。</p><h2 id="问题排查"><span class="post-title-index">6.2.</span><a href="#问题排查" class="headerlink" title="问题排查"></a> 问题排查</h2><p>查看路由，发现路由中存在和主机网络冲突的路由。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ip route</span><br><span class="line">route -n</span><br></pre></td></tr></table></figure><p>查看docker网段使用情况，发现冲突的路由是由docker compose创建的。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker network list</span><br><span class="line">docker network inspect xxx</span><br></pre></td></tr></table></figure><h2 id="原因分析和解决办法"><span class="post-title-index">6.3.</span><a href="#原因分析和解决办法" class="headerlink" title="原因分析和解决办法"></a> 原因分析和解决办法</h2><p>原因分析：<code>docker-compose up</code>的时候，会自动创建一个网桥，占用一个网段，并且添加路由规则。<br>如果这个网段和现有网段发生了冲突，就会导致一些非预期的网络问题，比如主机突然访问不通了。</p><p>解决办法：指定容器网段。详情参考<a target="_blank" rel="noopener" href="https://www.cnblogs.com/lemon-le/p/10531449.html">docker-compose up使用自定义的网段的两种方式</a></p><p>例如指定compose启动的容器网段为 192.168.51.0/24</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;2.3&#x27;</span></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">harbor:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">bridge</span></span><br><span class="line">    <span class="attr">ipam:</span></span><br><span class="line">      <span class="attr">driver:</span> <span class="string">default</span></span><br><span class="line">      <span class="attr">config:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">subnet:</span> <span class="number">192.168</span><span class="number">.51</span><span class="number">.0</span><span class="string">/24</span></span><br><span class="line">        <span class="attr">gateway:</span> <span class="number">192.168</span><span class="number">.51</span><span class="number">.1</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">registry:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">goharbor/registry-photon:v2.3.3</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">registry</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="string">...</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">harbor</span></span><br></pre></td></tr></table></figure></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-docker-compose/" title="好好学Docker：Docker-Compose入门篇">https://www.voidking.com/dev-docker-compose/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li><li> <img width="200" height="200" src="/images/avatar.jpg"><p style="text-align:center;margin-bottom:0">微信公众号同步更新，欢迎关注~</p></li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/docker/" rel="tag"># docker</a> <a href="/tags/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/" rel="tag"># 问题排查</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag"># 网络</a> <a href="/tags/%E5%A5%BD%E5%A5%BD%E5%AD%A6Docker/" rel="tag"># 好好学Docker</a> <a href="/tags/docker-compose/" rel="tag"># docker-compose</a> <a href="/tags/%E5%AD%98%E5%82%A8/" rel="tag"># 存储</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-alpine-start/" rel="prev" title="Alpine入门篇"><i class="fa fa-chevron-left"></i> Alpine入门篇</a></div><div class="post-nav-item"> <a href="/dev-docker-compose-with-build/" rel="next" title="好好学Docker：Docker Compose构建镜像并启动容器">好好学Docker：Docker Compose构建镜像并启动容器<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Docker-Compose%E7%AE%80%E4%BB%8B"><span class="nav-text">1. Docker-Compose简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Compose"><span class="nav-text">2. 安装Compose</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Compose%E8%BF%90%E8%A1%8C%E5%AE%B9%E5%99%A8"><span class="nav-text">3. Compose运行容器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Compose%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-text">4. Compose常用命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-%E9%94%80%E6%AF%81%E5%AE%B9%E5%99%A8"><span class="nav-text">4.1. 创建&#x2F;销毁容器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8-%E5%81%9C%E6%AD%A2%E5%AE%B9%E5%99%A8"><span class="nav-text">4.2. 启动&#x2F;停止容器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%AE%B9%E5%99%A8"><span class="nav-text">4.3. 查看容器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Compose%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE"><span class="nav-text">5. Compose常用配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4"><span class="nav-text">5.1. 自定义启动命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-text">5.2. 使用环境变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8%E6%8C%82%E6%8E%89%E5%90%8E%E8%87%AA%E5%8A%A8%E6%8B%89%E8%B5%B7"><span class="nav-text">5.3. 容器挂掉后自动拉起</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8volume"><span class="nav-text">5.4. 使用volume</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8expose%E5%92%8Cports"><span class="nav-text">5.5. 使用expose和ports</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#expose"><span class="nav-text">5.5.1. expose</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ports"><span class="nav-text">5.5.2. ports</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-text">5.5.3. 小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B1%E4%BA%ABIPC"><span class="nav-text">5.6. 共享IPC</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Docker-Compose%E7%BD%91%E7%BB%9C%E9%97%AE%E9%A2%98"><span class="nav-text">6. Docker-Compose网络问题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0"><span class="nav-text">6.1. 问题描述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5"><span class="nav-text">6.2. 问题排查</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%9F%E5%9B%A0%E5%88%86%E6%9E%90%E5%92%8C%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95"><span class="nav-text">6.3. 原因分析和解决办法</span></a></li></ol></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">710</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">253</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: '19b76b04992e84539e8515ccefc89548',
      title: '好好学Docker：Docker-Compose入门篇',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>