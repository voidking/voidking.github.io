<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu.cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言访问个人网站，偶尔会跳出广告，看来网站被运营商劫持了。为了避免这种情况，郝同学决定对网站进行https加密。早在2015年，美国政府就要求所有联邦政府网站使用https加密连接，这次郝同学追赶一下国际潮流的尾巴。 HTTPS(SSL&#x2F;TLS)加密原理，参考文档《浅谈数据加密》。"><meta property="og:type" content="article"><meta property="og:title" content="Hexo启用HTTPS加密连接"><meta property="og:url" content="https://www.voidking.com/dev-hexo-https/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言访问个人网站，偶尔会跳出广告，看来网站被运营商劫持了。为了避免这种情况，郝同学决定对网站进行https加密。早在2015年，美国政府就要求所有联邦政府网站使用https加密连接，这次郝同学追赶一下国际潮流的尾巴。 HTTPS(SSL&#x2F;TLS)加密原理，参考文档《浅谈数据加密》。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://cdn.voidking.com//imgs/hexo-https/new-domain.jpg"><meta property="article:published_time" content="2018-04-07T15:30:00.000Z"><meta property="article:modified_time" content="2023-10-14T08:00:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="nginx"><meta property="article:tag" content="hexo"><meta property="article:tag" content="https"><meta property="article:tag" content="加密"><meta property="article:tag" content="tls"><meta property="article:tag" content="ssl"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://cdn.voidking.com//imgs/hexo-https/new-domain.jpg"><link rel="canonical" href="https://www.voidking.com/dev-hexo-https/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>Hexo启用HTTPS加密连接 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-hexo-https/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> Hexo启用HTTPS加密连接</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-04-07 15:30:00" itemprop="dateCreated datePublished" datetime="2018-04-07T15:30:00+00:00">2018-04-07</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2023-10-14 08:00:00" itemprop="dateModified" datetime="2023-10-14T08:00:00+00:00">2023-10-14</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/devops/" itemprop="url" rel="index"><span itemprop="name">devops</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/hexo/" itemprop="url" rel="index"><span itemprop="name">hexo</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><span class="post-title-index">1.</span><a href="#前言" class="headerlink" title="前言"></a> 前言</h1><p>访问个人网站，偶尔会跳出广告，看来网站被运营商劫持了。为了避免这种情况，郝同学决定对网站进行https加密。早在2015年，美国政府就要求所有联邦政府网站使用https加密连接，这次郝同学追赶一下国际潮流的尾巴。</p><p>HTTPS(SSL/TLS)加密原理，参考文档<a href="https://www.voidking.com/dev-encryption-algorithm/">《浅谈数据加密》</a>。</p><span id="more"></span><h1 id="HTTPS配置方法"><span class="post-title-index">2.</span><a href="#HTTPS配置方法" class="headerlink" title="HTTPS配置方法"></a> HTTPS配置方法</h1><p>https是在http下加入ssl层，那么，怎么加入呢？<br>很简单，在nginx、apache等web服务器中加入ssl安全证书的配置即可。</p><h1 id="SSL证书申请"><span class="post-title-index">3.</span><a href="#SSL证书申请" class="headerlink" title="SSL证书申请"></a> SSL证书申请</h1><p>很多网站都提供免费的ssl证书：</p><ul><li><a target="_blank" rel="noopener" href="https://common-buy.aliyun.com/?spm=a2c4g.11186623.2.4.tiF9wE&commodityCode=cas#/buy">阿里云免费SSL证书</a>，保护类型选择1个域名，选择品牌选择Symantec，即可看到免费型DV SSL。</li><li><a target="_blank" rel="noopener" href="https://console.qcloud.com/ssl">腾讯云免费SSL证书</a></li><li><a target="_blank" rel="noopener" href="https://portal.qiniu.com/certificate/apply">七牛免费SSL证书</a></li></ul><p>推荐使用腾讯云，注册登录，根据提示填写信息，不久就可以拿到证书。</p><p>解压<code>www.voidking.com.zip</code>，可以得到下列文件：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">www<span class="selector-class">.voidking</span><span class="selector-class">.com</span></span><br><span class="line">│  www<span class="selector-class">.voidking</span><span class="selector-class">.com</span><span class="selector-class">.csr</span></span><br><span class="line">│</span><br><span class="line">├─Apache</span><br><span class="line">│      <span class="number">1</span>_root_bundle<span class="selector-class">.crt</span></span><br><span class="line">│      <span class="number">2</span>_www<span class="selector-class">.voidking</span><span class="selector-class">.com</span><span class="selector-class">.crt</span></span><br><span class="line">│      <span class="number">3</span>_www<span class="selector-class">.voidking</span><span class="selector-class">.com</span><span class="selector-class">.key</span></span><br><span class="line">│</span><br><span class="line">├─IIS</span><br><span class="line">│      keystorePass<span class="selector-class">.txt</span></span><br><span class="line">│      www<span class="selector-class">.voidking</span><span class="selector-class">.com</span><span class="selector-class">.pfx</span></span><br><span class="line">│</span><br><span class="line">├─Nginx</span><br><span class="line">│      <span class="number">1</span>_www<span class="selector-class">.voidking</span><span class="selector-class">.com_bundle</span><span class="selector-class">.crt</span></span><br><span class="line">│      <span class="number">2</span>_www<span class="selector-class">.voidking</span><span class="selector-class">.com</span><span class="selector-class">.key</span></span><br><span class="line">│</span><br><span class="line">└─Tomcat</span><br><span class="line">        keystorePass<span class="selector-class">.txt</span></span><br><span class="line">        www<span class="selector-class">.voidking</span><span class="selector-class">.com</span>.jks</span><br></pre></td></tr></table></figure><h1 id="配置思路"><span class="post-title-index">4.</span><a href="#配置思路" class="headerlink" title="配置思路"></a> 配置思路</h1><h2 id="GitLab"><span class="post-title-index">4.1.</span><a href="#GitLab" class="headerlink" title="GitLab"></a> GitLab</h2><p>github和coding，都不支持上传ssl证书。但是，gitlab支持啊！最简单的思路就是，把网站迁到<a target="_blank" rel="noopener" href="https://about.gitlab.com/">gitlab</a>上。</p><p>按照这个思路，参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/winter_evening/article/details/72353953">《利用gitlab pages和hexo搭建一个个人博客》</a>和<a target="_blank" rel="noopener" href="https://www.figotan.org/using-free-wosign-to-certificate-your-blog-on-gitlab/">《零成本打造安全博客的简单办法》</a>。</p><p>1、打开gitlab的项目，Settings，Pages，New Domain，即可进入域名配置页面。<br><img src="http://cdn.voidking.com//imgs/hexo-https/new-domain.jpg"></p><p>2、Domain填入<code>www.voidking.com</code>，Certificate (PEM)填入<code>1_www.voidking.com_bundle.crt</code>中的内容，Key (PEM)填入<code>2_www.voidking.com.key</code>中的内容。</p><h2 id="Cloudflare"><span class="post-title-index">4.2.</span><a href="#Cloudflare" class="headerlink" title="Cloudflare"></a> Cloudflare</h2><p><a target="_blank" rel="noopener" href="https://www.cloudflare.com/">Cloudflare</a>是一家CDN提供商，它提供了免费的https服务（但不是应用SSL证书）。实现模式就是，用户到CDN服务器的连接为https，而CDN服务器到真实服务器的连接为http。也就是说，在CDN服务器那里加上反向代理。没错，又是反向代理，只不过这次的代理服务器归属于Cloudflare，不是我们自己的。</p><p>这种方式，好处是你不需要拥有自己的公网服务器，坏处是你必须把域名的dns服务器换成cloudflare。</p><p>具体设置步骤参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/u011244202/article/details/57106544">《让个人域名下GithubPage完美支持https》</a>。</p><h2 id="Nginx反向代理"><span class="post-title-index">4.3.</span><a href="#Nginx反向代理" class="headerlink" title="Nginx反向代理"></a> Nginx反向代理</h2><p>反向代理是普遍思路，无论我们的真实服务器在github、coding还是gitlab，都可以使用反向代理的方式完成https加密连接。前提是你有一个公网服务器，上面安装了nginx。</p><p>用户访问域名；域名解析到公网IP，访问到nginx；nginx反向代理到coding等真实服务器，通过http方式拿到页面；nginx拿到页面后进行ssl加密，然后返回给用户加密后的页面。</p><h2 id="选择配置方式"><span class="post-title-index">4.4.</span><a href="#选择配置方式" class="headerlink" title="选择配置方式"></a> 选择配置方式</h2><p>相对而言，Nginx反向代理是最通用的方式。</p><p>这里我们就选择Nginx反向代理的方式，通过Nginx反向代理coding pages上的博客，来实现https加密。</p><h1 id="详细步骤"><span class="post-title-index">5.</span><a href="#详细步骤" class="headerlink" title="详细步骤"></a> 详细步骤</h1><h2 id="修改域名解析"><span class="post-title-index">5.1.</span><a href="#修改域名解析" class="headerlink" title="修改域名解析"></a> 修改域名解析</h2><p>原来的域名解析位CNAME记录，指向 pages.coding.me 。</p><p>现在修改为A记录，指向自己的主机公网IP。</p><h2 id="上传证书"><span class="post-title-index">5.2.</span><a href="#上传证书" class="headerlink" title="上传证书"></a> 上传证书</h2><p>1、创建证书目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /etc/nginx/ssl</span><br></pre></td></tr></table></figure><p>2、上传证书<br>上传 <code>1_www.voidking.com_bundle.crt</code> 和 <code>2_www.voidking.com.key</code> 到 ssl 目录。</p><h2 id="配置Nginx"><span class="post-title-index">5.3.</span><a href="#配置Nginx" class="headerlink" title="配置Nginx"></a> 配置Nginx</h2><p>1、coding pages配置不变，依然绑定 <a href="http://www.voidking.com/">www.voidking.com</a> 域名。</p><p>2、/etc/nginx/conf.d 中新建配置文件 <a target="_blank" rel="noopener" href="http://www.voidking.com.conf/">www.voidking.com.conf</a> ，内容如下：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    listen 443 ssl;</span><br><span class="line">    server_name www.voidking.com;</span><br><span class="line">    charset utf-8;</span><br><span class="line"></span><br><span class="line">    ssl_certificate /etc/nginx/ssl/1_www.voidking.com_bundle.crt;</span><br><span class="line">    ssl_certificate_key  /etc/nginx/ssl/2_www.voidking.com.key;</span><br><span class="line">    ssl_session_timeout  5m;</span><br><span class="line">    ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">    ssl_ciphers  HIGH:!ADH:!EXPORT56:RC4+RSA:+MEDIUM;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">    if ($ssl_protocol = &quot;&quot;) &#123;</span><br><span class="line">        return 301 https://$host$request_uri;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_set_header   Host             $host;</span><br><span class="line">        proxy_set_header   X-Real-IP        $remote_addr;</span><br><span class="line">        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;</span><br><span class="line"></span><br><span class="line">        proxy_pass http://voidking.coding.me;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个配置中，http 自动重定向到 https。</p><p>注意SSL的配置不要加 ssl on ，否则启动时会存在一个警告：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[warn] 1#1: the &quot;ssl&quot; directive is deprecated, use the &quot;listen ... ssl&quot; directive instead in /etc/nginx/conf.d/www.voidking.com.conf:11</span><br></pre></td></tr></table></figure><p>3、重启nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart nginx</span><br></pre></td></tr></table></figure><p>访问 <a href="http://www.voidking.com/">http://www.voidking.com</a> ，会自动跳转到 <a href="https://www.voidking.com/">https://www.voidking.com</a> ，说明配置成功。</p><p>4、测试访问<br>访问 <a href="https://www.voidking.com/">https://www.voidking.com</a> ，已经可以正常访问网址。</p><p>有些脚本是通过http方式引用的，会提示不安全，需要修改hexo主题。</p><h1 id="修改Hexo主题"><span class="post-title-index">6.</span><a href="#修改Hexo主题" class="headerlink" title="修改Hexo主题"></a> 修改Hexo主题</h1><p>修改Hexo主题，使之支持https。修改详情参考 <a target="_blank" rel="noopener" href="https://github.com/voidking/hexo-theme-yilia/commit/a228365fde606b07d40e754a336c16f64b793496">voidking/hexo-theme-yilia/commit/a228365</a></p><h1 id="后记"><span class="post-title-index">7.</span><a href="#后记" class="headerlink" title="后记"></a> 后记</h1><p>这里并没有配置 voidking.com 和 blog.voidking.com ，我们可以参照上面的步骤进行配置。<br>但是，更加简单的配置方式，是在dnspod上配置显性url，直接跳转到 <a href="http://www.voidking.com/">http://www.voidking.com</a> 。</p><p>本文主要研究Hexo启用https加密连接。其实所有Web站点都可以启用https加密连接，原理相同。</p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-hexo-https/" title="Hexo启用HTTPS加密连接">https://www.voidking.com/dev-hexo-https/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li><li> <img width="200" height="200" src="/images/avatar.jpg"><p style="text-align:center;margin-bottom:0">微信公众号同步更新，欢迎关注~</p></li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/nginx/" rel="tag"># nginx</a> <a href="/tags/hexo/" rel="tag"># hexo</a> <a href="/tags/https/" rel="tag"># https</a> <a href="/tags/%E5%8A%A0%E5%AF%86/" rel="tag"># 加密</a> <a href="/tags/tls/" rel="tag"># tls</a> <a href="/tags/ssl/" rel="tag"># ssl</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-qiniu-oss-https-proxy/" rel="prev" title="七牛对象存储添加HTTPS代理"><i class="fa fa-chevron-left"></i> 七牛对象存储添加HTTPS代理</a></div><div class="post-nav-item"> <a href="/dev-encryption-algorithm/" rel="next" title="浅谈数据加密">浅谈数据加密<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">1. 前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HTTPS%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95"><span class="nav-text">2. HTTPS配置方法</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SSL%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7"><span class="nav-text">3. SSL证书申请</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%80%9D%E8%B7%AF"><span class="nav-text">4. 配置思路</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#GitLab"><span class="nav-text">4.1. GitLab</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Cloudflare"><span class="nav-text">4.2. Cloudflare</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86"><span class="nav-text">4.3. Nginx反向代理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F"><span class="nav-text">4.4. 选择配置方式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%A6%E7%BB%86%E6%AD%A5%E9%AA%A4"><span class="nav-text">5. 详细步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90"><span class="nav-text">5.1. 修改域名解析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8A%E4%BC%A0%E8%AF%81%E4%B9%A6"><span class="nav-text">5.2. 上传证书</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AENginx"><span class="nav-text">5.3. 配置Nginx</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9Hexo%E4%B8%BB%E9%A2%98"><span class="nav-text">6. 修改Hexo主题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%8E%E8%AE%B0"><span class="nav-text">7. 后记</span></a></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">702</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">256</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: '086865b538ba499c76ba11a16b78461c',
      title: 'Hexo启用HTTPS加密连接',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>