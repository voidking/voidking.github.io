<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu-cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="Docker buildx 是什么？Docker buildx 是 Docker 官方维护的一个 CLI 插件，它基于 BuildKit 引擎，提供了不同于 docker build 的更多功能，buildx的一个关键特性是可以同时为不同的硬件架构构建并输出镜像，使得我们可以很容易地交叉构建镜像。比如，我们可以在 AMD64 的机器上构建 ARM64 架构的镜像，这对于软件的跨平台支持非常有用。"><meta property="og:type" content="article"><meta property="og:title" content="好好学Docker：基于Docker buildx构建多平台镜像"><meta property="og:url" content="https://www.voidking.com/dev-docker-buildx/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="Docker buildx 是什么？Docker buildx 是 Docker 官方维护的一个 CLI 插件，它基于 BuildKit 引擎，提供了不同于 docker build 的更多功能，buildx的一个关键特性是可以同时为不同的硬件架构构建并输出镜像，使得我们可以很容易地交叉构建镜像。比如，我们可以在 AMD64 的机器上构建 ARM64 架构的镜像，这对于软件的跨平台支持非常有用。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2024-05-04T08:00:00.000Z"><meta property="article:modified_time" content="2024-05-04T08:00:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="docker"><meta property="article:tag" content="好好学Docker"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-docker-buildx/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>好好学Docker：基于Docker buildx构建多平台镜像 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-docker-buildx/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 好好学Docker：基于Docker buildx构建多平台镜像</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2024-05-04 08:00:00" itemprop="dateCreated datePublished" datetime="2024-05-04T08:00:00+00:00">2024-05-04</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/docker/" itemprop="url" rel="index"><span itemprop="name">docker</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="Docker-buildx-是什么？"><span class="post-title-index">1.</span><a href="#Docker-buildx-是什么？" class="headerlink" title="Docker buildx 是什么？"></a> Docker buildx 是什么？</h1><p>Docker buildx 是 Docker 官方维护的一个 CLI 插件，它基于 BuildKit 引擎，提供了不同于 docker build 的更多功能，<br>buildx的一个关键特性是可以同时为不同的硬件架构构建并输出镜像，使得我们可以很容易地交叉构建镜像。比如，我们可以在 AMD64 的机器上构建 ARM64 架构的镜像，这对于软件的跨平台支持非常有用。</p><p>Docker buildx 支持的平台主要包括以下几种：</p><ul><li>Linux：包括多种 CPU 架构和操作系统，如 x86_64、ARM、IBM Power、IBM Z 等。</li><li>Windows：包括多种 CPU 架构和操作系统，如 x86_64、ARM64 等。</li><li>macOS：支持 Intel、Apple M1 架构。</li></ul><p>在本文中，我们将学习 Docker buildx 工具，并基于它构建多平台镜像。</p><p>参考文档：</p><ul><li><a target="_blank" rel="noopener" href="https://github.com/docker/buildx">github - docker/buildx</a></li><li><a target="_blank" rel="noopener" href="https://jimmysong.io/blog/docker-multi-platform-image-building/">Docker 多平台构建指南：构建 WebAssembly 镜像</a></li><li><a target="_blank" rel="noopener" href="https://docs.docker.com/build/drivers/docker-container/">Docker container build driver</a></li><li><a target="_blank" rel="noopener" href="https://blog.haohtml.com/archives/31052">利用 docker buildx 构建多平台镜像</a></li></ul><span id="more"></span><h1 id="Docker-buildx-builder是什么？"><span class="post-title-index">2.</span><a href="#Docker-buildx-builder是什么？" class="headerlink" title="Docker buildx builder是什么？"></a> Docker buildx builder是什么？</h1><p>单纯的 Docker builder，一般是指执行 Docker 镜像构建任务的一个实体或者进程。</p><p>在 Docker buildx 工具中，builder 指的是进行镜像构建的一个实例或环境。</p><p>builder 实例的特性：</p><ul><li>它可以被配置为支持跨多种平台的构建，如 <code>linux/amd64</code>、<code>linux/arm64</code> 等。</li><li>每个 builder 实例可以使用不同的驱动程序，Docker buildx 默认支持两种类型的驱动：<code>docker</code> 和 <code>docker-container</code>。</li><li>它允许我们定义构建环境的不同方面，比如资源限制、构建缓存存储位置等。</li><li>builder 实例可以是本地的，也可以被配置为分布式，由多个节点组成，以便分布式地执行构建任务。</li></ul><p>builder 实例常用命令：</p><ul><li><code>docker buildx ls</code>：查看 builer 实例列表</li><li><code>docker buildx inspect</code>：检查当前 builder 实例的详细信息，如果想查看特定的 builder，可以将其名称作为参数传入命令</li><li><code>docker buildx use</code>：切换到一个指定的 builder 实例，让后续的 <code>docker buildx</code> 命令使用该实例</li><li><code>docker buildx create</code>：创建新的 builder 实例</li><li><code>docker buildx update</code>：修改 builder 实例配置</li><li><code>docker buildx rm</code>：删除一个 builder 实例</li></ul><p>builder 常用配置：</p><ul><li>平台：指定 builder 可以为哪些操作系统和架构对组合来构建镜像。例如 <code>linux/amd64</code>、<code>linux/arm64</code>、<code>windows/amd64</code> 等。</li><li>环境变量：为 builder 实例设定环境变量，这些变量在构建过程中可用。</li><li>构建选项：例如构建缓存的位置、构建输出的位置、是否使用 BuildKit 功能等。</li><li>节点：在使用 <code>docker-container</code> 驱动时，我们可以添加多个节点，这些节点可以扩展 builder 的构建能力。</li><li>驱动选项：指定构建使用的驱动和配置，例如 <code>image</code> 驱动或者 <code>docker-container</code> 驱动的细节配置，包括使用的网络模式等。</li></ul><h1 id="配置-Docker-buildx-环境"><span class="post-title-index">3.</span><a href="#配置-Docker-buildx-环境" class="headerlink" title="配置 Docker buildx 环境"></a> 配置 Docker buildx 环境</h1><p>1、确保 Docker 版本不低于 19.03，才能使用 buildx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker --version</span><br></pre></td></tr></table></figure><p>2、检查 buildx 插件</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker buildx version</span><br></pre></td></tr></table></figure><p>通过apt或者yum等包管理方式安装的Docker，默认是带有 buildx 插件的。</p><p>如果我们使用的 Docker 版本中没有包含 buildx，或者想要安装最新版本的 buildx，可以访问 <a target="_blank" rel="noopener" href="https://github.com/docker/buildx">github - docker/buildx</a> 获取安装指南。</p><p>3、安装 buildx 插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/docker/buildx/releases/download/v0.14.0/buildx-v0.14.0.linux-amd64</span><br><span class="line"><span class="built_in">chmod</span> a+x buildx-v0.14.0.linux-amd64</span><br><span class="line"><span class="built_in">mkdir</span> -p /usr/libexec/docker/cli-plugins</span><br><span class="line"><span class="built_in">mv</span> buildx-v0.14.0.linux-amd64 /usr/libexec/docker/cli-plugins/docker-buildx</span><br></pre></td></tr></table></figure><p>更多系统适用的 buildx 版本，可以访问<a target="_blank" rel="noopener" href="https://github.com/docker/buildx/releases">github - buildx releases</a>页面获取。</p><p>4、启用实验性功能<br>为了构建多平台镜像，需要确保 Docker 的实验性功能被启用，因为 buildx 依赖这些功能。<br>我们可以通过修改 Docker 配置文件（通常位于 <code>~/.docker/config.json</code>）来启用实验功能。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;experimental&quot;</span><span class="punctuation">:</span> <span class="string">&quot;enabled&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h1 id="支持多平台构建的-builder-实例"><span class="post-title-index">4.</span><a href="#支持多平台构建的-builder-实例" class="headerlink" title="支持多平台构建的 builder 实例"></a> 支持多平台构建的 builder 实例</h1><p>buildx 有一个默认的 builder，但是这个builder不支持多平台构建。因此，我们需要创建一个支持多平台构建的 builder 实例。</p><p>1、查看 builder</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker buildx <span class="built_in">ls</span></span><br></pre></td></tr></table></figure><p>2、创建一个支持多平台构建的 builder 实例，并切换到新的builder</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker buildx create --name mybuilder --driver docker-container --use</span><br></pre></td></tr></table></figure><p>注意：使用docker-container driver才支持多平台构建。</p><p>3、查看 builder 详情并初始化</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker buildx inspect --bootstrap</span><br></pre></td></tr></table></figure><p>4、切换builder</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker buildx use default</span><br><span class="line">docker buildx use mybuilder</span><br></pre></td></tr></table></figure><p>5、查看builder详情</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker buildx inspect mybuilder</span><br></pre></td></tr></table></figure><h1 id="构建多平台的镜像"><span class="post-title-index">5.</span><a href="#构建多平台的镜像" class="headerlink" title="构建多平台的镜像"></a> 构建多平台的镜像</h1><p>1、查看基础镜像的多平台镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker buildx imagetools inspect busybox:1.34</span><br></pre></td></tr></table></figure><p>2、编写 Dockerfile</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FROM busybox:1.34</span><br></pre></td></tr></table></figure><p>3、构建多平台镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker buildx build --platform linux/amd64,linux/arm64,linux/arm/v7  -t voidking/busybox:1.34 .</span><br></pre></td></tr></table></figure><p>出现警告：WARNING: No output specified with docker-container driver. Build result will only remain in the build cache. To push result image into registry use –push or to load image into docker use –load</p><p>这个命令将会为 amd64、arm64 和 arm/v7 架构构建镜像，但是，构建后的镜像通过 <code>docker images</code> 是看不到的，只会存在BuildKit 的构建缓存中，也就是说<code>-t</code>参数是无效的。</p><p>想要看到构建出的镜像，有两个办法：<br>方法一：使用<code>--push</code>参数直接上传到镜像仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker buildx build --platform linux/amd64,linux/arm64,linux/arm/v7  -t voidking/busybox:1.34 --push .</span><br><span class="line">docker buildx imagetools inspect voidking/busybox:1.34</span><br></pre></td></tr></table></figure><p>方法二：使用<code>--load</code>参数，一次只构建一个平台的镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker buildx build --platform linux/arm64  -t voidking/busybox:1.34 --load .</span><br><span class="line">docker inspect voidking/busybox:1.34</span><br></pre></td></tr></table></figure><h1 id="后记"><span class="post-title-index">6.</span><a href="#后记" class="headerlink" title="后记"></a> 后记</h1><p>构建出的镜像，并不确保一定可用。可以使用像 QEMU 这样的模拟器，或者实际的硬件设备来测试构建的容器镜像。</p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-docker-buildx/" title="好好学Docker：基于Docker buildx构建多平台镜像">https://www.voidking.com/dev-docker-buildx/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li><li> <img width="200" height="200" src="/images/avatar.jpg"><p style="text-align:center;margin-bottom:0">微信公众号同步更新，欢迎关注~</p></li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/docker/" rel="tag"># docker</a> <a href="/tags/%E5%A5%BD%E5%A5%BD%E5%AD%A6Docker/" rel="tag"># 好好学Docker</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-docker-webide-vscode/" rel="prev" title="好好学Docker：使用Docker安装配置WebIDE VSCode"><i class="fa fa-chevron-left"></i> 好好学Docker：使用Docker安装配置WebIDE VSCode</a></div><div class="post-nav-item"> <a href="/dev-nftables-start/" rel="next" title="nftables入门篇">nftables入门篇<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Docker-buildx-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-text">1. Docker buildx 是什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Docker-buildx-builder%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-text">2. Docker buildx builder是什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-Docker-buildx-%E7%8E%AF%E5%A2%83"><span class="nav-text">3. 配置 Docker buildx 环境</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%94%AF%E6%8C%81%E5%A4%9A%E5%B9%B3%E5%8F%B0%E6%9E%84%E5%BB%BA%E7%9A%84-builder-%E5%AE%9E%E4%BE%8B"><span class="nav-text">4. 支持多平台构建的 builder 实例</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9E%84%E5%BB%BA%E5%A4%9A%E5%B9%B3%E5%8F%B0%E7%9A%84%E9%95%9C%E5%83%8F"><span class="nav-text">5. 构建多平台的镜像</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%8E%E8%AE%B0"><span class="nav-text">6. 后记</span></a></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">744</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">32</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">259</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2025</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: '74e7a30ba8c84fb579721bd08dbcc762',
      title: '好好学Docker：基于Docker buildx构建多平台镜像',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>