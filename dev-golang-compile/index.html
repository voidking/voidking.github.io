<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu-cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言编译是将高级语言编写的源代码转换成机器能够执行的指令的过程。编译可以分为几个阶段，这包括词法分析、语法分析、语义分析、中间代码生成、优化和目标代码生成。对于Go语言（Golang）来说，编译不仅仅是构建程序的一部分，而且是其设计哲学的核心，确保了速度、安全性和跨平台的灵活性。 参考文档：  How To Build and Install Go Programs Go 编译相关的命令详解 go"><meta property="og:type" content="article"><meta property="og:title" content="好好学Golang：Golang中的编译"><meta property="og:url" content="https://www.voidking.com/dev-golang-compile/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言编译是将高级语言编写的源代码转换成机器能够执行的指令的过程。编译可以分为几个阶段，这包括词法分析、语法分析、语义分析、中间代码生成、优化和目标代码生成。对于Go语言（Golang）来说，编译不仅仅是构建程序的一部分，而且是其设计哲学的核心，确保了速度、安全性和跨平台的灵活性。 参考文档：  How To Build and Install Go Programs Go 编译相关的命令详解 go"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2019-08-08T20:00:00.000Z"><meta property="article:modified_time" content="2024-05-04T08:00:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="golang"><meta property="article:tag" content="好好学Golang"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-golang-compile/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>好好学Golang：Golang中的编译 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-golang-compile/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 好好学Golang：Golang中的编译</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-08-08 20:00:00" itemprop="dateCreated datePublished" datetime="2019-08-08T20:00:00+00:00">2019-08-08</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2024-05-04 08:00:00" itemprop="dateModified" datetime="2024-05-04T08:00:00+00:00">2024-05-04</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/golang/" itemprop="url" rel="index"><span itemprop="name">golang</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><span class="post-title-index">1.</span><a href="#前言" class="headerlink" title="前言"></a> 前言</h1><p>编译是将高级语言编写的源代码转换成机器能够执行的指令的过程。<br>编译可以分为几个阶段，这包括词法分析、语法分析、语义分析、中间代码生成、优化和目标代码生成。<br>对于Go语言（Golang）来说，编译不仅仅是构建程序的一部分，而且是其设计哲学的核心，确保了速度、安全性和跨平台的灵活性。</p><p>参考文档：</p><ul><li><a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/how-to-build-and-install-go-programs">How To Build and Install Go Programs</a></li><li><a target="_blank" rel="noopener" href="https://golang.design/go-questions/compile/cmd/">Go 编译相关的命令详解</a></li><li><a target="_blank" rel="noopener" href="http://www.lsdcloud.com/go/middleware/go-build.html">go build命令详解</a></li><li><a target="_blank" rel="noopener" href="https://go.dev/doc/tutorial/compile-install">Compile and install the application</a></li></ul><span id="more"></span><h1 id="Go编译器的特点"><span class="post-title-index">2.</span><a href="#Go编译器的特点" class="headerlink" title="Go编译器的特点"></a> Go编译器的特点</h1><ul><li>快速编译：Go编译器以其极快的编译速度而闻名。这得益于Go的简洁语法、依赖管理系统和编译器的设计。快速的编译对提高开发效率和迭代速度至关重要。</li><li>静态链接：Go编程语言创建的二进制文件是静态链接的，这意味着所有依赖库都被包含在最终的可执行文件中。因此，我们可以在没有Go环境的系统上运行它们，无需担心依赖问题。</li><li>跨平台编译：使用Go，我们可以轻松地为不同的操作系统和架构编译程序。通过设置GOOS和GOARCH环境变量，Go编译器可以产生针对几乎任何平台的编译输出。</li><li>内存安全：Go的编译器会在编译时进行内存安全的检查，例如自动内存管理（GC）。这一机制有效防止了像野指针或内存泄漏这样的问题。</li><li>报错和警告：Go编译器非常严格，对于一些可能在运行时引起问题的代码段，如未使用的变量或导入的包，将无法通过编译，直到这些问题被修复。</li></ul><h1 id="编译命令"><span class="post-title-index">3.</span><a href="#编译命令" class="headerlink" title="编译命令"></a> 编译命令</h1><h2 id="标准编译命令"><span class="post-title-index">3.1.</span><a href="#标准编译命令" class="headerlink" title="标准编译命令"></a> 标准编译命令</h2><p>编译Go代码非常简单，使用<code>go build</code>命令即可。在大多数情况下，这一命令无需任何参数，它会自动处理所有文件依赖和包引用。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go build</span><br></pre></td></tr></table></figure><p>此命令将编译当前目录中的Go源文件。如果当前目录是包含Go代码的单个包的目录，它将产生一个可执行文件。</p><p>go build 需要的是一个路径，让编译器可以找到哪些需要编译的go文件。当省略所有参数时，就意味着使用当前目录进行编译。<br>下面的几条命令是等价的：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">go build</span><br><span class="line">go build .</span><br><span class="line">go build main.go</span><br></pre></td></tr></table></figure><h2 id="自定义输出"><span class="post-title-index">3.2.</span><a href="#自定义输出" class="headerlink" title="自定义输出"></a> 自定义输出</h2><p>使用<code>-o</code>标志，我们可以为生成的二进制文件指定一个名字及路径。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go build -o myapp</span><br></pre></td></tr></table></figure><h2 id="交叉编译"><span class="post-title-index">3.3.</span><a href="#交叉编译" class="headerlink" title="交叉编译"></a> 交叉编译</h2><p>Go语言（Golang）支持交叉编译，即在一个平台上编译生成另一个平台可执行的程序。<br>这意味着我们可以在Mac上为Linux系统编译二进制文件，也可以在Windows上为ARM处理器编译程序，等等。<br>Go语言交叉编译非常容易实现，因此被广泛应用于生成各种不同系统和架构的可执行程序，使得开发者可以轻松为多个平台构建应用。</p><p>要构建特定平台的应用程序，我们可以设置<code>GOOS</code>和<code>GOARCH</code>环境变量，分别表示操作系统和处理器架构。<br>常见的GOOS值有：</p><ul><li><code>darwin</code>（Apple MacOS）</li><li><code>linux</code></li><li><code>windows</code></li><li><code>freebsd</code></li></ul><p>常见的GOARCH值有：</p><ul><li><code>amd64</code>（64位x86架构）</li><li><code>386</code> （32位x86架构）</li><li><code>arm</code> （ARM架构）</li><li><code>arm64</code>（64位ARM架构）</li></ul><p>例如，我们可以为Windows 64位系统生成可执行文件，即便我们正在使用Linux或macOS。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GOOS=windows GOARCH=amd64 go build</span><br></pre></td></tr></table></figure><p>这将在我们的非Windows系统上生成一个Windows可执行程序。</p><p>交叉编译注意事项：<br>1、安装golang依赖<br>确保在进行交叉编译之前所有项目依赖都已经正确安装，运行<code>go mod tidy</code> 可以帮助我们清理和同步项目依赖。此外，我们的项目代码也应该没有平台相关的依赖，否则可能需要根据目标平台进行适配。</p><p>2、安装目标平台的库和工具链<br>交叉编译时，可能需要注意目标平台的特定库或工具链支持。<br>例如，当我们在64位系统上编译32位程序时，相应32位的库应该是可用的。还有，某些依赖C语言库（如CGO程序）的Go程序可能需要额外配置或安装相应的跨平台C语言库和工具链。</p><p>3、目标平台测试<br>建议在目标平台上测试编译结果，以确保程序的正常运行。</p><h1 id="简单编译示例"><span class="post-title-index">4.</span><a href="#简单编译示例" class="headerlink" title="简单编译示例"></a> 简单编译示例</h1><h2 id="编译Linux二进制文件"><span class="post-title-index">4.1.</span><a href="#编译Linux二进制文件" class="headerlink" title="编译Linux二进制文件"></a> 编译Linux二进制文件</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GOOS=linux GOARCH=amd64 go build -o myapp myapp.go</span><br></pre></td></tr></table></figure><p>生成一个Linux下可运行的可执行文件<code>myapp</code>。</p><p>注意：如果是在Windows中执行编译，需要使用<code>set</code>命令配置环境变量：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt; set GOOS=linux</span><br><span class="line">C:\&gt; set GOARCH=amd64</span><br></pre></td></tr></table></figure><h2 id="编译Windows二进制文件"><span class="post-title-index">4.2.</span><a href="#编译Windows二进制文件" class="headerlink" title="编译Windows二进制文件"></a> 编译Windows二进制文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GOOS=windows GOARCH=amd64 go build -o myapp.exe myapp.go</span><br></pre></td></tr></table></figure><p>生成一个名为<code>myapp.exe</code>的Windows可执行文件。</p><h2 id="编译Mac二进制文件"><span class="post-title-index">4.3.</span><a href="#编译Mac二进制文件" class="headerlink" title="编译Mac二进制文件"></a> 编译Mac二进制文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GOOS=darwin GOARCH=amd64 go build -o myapp myapp.go</span><br></pre></td></tr></table></figure><p>生成一个Mac系统可运行的二进制文件<code>myapp</code>。</p><h2 id="编译ARM二进制文件"><span class="post-title-index">4.4.</span><a href="#编译ARM二进制文件" class="headerlink" title="编译ARM二进制文件"></a> 编译ARM二进制文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GOOS=linux GOARCH=arm GOARM=7 go build -o myapp myapp.go</span><br></pre></td></tr></table></figure><p>这个命令指定了<code>GOARM</code>环境变量，它用于定义ARM的具体版本。<br>比如，<code>GOARM=7</code>通常用于诸如Raspberry Pi 2/3这样的较新ARM设备上。</p><h1 id="复杂编译示例"><span class="post-title-index">5.</span><a href="#复杂编译示例" class="headerlink" title="复杂编译示例"></a> 复杂编译示例</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -a -installsuffix cgo -ldflags=<span class="string">&quot;-w -s&quot;</span> -o /go/bin/pod-data-retorer</span><br></pre></td></tr></table></figure><p>编译命令释义：</p><p>1、 <code>CGO_ENABLED=0</code>：</p><ul><li><code>CGO_ENABLED</code> 环境变量控制是否启用CGo。CGo允许Go代码调用C代码。</li><li>设置为<code>0</code>表示禁用CGo，这有助于确保生成的可执行文件能在没有C库（特别是在别的平台上没有C环境的情况下）的环境中运行。</li></ul><p>2、 <code>GOOS=linux</code> 和 <code>GOARCH=amd64</code>：</p><ul><li>这两个变量定义了目标编译平台的操作系统和处理器架构。</li><li><code>GOOS=linux</code> 指定目标操作系统是Linux。</li><li><code>GOARCH=amd64</code> 指定目标处理器架构是64位x86架构。</li></ul><p>3、<code>go build -a -installsuffix cgo</code>：</p><ul><li><code>go build</code> 是Go语言的标准编译命令。</li><li><code>-a</code> 选项告诉Go编译器重建所有涉及到的东西，包括所有的包（即使它们没有变化）。</li><li><code>-installsuffix cgo</code> 是用来给输出的文件名添加一个后缀，以区分不同编译配置下的编译结果。由于我们设置了 <code>CGO_ENABLED=0</code>，所以这里使用的后缀是 <code>cgo</code>。</li></ul><p>4、<code>-ldflags=&quot;-w -s&quot;</code>：</p><ul><li><code>ldflags</code> 表示链接器（linker）标志。</li><li><code>-w</code> 和 <code>-s</code> 是链接选项，分别用于减小生成的二进制文件大小：<br>     - <code>-w</code> 告诉编译器忽略DWARF调试信息，从而减小了生成文件的大小。<br>     - <code>-s</code> 用于去除符号表和调试信息，进一步减小二进制文件的大小。</li></ul><p>5、<code>-o /go/bin/pod-data-retorer</code>：</p><ul><li><code>-o</code> 选项用来指定输出的二进制文件名。</li><li><code>/go/bin/pod-data-retorer</code> 是输出的二进制文件的完整路径和名称。这里指定了文件会被放在<code>/go/bin/</code>目录下，并且命名为<code>pod-data-retorer</code>。</li></ul><p>综上所述，这条命令会生成一个静态链接的、没有C库依赖、文件尺寸优化的Linux 64位平台的可执行文件<code>pod-data-retorer</code>，并且会放在<code>/go/bin</code>目录下。轻量化和去除C库依赖的特点使得生成的可执行文件特别适合在容器化环境（如Docker）中运行，因为它能够减少容器镜像的大小，并且降低对环境的依赖。</p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-golang-compile/" title="好好学Golang：Golang中的编译">https://www.voidking.com/dev-golang-compile/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/golang/" rel="tag"># golang</a> <a href="/tags/%E5%A5%BD%E5%A5%BD%E5%AD%A6Golang/" rel="tag"># 好好学Golang</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-golang-context/" rel="prev" title="好好学Golang：上下文Context"><i class="fa fa-chevron-left"></i> 好好学Golang：上下文Context</a></div><div class="post-nav-item"> <a href="/dev-gin-start/" rel="next" title="好好学Golang：Gin框架入门篇">好好学Golang：Gin框架入门篇<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">1. 前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Go%E7%BC%96%E8%AF%91%E5%99%A8%E7%9A%84%E7%89%B9%E7%82%B9"><span class="nav-text">2. Go编译器的特点</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4"><span class="nav-text">3. 编译命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%87%E5%87%86%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4"><span class="nav-text">3.1. 标准编译命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BE%93%E5%87%BA"><span class="nav-text">3.2. 自定义输出</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91"><span class="nav-text">3.3. 交叉编译</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E7%BC%96%E8%AF%91%E7%A4%BA%E4%BE%8B"><span class="nav-text">4. 简单编译示例</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E8%AF%91Linux%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6"><span class="nav-text">4.1. 编译Linux二进制文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E8%AF%91Windows%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6"><span class="nav-text">4.2. 编译Windows二进制文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E8%AF%91Mac%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6"><span class="nav-text">4.3. 编译Mac二进制文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E8%AF%91ARM%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6"><span class="nav-text">4.4. 编译ARM二进制文件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%8D%E6%9D%82%E7%BC%96%E8%AF%91%E7%A4%BA%E4%BE%8B"><span class="nav-text">5. 复杂编译示例</span></a></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">776</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">33</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">269</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2026</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: 'f7a2702055988b09c35430f2dbd74e4e',
      title: '好好学Golang：Golang中的编译',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>