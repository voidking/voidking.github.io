<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu.cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言Vim是Linux和Unix上的编辑器，由Vi升级而来。 已经使用了Vim好多年，但是，水平仅仅停留在修改配置文件的水平。不会把它当做主要的编辑器，更不会用它进行编码开发。最近，童钢老师提醒了我，作为运维人员，Vim需要用得更加熟练一些，最好能把Vim作为默认编辑器使用。 所以，本文决定研究一下更高阶的Vim使用技巧，主要参考优雅玩转Vim。"><meta property="og:type" content="article"><meta property="og:title" content="Vim进阶"><meta property="og:url" content="https://www.voidking.com/dev-vim-advance/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言Vim是Linux和Unix上的编辑器，由Vi升级而来。 已经使用了Vim好多年，但是，水平仅仅停留在修改配置文件的水平。不会把它当做主要的编辑器，更不会用它进行编码开发。最近，童钢老师提醒了我，作为运维人员，Vim需要用得更加熟练一些，最好能把Vim作为默认编辑器使用。 所以，本文决定研究一下更高阶的Vim使用技巧，主要参考优雅玩转Vim。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2018-12-18T14:30:00.000Z"><meta property="article:modified_time" content="2021-05-16T14:30:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="编辑器"><meta property="article:tag" content="linux"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-vim-advance/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>Vim进阶 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-vim-advance/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> Vim进阶</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-12-18 14:30:00" itemprop="dateCreated datePublished" datetime="2018-12-18T14:30:00+00:00">2018-12-18</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-05-16 14:30:00" itemprop="dateModified" datetime="2021-05-16T14:30:00+00:00">2021-05-16</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/devops/" itemprop="url" rel="index"><span itemprop="name">devops</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/uncategories/" itemprop="url" rel="index"><span itemprop="name">uncategories</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><span class="post-title-index">1.</span><a href="#前言" class="headerlink" title="前言"></a> 前言</h1><p>Vim是Linux和Unix上的编辑器，由Vi升级而来。</p><p>已经使用了Vim好多年，但是，水平仅仅停留在修改配置文件的水平。不会把它当做主要的编辑器，更不会用它进行编码开发。最近，童钢老师提醒了我，作为运维人员，Vim需要用得更加熟练一些，最好能把Vim作为默认编辑器使用。</p><p>所以，本文决定研究一下更高阶的Vim使用技巧，主要参考<a target="_blank" rel="noopener" href="https://www.imooc.com/learn/1049">优雅玩转Vim</a>。</p><span id="more"></span><h1 id="Vimrc"><span class="post-title-index">2.</span><a href="#Vimrc" class="headerlink" title="Vimrc"></a> Vimrc</h1><p>Vimrc指的是Vim的配置文件，<code>rc=run command</code>，Vim 的全局配置一般在<code>/etc/vim/vimrc</code>或者<code>/etc/vimrc</code>，对所有用户生效。用户个人的配置在<code>~/.vimrc</code>。</p><p>如果只对单次编辑启用某个配置项，可以在命令模式下，先输入一个冒号，再输入配置。举例来说，<code>set number</code>这个配置可以写在<code>.vimrc</code>里面，也可以在命令模式输入。</p><p>配置项一般都有”打开”和”关闭”两个设置。”关闭”就是在”打开”前面加上前缀”no”。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&quot; 打开</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">number</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 关闭</span></span><br><span class="line"><span class="keyword">set</span> nonumber</span><br></pre></td></tr></table></figure><p>上面代码中，双引号开始的行表示注释。</p><p>查询某个配置项是打开还是关闭，可以在命令模式下，输入该配置，并在后面加上问号。</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">set</span> <span class="built_in">number</span>?</span><br></pre></td></tr></table></figure><p>上面的命令会返回number或者nonumber。</p><p>如果想查看帮助，可以使用help命令。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">help</span> <span class="keyword">number</span></span><br></pre></td></tr></table></figure><p>更多内容参考<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2018/09/vimrc.html">Vim 配置入门</a>。</p><p>有一些大神把Vim配置得非常炫酷，比如<a target="_blank" rel="noopener" href="https://github.com/amix/vimrc">amix</a>和<a target="_blank" rel="noopener" href="https://github.com/humiaozuzu/dot-vimrc">humiaozuzu</a>。</p><p>附上一份常用的vim配置：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&quot; 语法高亮</span></span><br><span class="line"><span class="keyword">syntax</span> <span class="keyword">on</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 显示行号</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">number</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 回车自动缩进</span></span><br><span class="line"><span class="keyword">set</span> autoindent</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 设置tab宽度</span></span><br><span class="line"><span class="keyword">set</span> tabstop=<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; shift缩进宽度</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; tab自动转空格</span></span><br><span class="line"><span class="keyword">set</span> expandtab</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; tab转空格宽度</span></span><br><span class="line"><span class="keyword">set</span> softtabstop=<span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 粘贴格式化</span></span><br><span class="line"><span class="keyword">set</span> paste</span><br></pre></td></tr></table></figure><p>如果cat查看文件可以正常看到中文，vim编辑文件出现乱码，那么可以指定编码方式为 utf8 来解决这个问题。</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&quot; 解决中文乱码问题</span></span><br><span class="line"><span class="keyword">set</span> termencoding=utf-<span class="number">8</span></span><br><span class="line"><span class="keyword">set</span> encoding=utf8</span><br><span class="line"><span class="keyword">set</span> fileencodings=utf8,ucs-bom,gbk,cp936,gb2312,gb18030</span><br></pre></td></tr></table></figure><h1 id="四种模式"><span class="post-title-index">3.</span><a href="#四种模式" class="headerlink" title="四种模式"></a> 四种模式</h1><h2 id="普通模式"><span class="post-title-index">3.1.</span><a href="#普通模式" class="headerlink" title="普通模式"></a> 普通模式</h2><p>进入vim后默认普通模式，可以进行移动、复制、粘贴、删除、修改等。其他模式点击<code>Esc</code>返回普通模式。</p><h2 id="可视模式"><span class="post-title-index">3.2.</span><a href="#可视模式" class="headerlink" title="可视模式"></a> 可视模式</h2><p>对一块区域进行操作，就像Windows中的鼠标选中。普通模式下点击<code>v</code>进入可视模式。</p><h2 id="插入模式"><span class="post-title-index">3.3.</span><a href="#插入模式" class="headerlink" title="插入模式"></a> 插入模式</h2><p>插入模式和普通文本编辑器相同，可以进行输入和删除。普通模式下点击<code>i</code>进入插入模式。</p><h2 id="命令模式"><span class="post-title-index">3.4.</span><a href="#命令模式" class="headerlink" title="命令模式"></a> 命令模式</h2><p>在命令模式中可以执行一些指令，就像在shell里一样。普通模式下点击<code>Shift + :</code>进入命令模式。</p><h1 id="快捷键"><span class="post-title-index">4.</span><a href="#快捷键" class="headerlink" title="快捷键"></a> 快捷键</h1><h2 id="保存退出"><span class="post-title-index">4.1.</span><a href="#保存退出" class="headerlink" title="保存退出"></a> 保存退出</h2><p>Shift + zz，退出或者保存退出。</p><h2 id="移动跳转"><span class="post-title-index">4.2.</span><a href="#移动跳转" class="headerlink" title="移动跳转"></a> 移动跳转</h2><p>为了减少右手移动距离，h可代替左，j可代替下，k可代替上，l可代替右。</p><p>0移动到行首，Shift + 6也是移动到行首（不包含空格）。Shift + 4移动到行尾。</p><p>w光标正向移动到下一个单词，3w正向移动3个单词，b反向移动。e正向移动到下一个单词词尾，ge反向移动。W（Shift+w）表示忽略特殊字符，比如逗号句号等。</p><p>gg跳回第一行，10gg跳到第10行，Shift+g跳到最后一行。g、Ctrl+g显示文件信息。</p><p>f、空格，跳到下一个空格。</p><p>Shift+&gt;&gt;右缩进，Shift+&lt;&lt;左缩进。</p><p>多行缩进，进入命令模式，输入：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">75</span>,<span class="number">80</span>&gt;</span><br><span class="line"><span class="attribute">75</span>&gt;<span class="number">6</span></span><br></pre></td></tr></table></figure><h2 id="删除复制"><span class="post-title-index">4.3.</span><a href="#删除复制" class="headerlink" title="删除复制"></a> 删除复制</h2><p>yy复制一行，内容存入无名寄存器和0号寄存器。</p><p>准确地来说，Vim中没有删除，只有剪切。dd剪切一行，内容存入无名寄存器和1号寄存器。</p><p>p粘贴到光标下一行，P粘贴到光标前一行。<br>u撤销上一步的操作。<br>ctrl+r重做。</p><p>命令模式下输入<code>reg</code>可以查看寄存器。</p><p>yw复制当前单词，y2w复制正向两个单词。yx复制当前字符。</p><p>dw删除当前单词，dj删除下一行，dk删除上一行，dh删除左边一个字符，dl删除当前字符。</p><p>d、Shift+6删除到行首，d、Shift+4删除到行尾。</p><p>3dd向下删除3行，5dw正向删除5个单词。</p><h2 id="修改查找"><span class="post-title-index">4.4.</span><a href="#修改查找" class="headerlink" title="修改查找"></a> 修改查找</h2><p>shift+i，跳到行首并进入插入模式；shift+a，跳到行尾并进入插入模式。</p><p>o进入下一行插入模式，O进入上一行插入模式。</p><p>3i进入插入模式，输入内容，Esc，输入的内容会被复制3次。</p><p>5o进入下一行插入模式，输入内容，Esc，输入的内容会插入5行。</p><p>~单个字符大小写转换，g~w整个单词大小写转换，g~$整行大小写转换，.对上一个操作重复。</p><p>fa在行内查找a，Fa在行内反向查找a。</p><p>/word查找word，n查找下一个，N查找上一个。在命令模式下设置<code>set hlsearch</code>可以高亮显示。</p><p>进入命令模式，进行替换：</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 替换当前行所有的oldword</span></span><br><span class="line"><span class="symbol">:s/oldword/newword/g</span></span><br><span class="line"><span class="comment"># 替换文中所有的oldword</span></span><br><span class="line"><span class="symbol">:%s/oldword/newword/g</span></span><br></pre></td></tr></table></figure><p>r替换单个字符，shift+r替换当前行，cw替换当前单词，c$修改光标后的内容。</p><h1 id="多文件编辑"><span class="post-title-index">5.</span><a href="#多文件编辑" class="headerlink" title="多文件编辑"></a> 多文件编辑</h1><p>假设有buffer1.txt、buffer2.txt、buffer3.txt三个文件，那么可以使用<code>vim buffer*</code>打开三个文件。当前显示buffer1.txt，进入命令行模式，查看缓冲区列表：</p><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:files</span></span><br><span class="line"><span class="symbol">:buffers</span></span><br><span class="line"><span class="symbol">:ls</span></span><br></pre></td></tr></table></figure><p><code>badd buffer4.txt</code>打开一个缓冲区，<code>bn</code>切换下一个缓冲区，<code>bp</code>切换上一个缓冲区，<code>bf</code>切换到第一个缓冲区，<code>bl</code>切换到最后一个缓冲区，<code>b3</code>切换到第三个缓冲区，<code>b buffer1.txt</code>切换到buffer1.txt，<code>ball</code>编辑所有缓冲区，<code>1,3bd</code>删除1-3缓冲区列表，<code>%bd</code>删除所有缓冲区列表，<code>qall</code>退出所有。</p><p><code>bufdo set number</code>所有缓冲区设置number。</p><h1 id="多窗口与标签分组"><span class="post-title-index">6.</span><a href="#多窗口与标签分组" class="headerlink" title="多窗口与标签分组"></a> 多窗口与标签分组</h1><p><code>vim -o buffer*</code>，分屏打开多个文件，垂直方向分屏。<code>vim -O buffer*</code>，分屏打开多个文件，竖直方向分屏。</p><p>ctrl+w、s垂直复制分屏，ctrl+w、v水平复制分屏，ctrl+w、q删除分屏。</p><p><code>sp buffer4.txt</code>打开buffer4.txt并且上下分屏，<code>vsp buffer4.txt</code>打开buffer4.txt并且左右分屏。</p><p>ctrl+w、h向左移动，ctrl+w、j向下移动，ctrl+w、k向上移动，ctrl+w、l向右移动。<br>ctrl+w、+增加高度，ctrl+w、-减少高度，ctrl+w、=设置高度相等。</p><p>标签里面可以包含多个窗口，使用类似于buffers。<br>命令模式下，<code>tabnew</code>创建标签，<code>tabfind</code>查找并在新标签中打开文件，<code>tabs</code>查看打开的标签列表，<code>tabclose</code>关闭当前标签页，<code>tabonly</code>只保留当前标签页，<code>tabn/p/first/last</code>切换标签页，<code>tabm 0</code>将标签页放到第一个位置。<br>普通模式下，<code>gt/gT</code>切换标签页。</p><h1 id="文本对象和宏"><span class="post-title-index">7.</span><a href="#文本对象和宏" class="headerlink" title="文本对象和宏"></a> 文本对象和宏</h1><p>文本对象：w代表word，s代表sentence，p代表paragraph，此外还有textblock块对象。</p><p>操作：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="keyword">operator</span>&#125;&#123;i&#125;&#123;<span class="keyword">object</span>&#125;</span><br><span class="line">&#123;<span class="keyword">operator</span>&#125;&#123;a&#125;&#123;<span class="keyword">object</span>&#125;</span><br><span class="line">daw = <span class="keyword">delete</span> a word</span><br><span class="line">      ==a==n <span class="keyword">object</span>: <span class="keyword">include</span> the tail space</span><br><span class="line">ciw = change <span class="keyword">inner</span> word</span><br><span class="line">      ==i==nner <span class="keyword">object</span>: <span class="keyword">not</span> <span class="keyword">include</span> the tail space</span><br></pre></td></tr></table></figure><p>viw选中单词，v3iw选中三个单词，vis选中句子，vip选中段落，vi(选中圆括号中的内容，vi[选中中括号中的内容，vit选中标签中的内容。</p><p>使用宏输入1到99：<br>普通模式下，o进入下一行插入，输入1，Esc返回普通模式，qa开始录制，yyp复制粘贴一行，ctrl+a当前数字加一，q完成录制，97@a执行97次。</p><h1 id="Visual模式"><span class="post-title-index">8.</span><a href="#Visual模式" class="headerlink" title="Visual模式"></a> Visual模式</h1><p>在可视模式下，可以对一个文本块的整体进行操作。可视模式有三种子模式，v激活面向字符的可视模式，V激活面向行的可视模式，ctrl+v激活面向列块的可视模式。</p><p>gv重选刚才选择的选区，o在选择区两端跳动。<br>ctrl+v、3j垂直下拉三列，r进行替换。<br>ctrl+v、3j垂直下拉三列，e选择单词直到词尾，c进行单词替换，输入完成，Esc。<br>ctrl+v、3j垂直下拉三列，Shift+$选择到行尾，A进行插入，输入完成，Esc。</p><h1 id="后记"><span class="post-title-index">9.</span><a href="#后记" class="headerlink" title="后记"></a> 后记</h1><p>至此，已经系统学习了Vim的高阶知识点，包括Vim配置、四种模式、快捷键、多文本编辑、多窗口标签、文本对象和宏、可视模式等。接下来，就是在学习工作中多多使用Vim，最终熟能生巧。</p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-vim-advance/" title="Vim进阶">https://www.voidking.com/dev-vim-advance/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li><li> <img width="200" height="200" src="/images/avatar.jpg"><p style="text-align:center;margin-bottom:0">微信公众号同步更新，欢迎关注~</p></li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/%E7%BC%96%E8%BE%91%E5%99%A8/" rel="tag"># 编辑器</a> <a href="/tags/linux/" rel="tag"># linux</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-ali-tech-system-summary/" rel="prev" title="阿里云技术体系概览"><i class="fa fa-chevron-left"></i> 阿里云技术体系概览</a></div><div class="post-nav-item"> <a href="/dev-linux-virsh/" rel="next" title="好好学Linux：virsh命令">好好学Linux：virsh命令<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">1. 前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vimrc"><span class="nav-text">2. Vimrc</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="nav-text">3. 四种模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E6%A8%A1%E5%BC%8F"><span class="nav-text">3.1. 普通模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E8%A7%86%E6%A8%A1%E5%BC%8F"><span class="nav-text">3.2. 可视模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E6%A8%A1%E5%BC%8F"><span class="nav-text">3.3. 插入模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="nav-text">3.4. 命令模式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="nav-text">4. 快捷键</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%9D%E5%AD%98%E9%80%80%E5%87%BA"><span class="nav-text">4.1. 保存退出</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A7%BB%E5%8A%A8%E8%B7%B3%E8%BD%AC"><span class="nav-text">4.2. 移动跳转</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E5%A4%8D%E5%88%B6"><span class="nav-text">4.3. 删除复制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E6%9F%A5%E6%89%BE"><span class="nav-text">4.4. 修改查找</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%9A%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91"><span class="nav-text">5. 多文件编辑</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%9A%E7%AA%97%E5%8F%A3%E4%B8%8E%E6%A0%87%E7%AD%BE%E5%88%86%E7%BB%84"><span class="nav-text">6. 多窗口与标签分组</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%96%87%E6%9C%AC%E5%AF%B9%E8%B1%A1%E5%92%8C%E5%AE%8F"><span class="nav-text">7. 文本对象和宏</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Visual%E6%A8%A1%E5%BC%8F"><span class="nav-text">8. Visual模式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%8E%E8%AE%B0"><span class="nav-text">9. 后记</span></a></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">703</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">251</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: '43d4da3ff203f3f6f050da3822352fa5',
      title: 'Vim进阶',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>