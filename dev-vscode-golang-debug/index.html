<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu-cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言本文学习在VSCode中配置Golang Debug的方法，备忘。 参考资料：  Go in Visual Studio Code golang&#x2F;vscode-go - Debugging"><meta property="og:type" content="article"><meta property="og:title" content="好好学Golang：VSCode配置Golang Debug"><meta property="og:url" content="https://www.voidking.com/dev-vscode-golang-debug/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言本文学习在VSCode中配置Golang Debug的方法，备忘。 参考资料：  Go in Visual Studio Code golang&#x2F;vscode-go - Debugging"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2022-02-13T14:00:00.000Z"><meta property="article:modified_time" content="2025-04-04T08:00:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="vscode"><meta property="article:tag" content="golang"><meta property="article:tag" content="编辑器"><meta property="article:tag" content="好好学Golang"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-vscode-golang-debug/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>好好学Golang：VSCode配置Golang Debug | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-vscode-golang-debug/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 好好学Golang：VSCode配置Golang Debug</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-02-13 14:00:00" itemprop="dateCreated datePublished" datetime="2022-02-13T14:00:00+00:00">2022-02-13</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2025-04-04 08:00:00" itemprop="dateModified" datetime="2025-04-04T08:00:00+00:00">2025-04-04</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/golang/" itemprop="url" rel="index"><span itemprop="name">golang</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><span class="post-title-index">1.</span><a href="#前言" class="headerlink" title="前言"></a> 前言</h1><p>本文学习在VSCode中配置Golang Debug的方法，备忘。</p><p>参考资料：</p><ul><li><a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/languages/go">Go in Visual Studio Code</a></li><li><a target="_blank" rel="noopener" href="https://github.com/golang/vscode-go/blob/master/docs/debugging.md">golang/vscode-go - Debugging</a></li></ul><span id="more"></span><h1 id="安装Golang环境"><span class="post-title-index">2.</span><a href="#安装Golang环境" class="headerlink" title="安装Golang环境"></a> 安装Golang环境</h1><p>参考文档：<a href="https://www.voidking.com/dev-golang-start/">好好学Golang：Golang入门篇</a></p><h1 id="安装Golang扩展和工具"><span class="post-title-index">3.</span><a href="#安装Golang扩展和工具" class="headerlink" title="安装Golang扩展和工具"></a> 安装Golang扩展和工具</h1><p>使用Visual Studio Code的Go扩展，我们可以获得像IntelliSense、代码导航、符号搜索、测试、调试等许多功能，这些功能将帮助我们进行Go开发。</p><p>1、安装Golang扩展<br>点击侧边栏 Extensions ，搜索 Go ，点击 Install</p><p>2、安装Golang工具<br><code>command+shift+P</code>，输入 <code>Go: Install/Update tools</code>，全部勾选，点击OK</p><p>安装过程Golang工具的过程，会显示在<code>OUTPUT</code>中。</p><p>3、检查Golang工具<br><code>command+shift+P</code>，输入 <code>Go: Locate Configured Go Tools</code>，查看 Go Tools 是否都已经安装完成</p><p>PS：安装好Golang工具后，可以避免VSCode保存go文件时卡住问题。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Saving &#x27;main.go&#x27;: Getting code actions from &#x27;&#x27;Go&#x27;&#x27; (configure).</span><br></pre></td></tr></table></figure><h1 id="配置Golang代理"><span class="post-title-index">4.</span><a href="#配置Golang代理" class="headerlink" title="配置Golang代理"></a> 配置Golang代理</h1><p>安装过程Golang工具时，如果下载超时，那么需要配置Golang代理：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">go <span class="built_in">env</span> | grep GOPROXY</span><br><span class="line">go <span class="built_in">env</span> -w GOPROXY=https://goproxy.cn</span><br><span class="line">go <span class="built_in">env</span> | grep GOPROXY</span><br></pre></td></tr></table></figure><p>这个配置，会写入到Golang环境变量配置文件中，对所有shell永久生效。</p><p>Golang环境变量配置文件可能的路径：</p><ul><li><code>$(go env GOROOT)/go.env</code></li><li><code>$(go env GOPATH)/go.env</code></li><li><code>$(go env HOME)/go.env</code></li><li><code>$HOME/Library/Application Support/go/env</code></li></ul><p>安装完成可以取消Golang代理：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go <span class="built_in">env</span> -w GOPROXY=</span><br></pre></td></tr></table></figure><p>对于单次shell配置Golang代理，可以参考<a target="_blank" rel="noopener" href="https://goproxy.io/zh/docs/getting-started.html">goproxy.io快速上手</a></p><h1 id="配置调试"><span class="post-title-index">5.</span><a href="#配置调试" class="headerlink" title="配置调试"></a> 配置调试</h1><h2 id="创建-launch-json"><span class="post-title-index">5.1.</span><a href="#创建-launch-json" class="headerlink" title="创建 launch.json"></a> 创建 launch.json</h2><p>1、点击VSCode左侧带虫子的三角形，进入RUN AND DEBUG页面<br>2、点击 <code>create a launch.json file</code>，选择 <code>Go: Launch Package</code></p><h2 id="打开-launch-json"><span class="post-title-index">5.2.</span><a href="#打开-launch-json" class="headerlink" title="打开 launch.json"></a> 打开 launch.json</h2><p>1、点击VSCode左侧带虫子的三角形，进入RUN AND DEBUG页面<br>2、点击齿轮，打开 <code>launch.json</code> 文件</p><p>或者，直接在项目中打开 <code>.vscode/launch.json</code> 文件</p><h2 id="配置-launch-json"><span class="post-title-index">5.3.</span><a href="#配置-launch-json" class="headerlink" title="配置 launch.json"></a> 配置 launch.json</h2><p>假设程序启动命令为 <code>go run main.go</code>，那么配置如下：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// Use IntelliSense to learn about possible attributes.</span></span><br><span class="line">    <span class="comment">// Hover to view descriptions of existing attributes.</span></span><br><span class="line">    <span class="comment">// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Launch Package&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;go&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;mode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;auto&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h1 id="启动调试"><span class="post-title-index">6.</span><a href="#启动调试" class="headerlink" title="启动调试"></a> 启动调试</h1><p>1、在代码中打断点</p><p>2、点击VSCode左侧带虫子的三角形，进入RUN AND DEBUG页面</p><p>3、点击齿轮左边的三角形，即可进入调试</p><h1 id="调试报错问题解决"><span class="post-title-index">7.</span><a href="#调试报错问题解决" class="headerlink" title="调试报错问题解决"></a> 调试报错问题解决</h1><h2 id="缺少-dlv-模块问题"><span class="post-title-index">7.1.</span><a href="#缺少-dlv-模块问题" class="headerlink" title="缺少 dlv 模块问题"></a> 缺少 dlv 模块问题</h2><p>点击调试，可能会报错：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The &quot;dlv&quot; command is not available. Run &quot;go install -v github.com/go-delve/delve/cmd/dlv@latest&quot; to install.</span><br></pre></td></tr></table></figure><p>根据提示安装 dlv 即可：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go install -v github.com/go-delve/delve/cmd/dlv@latest</span><br></pre></td></tr></table></figure><h2 id="缺少模块定义问题"><span class="post-title-index">7.2.</span><a href="#缺少模块定义问题" class="headerlink" title="缺少模块定义问题"></a> 缺少模块定义问题</h2><p>点击调试，还可能会报错：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Starting: /Users/vk/git/go/bin/dlv dap --listen=127.0.0.1:63418 --log-dest=3 from /Users/vk/git/pod-data-restorer</span><br><span class="line">DAP server listening at: 127.0.0.1:63418</span><br><span class="line">Build Error: go build -o /Users/vk/git/pod-data-restorer/__debug_bin4228580289 -gcflags all=-N -l .</span><br><span class="line">go: cannot find main module, but found .git/config in /Users/vk/git/pod-data-restorer</span><br><span class="line">    to create a module there, run:</span><br><span class="line">    go mod init (exit status 1)</span><br></pre></td></tr></table></figure><p>这个错误信息表明这个 Go 项目缺少一个模块定义，即缺少 go.mod 文件。在 Go 1.11 版本及以后，推荐使用模块来管理项目的依赖。<br>解决办法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /Users/vk/git/pod-data-restorer  </span><br><span class="line">go mod init pod-data-restorer</span><br></pre></td></tr></table></figure><h2 id="could-not-read-debug-info问题"><span class="post-title-index">7.3.</span><a href="#could-not-read-debug-info问题" class="headerlink" title="could not read debug info问题"></a> could not read debug info问题</h2><p>xcode升级后，点击调试，弹窗报错：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Failed to launch: could not launch process: could not read debug info (decoding dwarf section info at offset 0x0: too short) and could not read go symbol table (could not find rodata struct member)</span><br></pre></td></tr></table></figure><p>经验证，解决方法为升级golang到1.23.8（原版本为1.22.2）。<br>同时，建议dlv和gopls升级到最新版。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go install golang.org/x/tools/gopls@latest</span><br><span class="line">go install github.com/go-delve/delve/cmd/dlv@latest</span><br></pre></td></tr></table></figure><p>参考文档：</p><ul><li><a target="_blank" rel="noopener" href="https://github.com/golang/vscode-go/issues/3547">decoding dwarf section - dlv problem to start app</a></li><li><a target="_blank" rel="noopener" href="https://neojos.com/blog/2024/10-01-go%E8%AF%AD%E8%A8%80goland%E7%BC%96%E8%BE%91%E5%99%A8debug%E5%A4%B1%E6%95%88/">Go语言GoLand debug失效问题修复</a></li></ul><h1 id="VSCode调试Golang原理"><span class="post-title-index">8.</span><a href="#VSCode调试Golang原理" class="headerlink" title="VSCode调试Golang原理"></a> VSCode调试Golang原理</h1><p>VSCode调试Golang的原理主要依赖于一个叫做Delve（dlv）的开源工具，这是一个专门为Go语言设计的调试器。</p><ul><li>Delve：Delve是用Go语言编写的调试器，可以理解为Go语言的gdb调试工具。其实现了GDB/MI调试引擎接口，并具有丰富的特性，如断点、单步执行、调用栈跟踪、查看变量值与内存状态等。VSCode通过调用Delve，并把Delve的结果展示在VSCode界面中。</li><li>VSCode Go插件：VSCode中提供了一款非常强大的Go语言插件，这个插件支持Delve调试。安装该插件后，用户可以在VSCode中进行断点设置、单步执行、查看变量值等Debug操作，插件内部调用Delve的相关命令去获取程序状态，并把结果反馈到VSCode界面中。</li><li>DAP：当用户启动Debug会话时，VSCode调用Delve启动一个调试服务器，然后VSCode会用一种叫Debugger Adapter Protocol的协议与这个服务器进行通信，通过这种方式对GPC程序进行推进、停顿、查看变量值等操作。</li></ul><p>总的来说，VSCode调试Golang的原理，其实主要是VSCode、Go插件与Delve三者的协同工作。其中Delve在底层扮演了与Go程序交互的角色，VSCode和Go插件在上层提供了用户友好的交互接口。</p><h1 id="VSCode保存Golang文件卡住问题"><span class="post-title-index">9.</span><a href="#VSCode保存Golang文件卡住问题" class="headerlink" title="VSCode保存Golang文件卡住问题"></a> VSCode保存Golang文件卡住问题</h1><h2 id="问题描述"><span class="post-title-index">9.1.</span><a href="#问题描述" class="headerlink" title="问题描述"></a> 问题描述</h2><p>正常使用一段时间后，VSCode在保存Golang文件时，会卡住，并显示：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Saving &#x27;xxx.go&#x27;: Running &#x27;Go&#x27; Formatter (configure).</span><br></pre></td></tr></table></figure><p>或者显示：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Saving &#x27;serviceconfig.go&#x27;: Getting code actions from &#x27;&#x27;Go&#x27;&#x27; (configure).</span><br></pre></td></tr></table></figure><h2 id="问题排查解决"><span class="post-title-index">9.2.</span><a href="#问题排查解决" class="headerlink" title="问题排查解决"></a> 问题排查解决</h2><h3 id="尝试禁用插件"><span class="post-title-index">9.2.1.</span><a href="#尝试禁用插件" class="headerlink" title="尝试禁用插件"></a> 尝试禁用插件</h3><p>如果报出 <code>Getting code actions from</code> 多个插件，那么建议逐个禁用插件，定位到引起问题的插件。<br>这里我遇到的问题就是Go插件的问题，禁用它之后文件就可以正常保存了。但是，我需要这个插件，因此不能禁用。</p><h3 id="尝试修改-GOPRIVATE"><span class="post-title-index">9.2.2.</span><a href="#尝试修改-GOPRIVATE" class="headerlink" title="尝试修改 GOPRIVATE"></a> 尝试修改 GOPRIVATE</h3><p>参考文档<a target="_blank" rel="noopener" href="https://github.com/golang/vscode-go/issues/2687">saving file stuck: Saving ‘xxxx.go’: Getting code actions from ‘’Go’’</a>，尝试修改GOPRIVATE，但是发现 GOPRIVATE 的值并不是 <code>*</code>，与文档中的问题原因不同。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go <span class="built_in">env</span></span><br><span class="line"><span class="comment"># go env -w GOPRIVATE=&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="尝试修改VSCode配置"><span class="post-title-index">9.2.3.</span><a href="#尝试修改VSCode配置" class="headerlink" title="尝试修改VSCode配置"></a> 尝试修改VSCode配置</h3><p>参考文档<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/35571033/how-to-set-vscode-format-golang-code-on-save">How to set vscode format golang code on save?</a>，尝试修改 settings.json 中关于golang的配置。当使用如下配置时，可以正常保存文件了，但是保存文件时的自动格式化没了，也不会自动导入包。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;[go]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;editor.codeActionsOnSave&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;source.organizeImports&quot;</span><span class="punctuation">:</span> <span class="string">&quot;never&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>继续调整配置，当 settings.json 中配置如下时，可以正常保存文件，并且保存文件时自动格式化，但是不会自动导入包。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;[go]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;go.useLanguageServer&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="降级gopls"><span class="post-title-index">9.2.4.</span><a href="#降级gopls" class="headerlink" title="降级gopls"></a> 降级gopls</h3><p>1、降级gopls为0.14.2</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go install -v golang.org/x/tools/gopls@v0.14.2</span><br></pre></td></tr></table></figure><p>2、重启VSCode</p><p>3、修改 settings.json 中配置为初始配置</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;[go]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;go.useLanguageServer&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>至此，问题解决。</p><h3 id="更新tools"><span class="post-title-index">9.2.5.</span><a href="#更新tools" class="headerlink" title="更新tools"></a> 更新tools</h3><p>升级golang到1.23.8后，保存golang文件卡死，看到warning：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Setting <span class="keyword">up</span> workspace: Loading packages...</span><br><span class="line">Tools (gotests, gomodifytags, impl, goplay, staticcheck) need recompiling <span class="keyword">to</span> work with <span class="keyword">go</span> <span class="keyword">version</span> go1.<span class="number">23.8</span> darwin/amd64</span><br></pre></td></tr></table></figure><p>解决办法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">go install -v github.com/cweill/gotests/gotests@latest </span><br><span class="line">go install -v github.com/fatih/gomodifytags@latest </span><br><span class="line">go install -v github.com/josharian/impl@latest </span><br><span class="line">go install -v github.com/haya14busa/goplay/cmd/goplay@latest </span><br><span class="line">go install -v honnef.co/go/tools/cmd/staticcheck@latest</span><br></pre></td></tr></table></figure></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-vscode-golang-debug/" title="好好学Golang：VSCode配置Golang Debug">https://www.voidking.com/dev-vscode-golang-debug/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li><li> <img width="200" height="200" src="/images/avatar.jpg"><p style="text-align:center;margin-bottom:0">微信公众号同步更新，欢迎关注~</p></li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/vscode/" rel="tag"># vscode</a> <a href="/tags/golang/" rel="tag"># golang</a> <a href="/tags/%E7%BC%96%E8%BE%91%E5%99%A8/" rel="tag"># 编辑器</a> <a href="/tags/%E5%A5%BD%E5%A5%BD%E5%AD%A6Golang/" rel="tag"># 好好学Golang</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-vscode-python-debug-problem/" rel="prev" title="好好学Python：VSCode调试Python问题记录"><i class="fa fa-chevron-left"></i> 好好学Python：VSCode调试Python问题记录</a></div><div class="post-nav-item"> <a href="/dev-jumpserver-start/" rel="next" title="JumpServer入门篇">JumpServer入门篇<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">1. 前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Golang%E7%8E%AF%E5%A2%83"><span class="nav-text">2. 安装Golang环境</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Golang%E6%89%A9%E5%B1%95%E5%92%8C%E5%B7%A5%E5%85%B7"><span class="nav-text">3. 安装Golang扩展和工具</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEGolang%E4%BB%A3%E7%90%86"><span class="nav-text">4. 配置Golang代理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E8%B0%83%E8%AF%95"><span class="nav-text">5. 配置调试</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-launch-json"><span class="nav-text">5.1. 创建 launch.json</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%93%E5%BC%80-launch-json"><span class="nav-text">5.2. 打开 launch.json</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-launch-json"><span class="nav-text">5.3. 配置 launch.json</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8%E8%B0%83%E8%AF%95"><span class="nav-text">6. 启动调试</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%B0%83%E8%AF%95%E6%8A%A5%E9%94%99%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="nav-text">7. 调试报错问题解决</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E5%B0%91-dlv-%E6%A8%A1%E5%9D%97%E9%97%AE%E9%A2%98"><span class="nav-text">7.1. 缺少 dlv 模块问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E5%B0%91%E6%A8%A1%E5%9D%97%E5%AE%9A%E4%B9%89%E9%97%AE%E9%A2%98"><span class="nav-text">7.2. 缺少模块定义问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#could-not-read-debug-info%E9%97%AE%E9%A2%98"><span class="nav-text">7.3. could not read debug info问题</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#VSCode%E8%B0%83%E8%AF%95Golang%E5%8E%9F%E7%90%86"><span class="nav-text">8. VSCode调试Golang原理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#VSCode%E4%BF%9D%E5%AD%98Golang%E6%96%87%E4%BB%B6%E5%8D%A1%E4%BD%8F%E9%97%AE%E9%A2%98"><span class="nav-text">9. VSCode保存Golang文件卡住问题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0"><span class="nav-text">9.1. 问题描述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5%E8%A7%A3%E5%86%B3"><span class="nav-text">9.2. 问题排查解决</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%9D%E8%AF%95%E7%A6%81%E7%94%A8%E6%8F%92%E4%BB%B6"><span class="nav-text">9.2.1. 尝试禁用插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%9D%E8%AF%95%E4%BF%AE%E6%94%B9-GOPRIVATE"><span class="nav-text">9.2.2. 尝试修改 GOPRIVATE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%9D%E8%AF%95%E4%BF%AE%E6%94%B9VSCode%E9%85%8D%E7%BD%AE"><span class="nav-text">9.2.3. 尝试修改VSCode配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%99%8D%E7%BA%A7gopls"><span class="nav-text">9.2.4. 降级gopls</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9B%B4%E6%96%B0tools"><span class="nav-text">9.2.5. 更新tools</span></a></li></ol></li></ol></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">748</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">32</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">259</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2025</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: 'e4fca150a3d3c94ae1e15420b3bbf6d5',
      title: '好好学Golang：VSCode配置Golang Debug',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>