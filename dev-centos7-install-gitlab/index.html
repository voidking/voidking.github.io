<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//cdn.jsdelivr.net/gh/voidking/voidking.github.io/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="GitLabç®€ä»‹GitLabæ˜¯GitLabå…¬å¸å¼€å‘çš„åŸºäºRailsçš„å¼€æºå­˜å‚¨åº“ç®¡ç†å™¨ã€‚å®ƒæ˜¯ä¸€ä¸ªåŸºäºWebçš„gitå­˜å‚¨åº“ç®¡ç†å™¨ï¼Œå…è®¸å›¢é˜Ÿåä½œç¼–å†™ã€æµ‹è¯•å’Œéƒ¨ç½²åº”ç”¨ç¨‹åºã€‚GitLabæä¾›äº†å¤šç§åŠŸèƒ½ï¼ŒåŒ…æ‹¬wikiã€é—®é¢˜è·Ÿè¸ªã€ä»£ç å®¡æŸ¥å’Œæ´»åŠ¨æºã€‚GitLab Incæä¾›5ç§äº§å“ï¼š  Gitlab CEï¼ˆç¤¾åŒºç‰ˆï¼‰ï¼šè‡ªæ‰˜ç®¡å’Œå…è´¹ï¼Œç¤¾åŒºè®ºå›çš„æ”¯æŒã€‚ Gitlab EEï¼ˆä¼ä¸šç‰ˆï¼‰ï¼šè‡ªæ‰˜ç®¡å’Œä»˜è´¹ï¼Œé™„å¸¦å…¶ä»–åŠŸèƒ½ã€‚ Git"><meta property="og:type" content="article"><meta property="og:title" content="CentOS7å®‰è£…é…ç½®GitLab"><meta property="og:url" content="https://www.voidking.com/dev-centos7-install-gitlab/index.html"><meta property="og:site_name" content="å¥½å¥½å­¦ä¹ çš„éƒ"><meta property="og:description" content="GitLabç®€ä»‹GitLabæ˜¯GitLabå…¬å¸å¼€å‘çš„åŸºäºRailsçš„å¼€æºå­˜å‚¨åº“ç®¡ç†å™¨ã€‚å®ƒæ˜¯ä¸€ä¸ªåŸºäºWebçš„gitå­˜å‚¨åº“ç®¡ç†å™¨ï¼Œå…è®¸å›¢é˜Ÿåä½œç¼–å†™ã€æµ‹è¯•å’Œéƒ¨ç½²åº”ç”¨ç¨‹åºã€‚GitLabæä¾›äº†å¤šç§åŠŸèƒ½ï¼ŒåŒ…æ‹¬wikiã€é—®é¢˜è·Ÿè¸ªã€ä»£ç å®¡æŸ¥å’Œæ´»åŠ¨æºã€‚GitLab Incæä¾›5ç§äº§å“ï¼š  Gitlab CEï¼ˆç¤¾åŒºç‰ˆï¼‰ï¼šè‡ªæ‰˜ç®¡å’Œå…è´¹ï¼Œç¤¾åŒºè®ºå›çš„æ”¯æŒã€‚ Gitlab EEï¼ˆä¼ä¸šç‰ˆï¼‰ï¼šè‡ªæ‰˜ç®¡å’Œä»˜è´¹ï¼Œé™„å¸¦å…¶ä»–åŠŸèƒ½ã€‚ Git"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://cdn.voidking.com/@/imgs/centos7-install-gitlab/result.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com/@/imgs/centos7-install-gitlab/login.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com/@/imgs/centos7-install-gitlab/secret.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com/@/imgs/centos7-install-gitlab/safe.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com/@/imgs/centos7-install-gitlab/success.jpg?imageView2/0/w/600"><meta property="article:published_time" content="2019-07-31T21:00:00.000Z"><meta property="article:modified_time" content="2023-03-08T11:00:00.000Z"><meta property="article:author" content="å¥½å¥½å­¦ä¹ çš„éƒ"><meta property="article:tag" content="git"><meta property="article:tag" content="centos"><meta property="article:tag" content="gitlab"><meta property="article:tag" content="https"><meta property="article:tag" content="åŠ å¯†"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://cdn.voidking.com/@/imgs/centos7-install-gitlab/result.jpg?imageView2/0/w/600"><link rel="canonical" href="https://www.voidking.com/dev-centos7-install-gitlab/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>CentOS7å®‰è£…é…ç½®GitLab | å¥½å¥½å­¦ä¹ çš„éƒ</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="å¥½å¥½å­¦ä¹ çš„éƒ" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">å¥½å¥½å­¦ä¹ çš„éƒ</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Šï¼</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> é¦–é¡µ</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> å…³äº</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> æ ‡ç­¾</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> å½’æ¡£</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> æœç´¢</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="æœç´¢..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-centos7-install-gitlab/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="å¥½å¥½å­¦ä¹ çš„éƒ"><meta itemprop="description" content="å­¦è€Œä¸æ€åˆ™ç½”ï¼Œæ€è€Œä¸å­¦åˆ™æ®†ï¼"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="å¥½å¥½å­¦ä¹ çš„éƒ"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> CentOS7å®‰è£…é…ç½®GitLab</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2019-07-31 21:00:00" itemprop="dateCreated datePublished" datetime="2019-07-31T21:00:00+00:00">2019-07-31</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-03-08 11:00:00" itemprop="dateModified" datetime="2023-03-08T11:00:00+00:00">2023-03-08</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">åˆ†ç±»äº</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ï¼Œ <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/devops/" itemprop="url" rel="index"><span itemprop="name">devops</span></a></span> ï¼Œ <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/troubleshooting/" itemprop="url" rel="index"><span itemprop="name">troubleshooting</span></a></span></span><span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="GitLabç®€ä»‹"><a href="#GitLabç®€ä»‹" class="headerlink" title="GitLabç®€ä»‹"></a>GitLabç®€ä»‹</h1><p>GitLabæ˜¯GitLabå…¬å¸å¼€å‘çš„åŸºäºRailsçš„å¼€æºå­˜å‚¨åº“ç®¡ç†å™¨ã€‚å®ƒæ˜¯ä¸€ä¸ªåŸºäºWebçš„gitå­˜å‚¨åº“ç®¡ç†å™¨ï¼Œå…è®¸å›¢é˜Ÿåä½œç¼–å†™ã€æµ‹è¯•å’Œéƒ¨ç½²åº”ç”¨ç¨‹åºã€‚GitLabæä¾›äº†å¤šç§åŠŸèƒ½ï¼ŒåŒ…æ‹¬wikiã€é—®é¢˜è·Ÿè¸ªã€ä»£ç å®¡æŸ¥å’Œæ´»åŠ¨æºã€‚GitLab Incæä¾›5ç§äº§å“ï¼š</p><ul><li>Gitlab CEï¼ˆç¤¾åŒºç‰ˆï¼‰ï¼šè‡ªæ‰˜ç®¡å’Œå…è´¹ï¼Œç¤¾åŒºè®ºå›çš„æ”¯æŒã€‚</li><li>Gitlab EEï¼ˆä¼ä¸šç‰ˆï¼‰ï¼šè‡ªæ‰˜ç®¡å’Œä»˜è´¹ï¼Œé™„å¸¦å…¶ä»–åŠŸèƒ½ã€‚</li><li>Gitlab JHï¼ˆä¼ä¸šçº§ä¸­å›½å‘è¡Œç‰ˆï¼‰ï¼šæç‹ï¼Œè‡ªæ‰˜ç®¡å’Œä»˜è´¹ï¼Œé™„å¸¦å…¶ä»–åŠŸèƒ½ã€‚</li><li>GitLab.comï¼šSaaSå’Œå…è´¹ã€‚</li><li>GitLab.ioï¼šç”±GitLab Inc.ç®¡ç†çš„ç§æœ‰GitLabå®ä¾‹ã€‚</li></ul><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨å…·æœ‰2GB RAMçš„CentOS7æœåŠ¡å™¨ä¸Šé€æ­¥å®‰è£…GitLab CEï¼ˆCommunity Editionï¼‰ï¼ŒæœåŠ¡å™¨IPä¸º192.168.56.103ã€‚</p><p>å‚è€ƒæ–‡æ¡£ï¼š</p><ul><li><a target="_blank" rel="noopener" href="https://www.howtoforge.com/tutorial/how-to-install-and-configure-gitlab-ce-on-centos-7/">How to Install and Configure GitLab CE on CentOS 7</a></li><li><a target="_blank" rel="noopener" href="https://www.tecmint.com/install-and-configure-gitlab-on-centos-7/">How to Install and Configure GitLab on CentOS 7</a></li><li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/bigdevilking/p/9434444.html">CentOS 7 æ­å»ºCAè®¤è¯ä¸­å¿ƒå®ç°httpså–è¯</a></li></ul><span id="more"></span><h1 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h1><p>é¦–å…ˆå®‰è£…GitLabä¾èµ–çš„ç›¸å…³è½¯ä»¶ã€‚</p><p>1ã€è½¯ä»¶å®‰è£…<br><code>yum -y install curl policycoreutils openssh-server openssh-clients postfix</code></p><p>2ã€postfixè®¾ç½®å¼€æœºè‡ªå¯åŠ¨</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl start <span class="built_in">postfix</span></span><br><span class="line">systemctl enable <span class="built_in">postfix</span></span><br><span class="line">systemctl <span class="built_in">status</span> <span class="built_in">postfix</span></span><br></pre></td></tr></table></figure><h1 id="å®‰è£…GitLab"><a href="#å®‰è£…GitLab" class="headerlink" title="å®‰è£…GitLab"></a>å®‰è£…GitLab</h1><p>1ã€æ·»åŠ GitLab CE repository<br><code>curl -sS https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash</code></p><p>2ã€å®‰è£…gitlab<br><code>yum -y install gitlab-ce</code><br>è½¯ä»¶642Mï¼Œéœ€è¦ä¸‹è½½ä¸€ä¼šï¼Œè€å¿ƒç­‰å¾…ï¼Œå®‰è£…å®Œæˆä¼šå‡ºç°æç¤ºã€‚<br><img src="http://cdn.voidking.com/@/imgs/centos7-install-gitlab/result.jpg?imageView2/0/w/600"></p><p>3ã€é…ç½®gitlab url<br><code>vim /etc/gitlab/gitlab.rb</code>ï¼Œä¿®æ”¹external_urlä¸ºï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">external_url</span> <span class="string">&#x27;http://gitlab.voidking.com&#x27;</span></span><br></pre></td></tr></table></figure><p>ä½¿gitlabé…ç½®ç”Ÿæ•ˆï¼Œ<code>gitlab-ctl reconfigure</code>ã€‚<br>ä½†æ˜¯ï¼Œè¿™ä¸ªå‘½ä»¤æ‰§è¡Œæ—¶é—´ç‰¹åˆ«ä¹…ï¼Œå› æ­¤å»ºè®®åœ¨å®‰è£…çš„æ—¶å€™å°±æŒ‡å®šexternal_urlï¼š<br><code>EXTERNAL_URL=&quot;http://gitlab.voidking.com&quot; yum -y install gitlab-ce</code></p><p>4ã€å¼€æ”¾ç«¯å£</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd <span class="params">--add-port=80/tcp</span> <span class="params">--permanent</span></span><br><span class="line">firewall-cmd <span class="params">--add-port=443/tcp</span> <span class="params">--permanent</span></span><br><span class="line">systemctl <span class="keyword">reload</span> firewalld</span><br></pre></td></tr></table></figure><p>5ã€æµ‹è¯•è®¿é—®<br>æµè§ˆå™¨è®¿é—® <a target="_blank" rel="noopener" href="http://192.169.56.103/">http://192.169.56.103</a> ï¼Œå³å¯è·³è½¬åˆ°gitlabç™»å½•é¡µé¢ã€‚<br><img src="http://cdn.voidking.com/@/imgs/centos7-install-gitlab/login.jpg?imageView2/0/w/600"><br>é‡ç½®å¯†ç ä¹‹åï¼Œä½¿ç”¨rootç”¨æˆ·ç™»å½•ï¼Œå³å¯è¿›è¡Œé¡¹ç›®ç®¡ç†ã€‚</p><p>6ã€åŸŸåè®¿é—®<br>ä¿®æ”¹æœ¬æœºhostï¼Œæ·»åŠ ï¼š</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">192.168.56.103</span>  gitlab.voidking.com</span><br></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥é€šè¿‡åŸŸåè®¿é—®gitlabäº†ï¼Œå¥‡æ€ªçš„æ˜¯ï¼ŒåŸŸåå“ªæ€•ä¸æ˜¯è®¾ç½®æˆexternal_urlä¸­çš„urlï¼Œä¹Ÿå¯ä»¥é€šè¿‡åŸŸåè®¿é—®ã€‚</p><h1 id="é…ç½®HTTPSåŠ å¯†è®¿é—®"><a href="#é…ç½®HTTPSåŠ å¯†è®¿é—®" class="headerlink" title="é…ç½®HTTPSåŠ å¯†è®¿é—®"></a>é…ç½®HTTPSåŠ å¯†è®¿é—®</h1><p>HTTPS(SSL/TLS)åŠ å¯†åŸç†ï¼Œå‚è€ƒæ–‡æ¡£<a href="https://www.voidking.com/dev-encryption-algorithm/">ã€Šæµ…è°ˆæ•°æ®åŠ å¯†ã€‹</a>ã€‚</p><h2 id="è‡ªå»ºCAå¹¶é¢å‘è¯ä¹¦"><a href="#è‡ªå»ºCAå¹¶é¢å‘è¯ä¹¦" class="headerlink" title="è‡ªå»ºCAå¹¶é¢å‘è¯ä¹¦"></a>è‡ªå»ºCAå¹¶é¢å‘è¯ä¹¦</h2><p>å‚è€ƒæ–‡æ¡£ï¼š</p><ul><li><a target="_blank" rel="noopener" href="https://ywnz.com/linuxyffq/4232.html">å®‰è£…åŠä½¿ç”¨mkcertåœ¨Linuxå’ŒmacOSä¸­åˆ›å»ºæœ¬åœ°å—ä¿¡ä»»çš„SSLè¯ä¹¦</a></li><li><a target="_blank" rel="noopener" href="https://github.com/FiloSottile/mkcert">mkcert githut</a></li><li><a target="_blank" rel="noopener" href="https://www.yuanjies.com/?p=539">åŸºäºOpenSSLè‡ªå»ºCAå’Œé¢å‘SSLè¯ä¹¦</a></li><li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/34788439">ä½¿ç”¨ OpenSSL è‡ªå»º CA å¹¶ç­¾å‘è¯ä¹¦</a></li></ul><p>æœ¬èŠ‚ä¸­ï¼Œå®‰è£…mkcertå¹¶ä½¿ç”¨å®ƒç”ŸæˆSSLè¯ä¹¦ã€‚</p><p>1ã€å®‰è£…nss-toolså·¥å…·<br><code>yum install nss-tools</code></p><p>2ã€ä¸‹è½½äºŒè¿›åˆ¶åŒ…<br><code>wget -O mkcert https://github.com/FiloSottile/mkcert/releases/download/v1.3.0/mkcert-v1.3.0-linux-amd64</code></p><p>3ã€æ·»åŠ æ‰§è¡Œæƒé™å¹¶ç§»å…¥bin</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x  mkcert</span><br><span class="line"><span class="built_in">mv</span> mkcert /usr/local/bin</span><br></pre></td></tr></table></figure><p>4ã€è·å–CAæ ¹ç›®å½•<br><code>mkcert -CAROOT</code></p><p>5ã€å®‰è£…æœ¬åœ°CA<br><code>mkcert -install</code>ï¼Œè¾“å‡ºï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Using the local CA at &quot;/root/.local/share/mkcert&quot; âœ¨</span><br><span class="line">The local CA is now installed in the system trust store! âš¡</span><br><span class="line">ERROR: no Firefox and/or Chrome/Chromium security databases found</span><br><span class="line">The local CA is now installed in Java&#x27;s trust store! â˜•</span><br></pre></td></tr></table></figure><p>6ã€ç”Ÿæˆè¯ä¹¦<br><code>mkcert gitlab.voidking.com localhost 127.0.0.1</code>ï¼Œè¾“å‡ºï¼š</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Using <span class="keyword">the</span> <span class="built_in">local</span> CA <span class="keyword">at</span> <span class="string">&quot;/root/.local/share/mkcert&quot;</span> âœ¨</span><br><span class="line">Warning: <span class="keyword">the</span> <span class="built_in">local</span> CA is <span class="keyword">not</span> installed <span class="keyword">in</span> <span class="keyword">the</span> Firefox <span class="keyword">and</span>/<span class="keyword">or</span> Chrome/Chromium trust store! âš </span><br><span class="line">Run <span class="string">&quot;mkcert -install&quot;</span> <span class="built_in">to</span> avoid verification errors â€¼ </span><br><span class="line"></span><br><span class="line">Created <span class="keyword">a</span> <span class="built_in">new</span> certificate valid <span class="keyword">for</span> <span class="keyword">the</span> following names ğŸ“œ</span><br><span class="line"> - <span class="string">&quot;gitlab.voidking.com&quot;</span></span><br><span class="line"> - <span class="string">&quot;localhost&quot;</span></span><br><span class="line"> - <span class="string">&quot;127.0.0.1&quot;</span></span><br><span class="line"></span><br><span class="line">The certificate is <span class="keyword">at</span> <span class="string">&quot;./gitlab.voidking.com+2.pem&quot;</span> <span class="keyword">and</span> <span class="keyword">the</span> key <span class="keyword">at</span> <span class="string">&quot;./gitlab.voidking.com+2-key.pem&quot;</span> âœ…</span><br></pre></td></tr></table></figure><p>7ã€åˆ›å»ºè¯ä¹¦ç›®å½•å¹¶ä¸”ç§»åŠ¨è¯ä¹¦</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p <span class="regexp">/etc/gi</span>tlab<span class="regexp">/ssl/</span></span><br><span class="line">mv gitlab.voidking.com* <span class="regexp">/etc/gi</span>tlab<span class="regexp">/ssl/</span></span><br></pre></td></tr></table></figure><h2 id="ç”ŸæˆDHPARAM"><a href="#ç”ŸæˆDHPARAM" class="headerlink" title="ç”ŸæˆDHPARAM"></a>ç”ŸæˆDHPARAM</h2><p>1ã€ä½¿ç”¨OpenSSLç”ŸæˆDHPARAMè¯ä¹¦pemæ–‡ä»¶<br><code>openssl dhparam -out /etc/gitlab/ssl/dhparams.pem 2048</code></p><p>2ã€å°†è¯ä¹¦æ–‡ä»¶çš„æƒé™æ›´æ”¹ä¸º600<br><code>chmod 600 /etc/gitlab/ssl/dhparams.pem</code></p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>1ã€ä¿®æ”¹gitlab url<br><code>vim /etc/gitlab/gitlab.rb</code>ï¼Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">external_url <span class="string">&#x27;https://gitlab.voidking.com&#x27;</span></span><br><span class="line">nginx[<span class="string">&#x27;redirect_http_to_https&#x27;</span>] = true</span><br><span class="line">nginx[<span class="string">&#x27;ssl_certificate&#x27;</span>] = <span class="string">&quot;/etc/gitlab/ssl/gitlab.voidking.com+2.pem&quot;</span></span><br><span class="line">nginx[<span class="string">&#x27;ssl_certificate_key&#x27;</span>] = <span class="string">&quot;/etc/gitlab/ssl/gitlab.voidking.com+2-key.pem&quot;</span></span><br><span class="line">nginx[<span class="string">&#x27;ssl_dhparam&#x27;</span>] = <span class="string">&quot;/etc/gitlab/ssl/dhparams.pem&quot;</span></span><br></pre></td></tr></table></figure><p>2ã€é‡æ–°é…ç½®gitlab<br><code>gitlab-ctl reconfigure</code></p><p>3ã€æµ‹è¯•è®¿é—®<br>æœåŠ¡å™¨ä¸Šæµ‹è¯•ï¼Œ<code>curl localhost -L</code>ï¼Œæ­£å¸¸ã€‚<br>æœ¬åœ°æµè§ˆå™¨è®¿é—® <a target="_blank" rel="noopener" href="https://gitlab.voidking.com/users/sign_in">https://gitlab.voidking.com/users/sign_in</a> ï¼Œå‡ºç°å®‰å…¨æç¤ºã€‚<br><img src="http://cdn.voidking.com/@/imgs/centos7-install-gitlab/secret.jpg?imageView2/0/w/600"><br>è¿™æ˜¯å› ä¸ºï¼Œè¿™æ˜¯å› ä¸ºæµè§ˆå™¨ä¸ä¿¡ä»»åˆšæ‰è‡ªå»ºçš„CAï¼Œè§£å†³åŠæ³•æ˜¯å®‰è£…rootCAï¼Œæ›´å¤šå†…å®¹å‚è€ƒ<a target="_blank" rel="noopener" href="https://blog.csdn.net/byg184244735/article/details/84433385">https ä»¥åŠå†…ç½‘å¦‚ä½•ä½¿ç”¨</a>ã€‚</p><p>4ã€ä¸‹è½½rootCA.pem<br>ä»<code>/root/.local/share/mkcert</code>ç›®å½•ä¸­ä¸‹è½½rootCA.pemåˆ°æœ¬åœ°ã€‚</p><p>5ã€Chromeæ·»åŠ è¯ä¹¦<br>è®¾ç½®ï¼Œé«˜çº§è®¾ç½®ï¼Œç®¡ç†è¯ä¹¦ï¼Œå¯¼å…¥ï¼Œé€‰æ‹©rootCA.pemï¼Œè¯ä¹¦å­˜å‚¨é€‰æ‹©å—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„ï¼Œå®Œæˆï¼Œå‡ºç°è­¦å‘Šç‚¹ç¡®å®šã€‚é‡å¯Chromeï¼Œå†æ¬¡è®¿é—®å°±æ²¡æœ‰è­¦å‘Šäº†ã€‚<br><img src="http://cdn.voidking.com/@/imgs/centos7-install-gitlab/safe.jpg?imageView2/0/w/600"></p><p>6ã€Firefoxæ·»åŠ è¯ä¹¦<br>é€‰é¡¹ï¼Œéšç§ä¸å®‰å…¨ï¼Œè¯ä¹¦ï¼ŒæŸ¥çœ‹è¯ä¹¦ï¼Œå¯¼å…¥ï¼Œé€‰æ‹©rootCA.pemã€‚é‡å¯Firefoxï¼Œå†æ¬¡è®¿é—®å°±æ²¡æœ‰è­¦å‘Šäº†ã€‚</p><p>7ã€åˆ›å»ºé¡¹ç›®<br>Create a Projectï¼ŒProject nameå¡«å…¥voidkingï¼Œé€‰æ‹©Publicï¼Œå‹¾é€‰Initialize repository with a READMEã€‚</p><p>8ã€cloneé¡¹ç›®</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.sslVerify false</span><br><span class="line">git clone https:<span class="regexp">//gi</span>tlab.voidking.com<span class="regexp">/root/</span>voidking.git</span><br></pre></td></tr></table></figure><p>9ã€ä¸Šä¼ ä»£ç </p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># æ·»åŠ test.txtæ–‡ä»¶</span></span><br><span class="line">git <span class="keyword">add</span> .</span><br><span class="line">git commit -m <span class="string">&quot;add new file&quot;</span></span><br><span class="line">git <span class="keyword">push</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹é¡¹ç›®ï¼Œä»£ç å·²ç»ä¸Šä¼ æˆåŠŸã€‚<br><img src="http://cdn.voidking.com/@/imgs/centos7-install-gitlab/success.jpg?imageView2/0/w/600"></p><h1 id="é”™è¯¯æ’æŸ¥"><a href="#é”™è¯¯æ’æŸ¥" class="headerlink" title="é”™è¯¯æ’æŸ¥"></a>é”™è¯¯æ’æŸ¥</h1><p>å…³é—­æœåŠ¡å™¨ä¹‹åé‡å¯ï¼Œå‘ç°æ— æ³•è®¿é—®gitlabæœåŠ¡ã€‚<br>1ã€å…³é—­é˜²ç«å¢™</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="keyword">stop</span> firewalld</span><br><span class="line">systemctl <span class="keyword">disable</span> firewalld</span><br></pre></td></tr></table></figure><p>å…³é—­é˜²ç«å¢™ä¹‹åï¼Œä¾ç„¶æ— æ³•è®¿é—®ã€‚</p><p>2ã€æŸ¥çœ‹æœåŠ¡å’Œç«¯å£</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ps</span> aux | <span class="keyword">grep</span> nginx</span><br><span class="line">netstat -nlpt | <span class="keyword">grep</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><p>æ²¡æœ‰æ‰¾åˆ°nginxæœåŠ¡ï¼Œè¯´æ˜nginxå‡ºäº†é—®é¢˜ã€‚<br><code>gitlab-ctl restart nginx</code>ï¼Œæ— æ•ˆï¼Œ80ç«¯å£ä¾ç„¶æ²¡æœ‰ç›‘å¬ã€‚</p><p>3ã€æŸ¥çœ‹gitlabæ—¥å¿—<br><code>gitlab-ctl tail</code><br>è¿™æ¬¡å®šä½åˆ°äº†é—®é¢˜ï¼Œç¼ºå°‘pemæ–‡ä»¶ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2019</span>-<span class="number">08</span>-<span class="number">06_09</span>:<span class="number">26</span>:<span class="number">08.31983</span> nginx: [emerg] <span class="title function_ invoke__">BIO_new_file</span>(<span class="string">&quot;/etc/gitlab/ssl/gitlab.voidking.com+2.pem&quot;</span>) <span class="title function_ invoke__">failed</span> (<span class="attr">SSL</span>: <span class="attr">error</span>:<span class="number">02001002</span>:system <span class="attr">library</span>:<span class="attr">fopen</span>:No such file <span class="keyword">or</span> <span class="attr">directory</span>:<span class="title function_ invoke__">fopen</span>(<span class="string">&#x27;/etc/gitlab/ssl/gitlab.voidking.com+2.pem&#x27;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="attr">error</span>:<span class="number">2006</span><span class="attr">D080</span>:BIO <span class="attr">routines</span>:<span class="attr">BIO_new_file</span>:no such file)</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹/etc/gitlab/ssl/ç›®å½•ï¼Œå‘ç°gitlab.voidking.com+2.pemå˜æˆäº†gitlab.voidking.com+3.pemï¼è™½ç„¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆ2å˜æˆäº†3ï¼Œä½†æ˜¯æ”¹å›æ¥åº”è¯¥å°±å¯ä»¥äº†ã€‚æ”¹å›åŸæ–‡ä»¶åï¼Œé—®é¢˜è§£å†³ã€‚</p><h1 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h1><p>è‡³æ­¤ï¼Œå±€åŸŸç½‘çš„gitlabå®‰è£…é…ç½®å®Œæˆï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚<br>åœ¨å…¬ç½‘ç¯å¢ƒä¸‹ï¼Œé…ç½®æ›´åŠ ç®€å•ï¼Œgitlab.rbä¸­é…ç½®è¯ä¹¦é¢å‘æœºæ„é¢å‘çš„SSLè¯ä¹¦å³å¯ã€‚</p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>æœ¬æ–‡ä½œè€…ï¼š</strong> å¥½å¥½å­¦ä¹ çš„éƒ</li><li class="post-copyright-link"> <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://www.voidking.com/dev-centos7-install-gitlab/" title="CentOS7å®‰è£…é…ç½®GitLab">https://www.voidking.com/dev-centos7-install-gitlab/</a></li><li class="post-copyright-license"> <strong>ç‰ˆæƒå£°æ˜ï¼š</strong> æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼æºç«™ä¼šåŠæ—¶æ›´æ–°çŸ¥è¯†ç‚¹åŠä¿®æ­£é”™è¯¯ï¼Œé˜…è¯»ä½“éªŒä¹Ÿæ›´å¥½ã€‚æ¬¢è¿åˆ†äº«ï¼Œæ¬¢è¿æ”¶è—~</li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/git/" rel="tag"># git</a> <a href="/tags/centos/" rel="tag"># centos</a> <a href="/tags/gitlab/" rel="tag"># gitlab</a> <a href="/tags/https/" rel="tag"># https</a> <a href="/tags/%E5%8A%A0%E5%AF%86/" rel="tag"># åŠ å¯†</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-elk-with-filebeat/" rel="prev" title="ELKé…ç½®FileBeat"><i class="fa fa-chevron-left"></i> ELKé…ç½®FileBeat</a></div><div class="post-nav-item"> <a href="/dev-centos7-install-jenkins/" rel="next" title="CentOS7å®‰è£…éƒ¨ç½²Jenkins">CentOS7å®‰è£…éƒ¨ç½²Jenkins<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zODU3Mi8xNTEwMA=="></div></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> æ–‡ç« ç›®å½•</li><li class="sidebar-nav-overview"> ç«™ç‚¹æ¦‚è§ˆ</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#GitLab%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">GitLabç®€ä»‹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="nav-number">2.</span> <span class="nav-text">ç¯å¢ƒå‡†å¤‡</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85GitLab"><span class="nav-number">3.</span> <span class="nav-text">å®‰è£…GitLab</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEHTTPS%E5%8A%A0%E5%AF%86%E8%AE%BF%E9%97%AE"><span class="nav-number">4.</span> <span class="nav-text">é…ç½®HTTPSåŠ å¯†è®¿é—®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%BB%BACA%E5%B9%B6%E9%A2%81%E5%8F%91%E8%AF%81%E4%B9%A6"><span class="nav-number">4.1.</span> <span class="nav-text">è‡ªå»ºCAå¹¶é¢å‘è¯ä¹¦</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%9F%E6%88%90DHPARAM"><span class="nav-number">4.2.</span> <span class="nav-text">ç”ŸæˆDHPARAM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8"><span class="nav-number">4.3.</span> <span class="nav-text">ä½¿ç”¨</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E6%8E%92%E6%9F%A5"><span class="nav-number">5.</span> <span class="nav-text">é”™è¯¯æ’æŸ¥</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%8E%E8%AE%B0"><span class="nav-number">6.</span> <span class="nav-text">åè®°</span></a></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="å¥½å¥½å­¦ä¹ çš„éƒ" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">å¥½å¥½å­¦ä¹ çš„éƒ</p><div class="site-description" itemprop="description">å­¦è€Œä¸æ€åˆ™ç½”ï¼Œæ€è€Œä¸å­¦åˆ™æ®†ï¼</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">645</span> <span class="site-state-item-name">æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">30</span> <span class="site-state-item-name">åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">242</span> <span class="site-state-item-name">æ ‡ç­¾</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail â†’ mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo â†’ http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu â†’ https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 â€“ <span itemprop="copyrightYear">2023</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">å¥½å¥½å­¦ä¹ çš„éƒ</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="æ€»è®¿å®¢é‡"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="æ€»è®¿é—®é‡"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">è‹ICPå¤‡14021030å·</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">è‹å…¬ç½‘å®‰å¤‡ 32032202000223å·</a></div></div></footer><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={iconStyle:"box",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions),flOptions={iconStyle:"box",boxForm:"horizontal",position:"topRight",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-float",flOptions)</script><script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  // window.livereOptions = {
  //   refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  // };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script></body></html>