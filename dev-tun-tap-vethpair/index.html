<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu.cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="Linux虚拟网络设备简介本文内容主要来自ChatGPT。 Linux虚拟网络设备有多种类型，它们在不同场景下被用于创建和管理虚拟网络连接。以下是一些常见的Linux虚拟网络设备：  TUN&#x2F;TAP：TUN（网络层虚拟设备）和TAP（数据链路层虚拟设备）设备用于在用户空间和内核空间之间创建虚拟网络设备。它们通常用于实现VPN、虚拟机等场景。 veth pair：veth pair是一对虚拟以太网设"><meta property="og:type" content="article"><meta property="og:title" content="Linux虚拟网络设备tun&#x2F;tap和veth pair"><meta property="og:url" content="https://www.voidking.com/dev-tun-tap-vethpair/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="Linux虚拟网络设备简介本文内容主要来自ChatGPT。 Linux虚拟网络设备有多种类型，它们在不同场景下被用于创建和管理虚拟网络连接。以下是一些常见的Linux虚拟网络设备：  TUN&#x2F;TAP：TUN（网络层虚拟设备）和TAP（数据链路层虚拟设备）设备用于在用户空间和内核空间之间创建虚拟网络设备。它们通常用于实现VPN、虚拟机等场景。 veth pair：veth pair是一对虚拟以太网设"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2016-09-10T12:00:00.000Z"><meta property="article:modified_time" content="2023-03-18T08:10:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="chatgpt"><meta property="article:tag" content="网络"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-tun-tap-vethpair/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>Linux虚拟网络设备tun/tap和veth pair | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-tun-tap-vethpair/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> Linux虚拟网络设备tun/tap和veth pair</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2016-09-10 12:00:00" itemprop="dateCreated datePublished" datetime="2016-09-10T12:00:00+00:00">2016-09-10</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2023-03-18 08:10:00" itemprop="dateModified" datetime="2023-03-18T08:10:00+00:00">2023-03-18</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/network/" itemprop="url" rel="index"><span itemprop="name">network</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="Linux虚拟网络设备简介"><span class="post-title-index">1.</span><a href="#Linux虚拟网络设备简介" class="headerlink" title="Linux虚拟网络设备简介"></a> Linux虚拟网络设备简介</h1><p>本文内容主要来自ChatGPT。</p><p>Linux虚拟网络设备有多种类型，它们在不同场景下被用于创建和管理虚拟网络连接。以下是一些常见的Linux虚拟网络设备：</p><ul><li>TUN/TAP：TUN（网络层虚拟设备）和TAP（数据链路层虚拟设备）设备用于在用户空间和内核空间之间创建虚拟网络设备。它们通常用于实现VPN、虚拟机等场景。</li><li>veth pair：veth pair是一对虚拟以太网设备，它们在内核空间中相互连接。当一个veth设备接收到数据包时，它会将数据包传递给与之配对的另一个veth设备。veth pair常用于连接不同的网络命名空间或虚拟机。</li><li>bridge：虚拟桥接器用于将多个网络设备连接在一起，以便它们可以在同一个局域网中相互通信。虚拟桥接器通常用于连接虚拟机、容器或其他虚拟网络设备。</li><li>macvlan：macvlan设备允许在同一个物理网络接口上创建多个虚拟接口，每个接口都有自己的MAC地址。这种设备类型在虚拟化和容器环境中非常有用，因为它可以让多个虚拟设备共享同一个物理网络接口。</li><li>ipvlan：ipvlan与macvlan类似，但它在同一个物理网络接口上创建多个虚拟接口，这些接口共享相同的MAC地址但具有独立的IP地址。ipvlan在某些场景下可能比macvlan更高效，因为它避免了ARP广播风暴。</li><li>VXLAN：虚拟可扩展局域网（VXLAN）是一种在数据中心网络中创建可扩展的虚拟局域网的技术。VXLAN使用UDP封装将二层以太网帧封装到IP数据包中，从而实现跨数据中心和广域网的虚拟网络连接。</li><li>GRE：通用路由封装（GRE）是一种封装协议，可以在不同网络协议之间创建点对点连接。在Linux中，可以使用GRE隧道在两个网络节点之间创建虚拟网络连接。</li></ul><p>VXLAN（Virtual Extensible LAN）和GRE（Generic Routing Encapsulation）并非严格意义上的网络设备，而是网络隧道协议。然而，在Linux系统中，它们可以被视为一种特殊类型的虚拟网络设备，因为它们可以创建和管理虚拟网络连接。</p><p>本文中，我们主要学习tun/tap和veth pair。</p><p>参考文档：</p><ul><li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/09f9375b7fa7">TUN/TAP设备浅析(一) – 原理浅析</a></li><li><a href="jianshu.com/p/e8bbef6204b6">Linux 虚拟网络设备 tun/tap veth pair</a></li></ul><span id="more"></span><h1 id="tun-tap原理"><span class="post-title-index">2.</span><a href="#tun-tap原理" class="headerlink" title="tun/tap原理"></a> tun/tap原理</h1><p>tun/tap是Linux内核中的虚拟网络设备驱动，用于在用户空间和内核空间之间创建虚拟网络设备。tun设备用于处理三层数据包（IP数据包），而tap设备用于处理二层数据包（以太网帧）。</p><p>tun/tap设备允许用户空间程序与内核空间虚拟网络设备进行通信。当用户空间程序往tun/tap设备写入数据时，内核将数据包作为虚拟设备的输入进行处理。同样，当内核向用户空间程序发送数据包时，程序可从tun/tap设备读取数据。这使得用户空间程序可以模拟一个完整的网络设备，用于实现VPN、虚拟机等功能。</p><h1 id="使用tun-tap设备"><span class="post-title-index">3.</span><a href="#使用tun-tap设备" class="headerlink" title="使用tun/tap设备"></a> 使用tun/tap设备</h1><h2 id="使用tap设备"><span class="post-title-index">3.1.</span><a href="#使用tap设备" class="headerlink" title="使用tap设备"></a> 使用tap设备</h2><p>1、安装iproute2和uml-utilities软件包</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install iproute2 uml-utilities</span><br></pre></td></tr></table></figure><p>2、创建一个tap设备</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ip tuntap add dev tap0 mode tap</span><br></pre></td></tr></table></figure><p>3、为tap设备分配IP地址并启用设备</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ip addr add 192.168.100.1/24 dev tap0</span><br><span class="line">sudo ip <span class="built_in">link</span> <span class="built_in">set</span> tap0 up</span><br></pre></td></tr></table></figure><p>4、测试设备的连通性</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping 192.168.100.1</span><br></pre></td></tr></table></figure><h2 id="使用tun设备"><span class="post-title-index">3.2.</span><a href="#使用tun设备" class="headerlink" title="使用tun设备"></a> 使用tun设备</h2><p>同样地，创建一个tun设备的命令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo ip tuntap add dev tun0 mode tun</span><br><span class="line">sudo ip addr add 10.0.0.1/24 dev tun0</span><br><span class="line">sudo ip <span class="built_in">link</span> <span class="built_in">set</span> tun0 up</span><br></pre></td></tr></table></figure><h1 id="veth-pair原理"><span class="post-title-index">4.</span><a href="#veth-pair原理" class="headerlink" title="veth pair原理"></a> veth pair原理</h1><p>veth pair（Virtual Ethernet Pair）是一对虚拟以太网设备，它们在内核空间中相互连接。当一个veth设备接收到数据包时，它会将数据包传递给与之配对的另一个veth设备。veth pair常用于连接不同的网络命名空间或虚拟机。</p><p>veth pair在内核空间中表现为一对连接在一起的虚拟网络设备。当一个veth设备接收到数据包时，数据包会立即传递给与之配对的另一个veth设备。这种机制使得veth pair可以用于连接不同的网络命名空间，例如Docker容器或Linux容器（LXC）中的网络。这种连接方式类似于将两台物理主机通过网线连接起来，但在这种情况下，连接发生在虚拟环境中。</p><h1 id="使用veth-pair"><span class="post-title-index">5.</span><a href="#使用veth-pair" class="headerlink" title="使用veth pair"></a> 使用veth pair</h1><h2 id="相同网络命名空间内"><span class="post-title-index">5.1.</span><a href="#相同网络命名空间内" class="headerlink" title="相同网络命名空间内"></a> 相同网络命名空间内</h2><p>1、创建一对veth设备</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ip <span class="built_in">link</span> add veth0 <span class="built_in">type</span> veth peer name veth1</span><br></pre></td></tr></table></figure><p>2、为veth设备分配IP地址并启用设备</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo ip addr add 192.168.200.1/24 dev veth0</span><br><span class="line">sudo ip <span class="built_in">link</span> <span class="built_in">set</span> veth0 up</span><br><span class="line">sudo ip addr add 192.168.200.2/24 dev veth1</span><br><span class="line">sudo ip <span class="built_in">link</span> <span class="built_in">set</span> veth1 up</span><br></pre></td></tr></table></figure><p>3、测试设备之间的连通性</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping 192.168.200.2 -c 4 -I veth0</span><br></pre></td></tr></table></figure><h2 id="不同网络命名空间内"><span class="post-title-index">5.2.</span><a href="#不同网络命名空间内" class="headerlink" title="不同网络命名空间内"></a> 不同网络命名空间内</h2><p>如有需要，可以将veth pair与不同的网络命名空间关联。</p><p>1、创建两个网络命名空间</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ip netns add ns1</span><br><span class="line">sudo ip netns add ns2</span><br></pre></td></tr></table></figure><p>2、将veth0移动到ns1命名空间</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ip <span class="built_in">link</span> <span class="built_in">set</span> veth0 netns ns1</span><br></pre></td></tr></table></figure><p>3、将veth1移动到ns2命名空间</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ip <span class="built_in">link</span> <span class="built_in">set</span> veth1 netns ns2</span><br></pre></td></tr></table></figure><p>4、在网络命名空间内分配IP地址并启用veth设备</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo ip netns <span class="built_in">exec</span> ns1 ip addr add 192.168.200.1/24 dev veth0</span><br><span class="line">sudo ip netns <span class="built_in">exec</span> ns1 ip <span class="built_in">link</span> <span class="built_in">set</span> veth0 up</span><br><span class="line">sudo ip netns <span class="built_in">exec</span> ns2 ip addr add 192.168.200.2/24 dev veth1</span><br><span class="line">sudo ip netns <span class="built_in">exec</span> ns2 ip <span class="built_in">link</span> <span class="built_in">set</span> veth1 up</span><br></pre></td></tr></table></figure><p>5、在命名空间之间测试设备的连通性</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ip netns <span class="built_in">exec</span> ns1 ping 192.168.200.2 -c 4</span><br></pre></td></tr></table></figure></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-tun-tap-vethpair/" title="Linux虚拟网络设备tun&#x2F;tap和veth pair">https://www.voidking.com/dev-tun-tap-vethpair/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li><li> <img width="200" height="200" src="/images/avatar.jpg"><p style="text-align:center;margin-bottom:0">微信公众号同步更新，欢迎关注~</p></li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/chatgpt/" rel="tag"># chatgpt</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag"># 网络</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-wireshark-start/" rel="prev" title="Wireshark入门篇"><i class="fa fa-chevron-left"></i> Wireshark入门篇</a></div><div class="post-nav-item"> <a href="/dev-linux-route/" rel="next" title="好好学Linux：route命令">好好学Linux：route命令<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Linux%E8%99%9A%E6%8B%9F%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87%E7%AE%80%E4%BB%8B"><span class="nav-text">1. Linux虚拟网络设备简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#tun-tap%E5%8E%9F%E7%90%86"><span class="nav-text">2. tun&#x2F;tap原理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8tun-tap%E8%AE%BE%E5%A4%87"><span class="nav-text">3. 使用tun&#x2F;tap设备</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8tap%E8%AE%BE%E5%A4%87"><span class="nav-text">3.1. 使用tap设备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8tun%E8%AE%BE%E5%A4%87"><span class="nav-text">3.2. 使用tun设备</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#veth-pair%E5%8E%9F%E7%90%86"><span class="nav-text">4. veth pair原理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8veth-pair"><span class="nav-text">5. 使用veth pair</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B8%E5%90%8C%E7%BD%91%E7%BB%9C%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%86%85"><span class="nav-text">5.1. 相同网络命名空间内</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8D%E5%90%8C%E7%BD%91%E7%BB%9C%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%86%85"><span class="nav-text">5.2. 不同网络命名空间内</span></a></li></ol></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">702</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">256</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: '7d11c4e33c9e7ccf16a24642c54bab64',
      title: 'Linux虚拟网络设备tun/tap和veth pair',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>