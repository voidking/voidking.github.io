<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://www.voidking.com').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.7.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="前言迅雷、旋风、百度云盘等下载工具，非VIP有限速，VIP有资源下载限制。在线云播，广告繁多，缓存慢，如今更是被封了99%。 小编在知乎找到了一个很好的解决方案：aria2。aria2 + aria2webui完成下载，emby或plex完成下载后播放功能。 本文，就来研究一下aria2的安装部署。">
<meta property="og:type" content="article">
<meta property="og:title" content="使用aria2离线下载">
<meta property="og:url" content="https://www.voidking.com/love-aria2-download/index.html">
<meta property="og:site_name" content="VoidKing">
<meta property="og:description" content="前言迅雷、旋风、百度云盘等下载工具，非VIP有限速，VIP有资源下载限制。在线云播，广告繁多，缓存慢，如今更是被封了99%。 小编在知乎找到了一个很好的解决方案：aria2。aria2 + aria2webui完成下载，emby或plex完成下载后播放功能。 本文，就来研究一下aria2的安装部署。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2017-05-13T08:00:00.000Z">
<meta property="article:modified_time" content="2020-02-09T04:03:48.847Z">
<meta property="article:author" content="VoidKing">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="windows">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://www.voidking.com/love-aria2-download/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>使用aria2离线下载 | VoidKing</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="VoidKing" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">VoidKing</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <h1 class="site-subtitle" itemprop="description">好好学习，天天向上！</h1>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.voidking.com/love-aria2-download/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="VoidKing">
      <meta itemprop="description" content="学而不思则罔，思而不学则殆！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="VoidKing">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          使用aria2离线下载
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-05-13 08:00:00" itemprop="dateCreated datePublished" datetime="2017-05-13T08:00:00+00:00">2017-05-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%B8%93%E4%B8%9A/" itemprop="url" rel="index">
                    <span itemprop="name">专业</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%B8%93%E4%B8%9A/%E8%BF%90%E7%BB%B4/" itemprop="url" rel="index">
                    <span itemprop="name">运维</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%B8%93%E4%B8%9A/%E8%BF%90%E7%BB%B4/centos/" itemprop="url" rel="index">
                    <span itemprop="name">centos</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%88%B1%E5%A5%BD/" itemprop="url" rel="index">
                    <span itemprop="name">爱好</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%88%B1%E5%A5%BD/%E7%94%B5%E8%84%91/" itemprop="url" rel="index">
                    <span itemprop="name">电脑</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>迅雷、旋风、百度云盘等下载工具，非VIP有限速，VIP有资源下载限制。<br>在线云播，广告繁多，缓存慢，如今更是被封了99%。</p>
<p>小编在知乎找到了一个很好的解决方案：aria2。aria2 + aria2webui完成下载，emby或plex完成下载后播放功能。</p>
<p>本文，就来研究一下aria2的安装部署。</p>
<a id="more"></a>

<h1 id="aria2简介"><a href="#aria2简介" class="headerlink" title="aria2简介"></a>aria2简介</h1><blockquote>
<p>aria2 is a lightweight multi-protocol &amp; multi-source command-line download utility. It supports HTTP/HTTPS, FTP, SFTP, BitTorrent and Metalink. aria2 can be manipulated via built-in JSON-RPC and XML-RPC interfaces.</p>
</blockquote>
<ul>
<li><a href="http://aria2.github.io/" target="_blank" rel="noopener">aria2官网</a></li>
<li><a href="https://github.com/aria2/aria2/" target="_blank" rel="noopener">aria2源码</a></li>
<li><a href="http://sourceforge.net/projects/aria2/files/stable/" target="_blank" rel="noopener">aria2下载地址</a></li>
</ul>
<h1 id="webui简介"><a href="#webui简介" class="headerlink" title="webui简介"></a>webui简介</h1><p>aria2webui包括yaaw、webui-aria2、AriaNg等。</p>
<h2 id="yaaw"><a href="#yaaw" class="headerlink" title="yaaw"></a>yaaw</h2><blockquote>
<p>YAAW: Yet Another Aria2 Web Frontend in pure HTML/CSS/Javascirpt.No HTTP server, backend or server-side program. All you need is just a browser.</p>
</blockquote>
<ul>
<li><a href="https://github.com/binux/yaaw" target="_blank" rel="noopener">yaaw源码地址</a></li>
<li><a href="http://aria2c.com/usage.html" target="_blank" rel="noopener">Aria2 &amp; YAAW 官方使用说明</a></li>
<li><a href="http://binux.github.io/yaaw/demo/" target="_blank" rel="noopener">yaaw管理页面</a></li>
<li><a href="http://yaaw.ghostry.cn/" target="_blank" rel="noopener">yaaw管理页面2</a></li>
<li><a href="http://aria2c.com/" target="_blank" rel="noopener">yaaw管理页面3</a></li>
</ul>
<h2 id="webui-aria2"><a href="#webui-aria2" class="headerlink" title="webui-aria2"></a>webui-aria2</h2><blockquote>
<p>The aim for this project is to create the worlds best and hottest interface to interact with aria2. aria2 is the worlds best file downloader, but sometimes the command line brings more power than necessary. The project was initially created as part of the GSOC scheme, however it has rapidly grown and changed with tremendous support and feedback from the aria2 community.</p>
</blockquote>
<ul>
<li><a href="https://github.com/ziahamza/webui-aria2" target="_blank" rel="noopener">webui-aria2源码</a></li>
<li><a href="http://ziahamza.github.io/webui-aria2/" target="_blank" rel="noopener">webui-aria2管理页面</a></li>
<li><a href="http://webui-aria2.ghostry.cn/" target="_blank" rel="noopener">webui-aria2管理页面2</a></li>
</ul>
<h2 id="AriaNg"><a href="#AriaNg" class="headerlink" title="AriaNg"></a>AriaNg</h2><blockquote>
<p>AriaNg is a web frontend making aria2 better. AriaNg is written in pure html &amp; javascript, thus it does not need any compilers or runtime environment. You can just put AriaNg in your web server and open it in your browser. AriaNg uses responsive layout, and supports any desktop or mobile devices.</p>
</blockquote>
<ul>
<li><a href="https://github.com/mayswind/AriaNg" target="_blank" rel="noopener">AriaNg源码地址</a></li>
<li><a href="http://ariang.mayswind.net/latest" target="_blank" rel="noopener">AriaNg管理页面</a></li>
</ul>
<h1 id="aria2命令行"><a href="#aria2命令行" class="headerlink" title="aria2命令行"></a>aria2命令行</h1><p>aria2命令行在windows和linux中通用。</p>
<p>1、Download from WEB<br><code>aria2c -c -s 5 http://example.org/mylinux.iso</code></p>
<p>其中-c代表断点续传，-s代表线程数。</p>
<p>2、Download from 2 sources<br><code>aria2c http://a/f.iso   ftp://b/f.iso</code></p>
<p>3、Download using 2 connections per host<br><code>aria2c -x2 http://a/f.iso</code></p>
<p>4、BitTorrent Magnet URI<br><code>aria2c &#39;magnet:?xt=urn:btih:248D0A1CD08284299DE78D5C1ED359BB46717D8C&#39;</code></p>
<p>5、Metalink<br><code>aria2c http://example.org/mylinux.metalink</code></p>
<p>6、Download URIs found in text file<br><code>aria2c -i uris.txt</code></p>
<p>7、BT<br><code>aria2c /tmp/CentOS-6.3-i386-bin-DVD1to2.torrent</code></p>
<p><code>aria2c http://mirrors.163.com/centos/6.6/isos/x86_64/CentOS-6.6-x86_64-minimal.torrent</code></p>
<p>注意：当源地址存在诸如 &amp;, * 等 shell 的特殊字符，请使用单引号或双引号把 URI 包含起来。</p>
<h1 id="windows安装使用aria2"><a href="#windows安装使用aria2" class="headerlink" title="windows安装使用aria2"></a>windows安装使用aria2</h1><h2 id="安装aria2"><a href="#安装aria2" class="headerlink" title="安装aria2"></a>安装aria2</h2><p>1、访问<a href="https://github.com/aria2/aria2/releases" target="_blank" rel="noopener">aria2项目</a>，下载最新的aria2，这里我们下载aria2-1.34.0-win-64bit-build1.zip。</p>
<p>2、解压aria2-1.34.0-win-64bit-build1.zip，并且重命名为aria2，最终路径为<code>D:\develop\aria2</code>。</p>
<h2 id="配置aria2"><a href="#配置aria2" class="headerlink" title="配置aria2"></a>配置aria2</h2><p>参考<a href="https://aria2.github.io/manual/en/html/" target="_blank" rel="noopener">aria2 Online Manual</a>和<a href="https://www.mivm.cn/windows-aria2/" target="_blank" rel="noopener">Windows配置Aria2及Web管理面板教程</a>，配置aria2。</p>
<p>1、下载配置文件<br><code>git clone https://github.com/voidking/aria2-conf.git</code></p>
<p>项目包含两个目录，一个是windows，一个是centos。windows目录下包含如下文件：</p>
<ul>
<li>aria2.conf，配置文件</li>
<li>aria2.log，日志文件</li>
<li>aria2.session，下载历史</li>
<li>Start.bat，启动aria2</li>
<li>Stop.bat，停止aria2</li>
<li>Restart.bat，重启aria2</li>
<li>Start.vbs，隐藏cmd窗口启动aria2</li>
<li>Status.bat，查看aria2状态</li>
<li>Boot.bat，开启或取消aria2开机启动</li>
</ul>
<p>2、aria2-conf/windows中的全部文件复制到<code>D:\develop\aria2</code>中。</p>
<p>3、根据需要，修改aria2.conf文件。</p>
<p>4、双击Start.bat，启动aria2服务。</p>
<h2 id="AriaNg安装配置"><a href="#AriaNg安装配置" class="headerlink" title="AriaNg安装配置"></a>AriaNg安装配置</h2><p>1、访问<a href="https://github.com/mayswind/AriaNg/releases" target="_blank" rel="noopener">ariang项目</a>，下载最新版的ariang，这里我们下载aria-ng-0.4.0.zip。</p>
<p>2、解压aria-ng-0.4.0.zip，并且重命名为ariang，最终路径为<code>D:\develop\ariang</code>。</p>
<p>3、下载EasyWebSvr.exe，这里提供一个<a href="https://pan.baidu.com/s/1-Niuv4AjlcMGrR5UcQwOsg" target="_blank" rel="noopener">下载地址</a>，密码为<code>1ey1</code>。</p>
<p>4、双击EasyWebSvr.exe，点击底部的锤子图标，选择设置，选择主目录为<code>D:\develop\ariang</code>目录，确定，点击底部的锤子图标，选择启动服务器。</p>
<p>如果不想搭建Web服务器的话，可以访问别人搭建的<a href="http://ariang.mayswind.net/latest" target="_blank" rel="noopener">AriaNg管理页面</a>。</p>
<p>PS：除了easywebsvr，还可以把airang扔到nginx、apache或tomcat等服务器的web目录下，效果是一样的。</p>
<p>5、访问 <a href="http://localhost" target="_blank" rel="noopener">http://localhost</a> ，进入Aria2 Web管理页面。</p>
<p>6、在Aria2 Web管理页面点击新建，可以添加HTTP、FTP、BT任务等，同时添加多个任务每行一个URL，添加镜像URL用空格分割，点击文件夹图标可以打开种子文件等。</p>
<p>文件默认下载到<code>D:\develop\aria2\download</code>文件夹，这是在aria2.conf中配置的。</p>
<p>注意：</p>
<ul>
<li>在Web管理面板删除下载任务后，Aria2并不会删除下载文件或者缓存，需要自己去下载文件夹删除掉。</li>
<li>在同一个局域网内，其他设备输入当前设备IP地址，也可以访问Web管理界面，如：192.168.1.2 。</li>
<li>由于Web管理界面只是一个调用的作用，所以即使浏览器关闭也不影响Aria2进行下载。</li>
</ul>
<h1 id="centos安装配置aria2"><a href="#centos安装配置aria2" class="headerlink" title="centos安装配置aria2"></a>centos安装配置aria2</h1><h2 id="yum安装aria2"><a href="#yum安装aria2" class="headerlink" title="yum安装aria2"></a>yum安装aria2</h2><p>1、手动安装EPEL源</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget http:<span class="comment">//dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</span></span><br><span class="line">rpm -ivh epel-release-latest-<span class="number">7</span><span class="selector-class">.noarch</span>.rpm</span><br><span class="line">yum repolist <span class="comment">//查看是否成功安装epel</span></span><br></pre></td></tr></table></figure>

<p>2、自动安装EPEL源</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">yum</span> <span class="string">install epel-release</span></span><br><span class="line"><span class="attr">yum</span> <span class="string">repolist</span></span><br></pre></td></tr></table></figure>

<p>3、安装aria2<br><code>yum install aria2</code></p>
<p>4、查看安装情况<br><code>aria2c -v</code></p>
<h2 id="编译安装aria2"><a href="#编译安装aria2" class="headerlink" title="编译安装aria2"></a>编译安装aria2</h2><p>1、访问<a href="https://github.com/aria2/aria2/releases" target="_blank" rel="noopener">aria2项目</a>，下载最新的aria2，这里我们下载aria2-1.34.0.tar.gz。</p>
<p><code>wget --no-check-certificate --content-disposition https://github.com/aria2/aria2/releases/download/release-1.34.0/aria2-1.34.0.tar.gz</code></p>
<p>或者：<br><code>curl -LJO https://github.com/aria2/aria2/releases/download/release-1.34.0/aria2-1.34.0.tar.gz</code></p>
<p>2、解压aria2-1.34.0.tar.gz并编译安装。</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mv aria2-1.34.0.tar.gz <span class="string">/opt</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">/opt/</span></span><br><span class="line">tar -zxvf aria2-1.34.0.tar.gz</span><br><span class="line"><span class="keyword">cd</span> aria2-1.34.0/</span><br><span class="line"><span class="string">./configure</span> <span class="params">--enable-bittorrent</span> <span class="params">--enable-metalink</span>  </span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
<p>默认情况下，会在/usr/local/bin 目录创建 aria2c 可执行程序。</p>
<p>3、查看安装情况。<br><code>aria2c -v</code></p>
<h2 id="配置aria2-1"><a href="#配置aria2-1" class="headerlink" title="配置aria2"></a>配置aria2</h2><p>1、下载配置文件<br><code>git clone https://github.com/voidking/aria2-conf.git</code></p>
<p>项目包含两个目录，一个是windows，一个是centos。centos目录下包含如下文件：</p>
<ul>
<li>aria2.conf，配置文件</li>
<li>aria2.log，日志文件</li>
<li>aria2.session，下载历史</li>
</ul>
<p>2、移动文件<br><code>mkdir -p /data/aria2</code></p>
<p><code>cd aria2-conf/centos &amp;&amp; mv ./* /data/aria2/</code></p>
<p>3、启动测试<br><code>aria2c --conf-path=/data/aria2/aria2.conf</code></p>
<p>4、后台启动<br><code>aria2c --conf-path=/data/aria2/aria2.conf -D</code></p>
<h2 id="AriaNg安装使用"><a href="#AriaNg安装使用" class="headerlink" title="AriaNg安装使用"></a>AriaNg安装使用</h2><p>1、访问<a href="https://github.com/mayswind/AriaNg/releases" target="_blank" rel="noopener">ariang项目</a>，下载最新版的ariang，这里我们下载aria-ng-0.4.0.zip。<br><code>curl -LJO https://github.com/mayswind/AriaNg/releases/download/0.4.0/aria-ng-0.4.0.zip</code></p>
<p>2、参考<a href="https://www.voidking.com/dev-hexo-accelerate/">Hexo加速访问</a>，在/opt/www目录下创建aria2目录。</p>
<p><code>mkdir -p /opt/www/aria2</code></p>
<p>3、移动文件并解压<br><code>mv aria-ng-0.4.0.zip /opt/www/aria2</code></p>
<p><code>cd /opt/www/aria2 &amp;&amp; unzip aria-ng-0.4.0.zip</code></p>
<p><code>rm aria-ng-0.4.0.zip</code></p>
<p>4、配置nginx<br><code>cd /etc/nginx/conf.d/</code></p>
<p><code>vim www.voidking.com.conf</code>，内容为：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> aria2.voidking.com;</span><br><span class="line">    <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="attribute">root</span> /opt/www/aria2/;</span><br><span class="line">        <span class="attribute">index</span> index.html;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5、重启nginx<br><code>/usr/sbin/nginx -s reload</code></p>
<p>6、在dns服务器上添加aria2，解析到centos服务器ip。</p>
<p>7、测试访问<br>访问地址：<a href="http://aria2.voidking.com" target="_blank" rel="noopener">http://aria2.voidking.com</a></p>
<h2 id="无法连接问题"><a href="#无法连接问题" class="headerlink" title="无法连接问题"></a>无法连接问题</h2><p>在ariang页面，如果发现无法连接到aria2，那么参照如下方法解决：</p>
<p>方法一：开放端口（推荐）<br>1、查询6800端口是否开放<br><code>firewall-cmd --query-port=6800/tcp</code></p>
<p>2、打开6800端口<br><code>firewall-cmd --add-port=6800/tcp</code></p>
<p>方法二：关闭防火墙（不推荐）<br><code>systemctl stop firewalld.service</code></p>
<h1 id="bt下载问题"><a href="#bt下载问题" class="headerlink" title="bt下载问题"></a>bt下载问题</h1><p>有些bt文件，在aria2上进行下载，却没有速度。参考<a href="http://baijiahao.baidu.com/s?id=1588382182211754287&wfr=spider&for=pc" target="_blank" rel="noopener">更新Tracker，解决Aria2 BT下载无速度</a>和<a href="https://www.5yun.org/16436.html" target="_blank" rel="noopener">Aria2 bt 没速度? 试试自动更新BT Tracker服务器列表的方法</a>，进行配置。</p>
<p>1、新建addtrackers.sh脚本，内容为</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">list=`wget -qO- https://raw.githubusercontent.com/ngosang/trackerslist/master/trackers_all.txt|awk NF|sed <span class="string">":a;N;s/\n/,/g;ta"</span>`</span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">"`grep "</span>bt-tracker<span class="string">" /data/aria2/aria2.conf`"</span> ]; <span class="keyword">then</span></span><br><span class="line">    sed -i <span class="string">'$a bt-tracker='</span><span class="variable">$&#123;list&#125;</span> /data/aria2/aria2.conf</span><br><span class="line">    <span class="built_in">echo</span> add......</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    sed -i <span class="string">"s@bt-tracker.*@bt-tracker=<span class="variable">$list</span>@g"</span> /data/aria2/aria2.conf</span><br><span class="line">    <span class="built_in">echo</span> update......</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>2、执行脚本<br><code>chmod +x addtrackers.sh</code></p>
<p><code>./addtrackers.sh</code></p>
<p>3、重启aria2进行测试<br><code>aria2c --conf-path=/data/aria2/aria2.conf</code></p>
<p>PS：或者，直接访问<a href="https://github.com/ngosang/trackerslist" target="_blank" rel="noopener">trackerslist项目</a>，复制list，然后添加到aria2.conf文件中。</p>
<h1 id="磁力链下载问题"><a href="#磁力链下载问题" class="headerlink" title="磁力链下载问题"></a>磁力链下载问题</h1><p>所有磁力链在aria2上进行下载，没有速度。</p>
<h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>关于emby和plex，暂时没有研究。</p>
<h1 id="书签"><a href="#书签" class="headerlink" title="书签"></a>书签</h1><p><a href="http://skypegnu1.blog.51cto.com/8991766/1637168/" target="_blank" rel="noopener">CentOS 下搭建 aria2 远程下载环境</a></p>
<p><a href="http://www.2kil.com/9472.html" target="_blank" rel="noopener">CentOS7安装Aria2</a></p>
<p><a href="http://www.1vip.ga/" target="_blank" rel="noopener">在线磁力播放引擎</a></p>
<p><a href="http://m.blog.csdn.net/article/details?id=38783803" target="_blank" rel="noopener">DIY一套NAS+私有云盘+下载机</a></p>
<p><a href="https://www.jianshu.com/p/b2649d073741" target="_blank" rel="noopener">Ubuntu16 下载软件Aria2 全局配置方法(最全组合)</a></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/linux/" rel="tag"># linux</a>
              <a href="/tags/windows/" rel="tag"># windows</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/dev-docker-deploy-javaweb/" rel="prev" title="Docker部署JavaWeb项目">
      <i class="fa fa-chevron-left"></i> Docker部署JavaWeb项目
    </a></div>
      <div class="post-nav-item">
    <a href="/dev-yii-in-action/" rel="next" title="Yii框架实战">
      Yii框架实战 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
  <div class="comments">
    <div id="lv-container" data-id="city" data-uid="MTAyMC8zODU3Mi8xNTEwMA=="></div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#aria2简介"><span class="nav-number">2.</span> <span class="nav-text">aria2简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#webui简介"><span class="nav-number">3.</span> <span class="nav-text">webui简介</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#yaaw"><span class="nav-number">3.1.</span> <span class="nav-text">yaaw</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#webui-aria2"><span class="nav-number">3.2.</span> <span class="nav-text">webui-aria2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AriaNg"><span class="nav-number">3.3.</span> <span class="nav-text">AriaNg</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#aria2命令行"><span class="nav-number">4.</span> <span class="nav-text">aria2命令行</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#windows安装使用aria2"><span class="nav-number">5.</span> <span class="nav-text">windows安装使用aria2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#安装aria2"><span class="nav-number">5.1.</span> <span class="nav-text">安装aria2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置aria2"><span class="nav-number">5.2.</span> <span class="nav-text">配置aria2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AriaNg安装配置"><span class="nav-number">5.3.</span> <span class="nav-text">AriaNg安装配置</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#centos安装配置aria2"><span class="nav-number">6.</span> <span class="nav-text">centos安装配置aria2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#yum安装aria2"><span class="nav-number">6.1.</span> <span class="nav-text">yum安装aria2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#编译安装aria2"><span class="nav-number">6.2.</span> <span class="nav-text">编译安装aria2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置aria2-1"><span class="nav-number">6.3.</span> <span class="nav-text">配置aria2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AriaNg安装使用"><span class="nav-number">6.4.</span> <span class="nav-text">AriaNg安装使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#无法连接问题"><span class="nav-number">6.5.</span> <span class="nav-text">无法连接问题</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#bt下载问题"><span class="nav-number">7.</span> <span class="nav-text">bt下载问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#磁力链下载问题"><span class="nav-number">8.</span> <span class="nav-text">磁力链下载问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#后记"><span class="nav-number">9.</span> <span class="nav-text">后记</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#书签"><span class="nav-number">10.</span> <span class="nav-text">书签</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="VoidKing"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">VoidKing</p>
  <div class="site-description" itemprop="description">学而不思则罔，思而不学则殆！</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">583</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">189</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/voidking_com" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;voidking_com" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 2014 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">VoidKing</span>
</div>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








        
  <div class="footer-beian">
    <a href="http://www.beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp;
    <!-- <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=32032202000223">苏公网安备 32032202000223号</a> -->
    <img src="/images/beian.png" alt="">
    <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a>
  </div>

      </div>
    </footer>
    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

  
  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">

  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
      flOptions = {};
      
          flOptions.iconStyle = "box";
      
          flOptions.boxForm = "horizontal";
      
          flOptions.position = "topRight";
      
          flOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script>

<script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  // window.livereOptions = {
  //   refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  // };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script>

</body>
</html>
