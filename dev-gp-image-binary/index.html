<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//cdn.voidking.com/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="理论图像的二值化，就是将图像上的像素点的灰度值设置为0或255，也就是将整个图像呈现出明显的只有黑和白的视觉效果。 一幅图像包括目标物体、背景还有噪声，要想从多值的数字图像中直接提取出目标物体，常用的方法就是设定一个阈值T，用T将图像的数据分成两部分：大于T的像素群和小于T的像素群。这是研究灰度变换的最特殊的方法，称为图像的二值化（Binarization）。 常见的二值化方法有三种，分别是固定阈"><meta property="og:type" content="article"><meta property="og:title" content="图像二值化"><meta property="og:url" content="https://www.voidking.com/dev-gp-image-binary/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="理论图像的二值化，就是将图像上的像素点的灰度值设置为0或255，也就是将整个图像呈现出明显的只有黑和白的视觉效果。 一幅图像包括目标物体、背景还有噪声，要想从多值的数字图像中直接提取出目标物体，常用的方法就是设定一个阈值T，用T将图像的数据分成两部分：大于T的像素群和小于T的像素群。这是研究灰度变换的最特殊的方法，称为图像的二值化（Binarization）。 常见的二值化方法有三种，分别是固定阈"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://cdn.voidking.com//imgs/gp-image-binary/static.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com//imgs/gp-image-binary/mean.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com//imgs/gp-image-binary/adapt.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com//imgs/gp-image-binary/hist.jpg?imageView2/0/w/600"><meta property="article:published_time" content="2019-01-03T09:00:00.000Z"><meta property="article:modified_time" content="2019-01-03T09:00:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="python"><meta property="article:tag" content="毕设"><meta property="article:tag" content="opencv"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://cdn.voidking.com//imgs/gp-image-binary/static.jpg?imageView2/0/w/600"><link rel="canonical" href="https://www.voidking.com/dev-gp-image-binary/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>图像二值化 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">好好学习，天天向上！</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-gp-image-binary/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="学而不思则罔，思而不学则殆！"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 图像二值化</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-01-03 09:00:00" itemprop="dateCreated datePublished" datetime="2019-01-03T09:00:00+00:00">2019-01-03</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="理论"><span class="post-title-index">1.</span><a href="#理论" class="headerlink" title="理论"></a> 理论</h1><p>图像的二值化，就是将图像上的像素点的灰度值设置为0或255，也就是将整个图像呈现出明显的只有黑和白的视觉效果。</p><p>一幅图像包括目标物体、背景还有噪声，要想从多值的数字图像中直接提取出目标物体，常用的方法就是设定一个阈值T，用T将图像的数据分成两部分：大于T的像素群和小于T的像素群。这是研究灰度变换的最特殊的方法，称为图像的二值化（Binarization）。</p><p>常见的二值化方法有三种，分别是固定阈值法、平均值法、自适应阈值法和直方图法。</p><p>固定阈值法就是设定一个固定阈值K，小于等于K的像素值设为0(黑色)，大于K的像素值设为255(白色)。</p><p>平均值法计算像素的平均值K，然后扫描图像的每个像素值，小于等于K像素值设为0(黑色)，大于K的像素值设为255(白色)。</p><p>自适应阈值法对平均值法进行改进，规定一个区域大小，求区域平均值作为阈值K，然后区域中的像素值与K进行比较。</p><p>直方图方法主要是发现图像的两个最高的峰，然后阈值K取值在两个峰之间的峰谷最低处。图像的直方图用来表征该图像像素值的分布情况。用一定数目的小区间(bin)来指定表征像素值的范围，每个小区间会得到落入该小区间表示范围的像素数目。</p><p>更多内容参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/what_lei/article/details/49159655">图像的二值化之python+opencv</a>和<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000015647247">opencv python图像二值化</a>。</p><span id="more"></span><h1 id="实践"><span class="post-title-index">2.</span><a href="#实践" class="headerlink" title="实践"></a> 实践</h1><h2 id="固定阈值法"><span class="post-title-index">2.1.</span><a href="#固定阈值法" class="headerlink" title="固定阈值法"></a> 固定阈值法</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import cv2</span><br><span class="line">from matplotlib import pyplot as plt</span><br><span class="line">img=cv2<span class="selector-class">.imread</span>(<span class="string">&#x27;../image/test.jpg&#x27;</span>)</span><br><span class="line">GrayImage=cv2<span class="selector-class">.cvtColor</span>(<span class="selector-tag">img</span>,cv2.COLOR_BGR2GRAY)</span><br><span class="line">ret,thresh1=cv2<span class="selector-class">.threshold</span>(GrayImage,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line">ret,thresh2=cv2<span class="selector-class">.threshold</span>(GrayImage,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_BINARY_INV)</span><br><span class="line">ret,thresh3=cv2<span class="selector-class">.threshold</span>(GrayImage,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_TRUNC)</span><br><span class="line">ret,thresh4=cv2<span class="selector-class">.threshold</span>(GrayImage,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_TOZERO)</span><br><span class="line">ret,thresh5=cv2<span class="selector-class">.threshold</span>(GrayImage,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_TOZERO_INV)</span><br><span class="line">titles = <span class="selector-attr">[<span class="string">&#x27;Gray Image&#x27;</span>,<span class="string">&#x27;BINARY&#x27;</span>,<span class="string">&#x27;BINARY_INV&#x27;</span>,<span class="string">&#x27;TRUNC&#x27;</span>,<span class="string">&#x27;TOZERO&#x27;</span>,<span class="string">&#x27;TOZERO_INV&#x27;</span>]</span></span><br><span class="line">images = <span class="selector-attr">[GrayImage, thresh1, thresh2, thresh3, thresh4, thresh5]</span></span><br><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">   plt<span class="selector-class">.subplot</span>(<span class="number">2</span>,<span class="number">3</span>,i+<span class="number">1</span>),plt<span class="selector-class">.imshow</span>(images<span class="selector-attr">[i]</span>,<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">   plt<span class="selector-class">.title</span>(titles<span class="selector-attr">[i]</span>)</span><br><span class="line">   plt<span class="selector-class">.xticks</span>(<span class="selector-attr">[]</span>),plt<span class="selector-class">.yticks</span>(<span class="selector-attr">[]</span>)</span><br><span class="line">plt<span class="selector-class">.show</span>()</span><br></pre></td></tr></table></figure><p><img src="http://cdn.voidking.com//imgs/gp-image-binary/static.jpg?imageView2/0/w/600"></p><p>如果报错没有matplotlib，那么先执行<code>pip install matplotlib</code>进行安装。</p><p><code>retval,dst = cv.threshold(src, thresh, maxval, type[, dst] )</code>参数解释：</p><ul><li>src：原图像，原图像应该是灰度图。</li><li>thresh：用来对像素值进行分类的阈值。</li><li>maxval：大于阈值置为maxval。</li><li>type：不同的阈值方法。</li></ul><h2 id="平均阈值法"><span class="post-title-index">2.2.</span><a href="#平均阈值法" class="headerlink" title="平均阈值法"></a> 平均阈值法</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import cv2</span><br><span class="line">import numpy as np</span><br><span class="line">from matplotlib import pyplot as plt</span><br><span class="line">img=cv2<span class="selector-class">.imread</span>(<span class="string">&#x27;../image/test.jpg&#x27;</span>)</span><br><span class="line">GrayImage=cv2<span class="selector-class">.cvtColor</span>(<span class="selector-tag">img</span>,cv2.COLOR_BGR2GRAY)</span><br><span class="line">k=np<span class="selector-class">.mean</span>(GrayImage)</span><br><span class="line">ret,thresh1=cv2<span class="selector-class">.threshold</span>(GrayImage,k,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line">ret,thresh2=cv2<span class="selector-class">.threshold</span>(GrayImage,k,<span class="number">255</span>,cv2.THRESH_BINARY_INV)</span><br><span class="line">ret,thresh3=cv2<span class="selector-class">.threshold</span>(GrayImage,k,<span class="number">255</span>,cv2.THRESH_TRUNC)</span><br><span class="line">ret,thresh4=cv2<span class="selector-class">.threshold</span>(GrayImage,k,<span class="number">255</span>,cv2.THRESH_TOZERO)</span><br><span class="line">ret,thresh5=cv2<span class="selector-class">.threshold</span>(GrayImage,k,<span class="number">255</span>,cv2.THRESH_TOZERO_INV)</span><br><span class="line">titles = <span class="selector-attr">[<span class="string">&#x27;Gray Image&#x27;</span>,<span class="string">&#x27;BINARY&#x27;</span>,<span class="string">&#x27;BINARY_INV&#x27;</span>,<span class="string">&#x27;TRUNC&#x27;</span>,<span class="string">&#x27;TOZERO&#x27;</span>,<span class="string">&#x27;TOZERO_INV&#x27;</span>]</span></span><br><span class="line">images = <span class="selector-attr">[GrayImage, thresh1, thresh2, thresh3, thresh4, thresh5]</span></span><br><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">   plt<span class="selector-class">.subplot</span>(<span class="number">2</span>,<span class="number">3</span>,i+<span class="number">1</span>),plt<span class="selector-class">.imshow</span>(images<span class="selector-attr">[i]</span>,<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">   plt<span class="selector-class">.title</span>(titles<span class="selector-attr">[i]</span>)</span><br><span class="line">   plt<span class="selector-class">.xticks</span>(<span class="selector-attr">[]</span>),plt<span class="selector-class">.yticks</span>(<span class="selector-attr">[]</span>)</span><br><span class="line">plt<span class="selector-class">.show</span>()</span><br></pre></td></tr></table></figure><p><img src="http://cdn.voidking.com//imgs/gp-image-binary/mean.jpg?imageView2/0/w/600"></p><h2 id="自适应阈值法"><span class="post-title-index">2.3.</span><a href="#自适应阈值法" class="headerlink" title="自适应阈值法"></a> 自适应阈值法</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">import</span> cv2</span><br><span class="line"><span class="attribute">from</span> matplotlib import pyplot as plt</span><br><span class="line"><span class="attribute">img</span>=cv2.imread(&#x27;../image/test.jpg&#x27;)</span><br><span class="line"><span class="attribute">GrayImage</span>=cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)</span><br><span class="line"><span class="attribute">ret</span>,th1 = cv2.threshold(GrayImage,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line"></span><br><span class="line"><span class="attribute">th2</span> = cv2.adaptiveThreshold(GrayImage,<span class="number">255</span>,cv2.ADAPTIVE_THRESH_MEAN_C,\</span><br><span class="line">                    <span class="attribute">cv2</span>.THRESH_BINARY,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="attribute">th3</span> = cv2.adaptiveThreshold(GrayImage,<span class="number">255</span>,cv2.ADAPTIVE_THRESH_GAUSSIAN_C,\</span><br><span class="line">                    <span class="attribute">cv2</span>.THRESH_BINARY,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="attribute">titles</span> =<span class="meta"> [&#x27;Gray Image&#x27;, &#x27;Global Thresholding (v = 127)&#x27;,</span></span><br><span class="line"><span class="meta">&#x27;Adaptive Mean Thresholding&#x27;, &#x27;Adaptive Gaussian Thresholding&#x27;]</span></span><br><span class="line"><span class="attribute">images</span> =<span class="meta"> [GrayImage, th1, th2, th3]</span></span><br><span class="line"><span class="attribute">for</span> i in range(<span class="number">4</span>):</span><br><span class="line">   <span class="attribute">plt</span>.subplot(<span class="number">2</span>,<span class="number">2</span>,i+<span class="number">1</span>),plt.imshow(images[i],&#x27;gray&#x27;)</span><br><span class="line">   <span class="attribute">plt</span>.title(titles[i])</span><br><span class="line">   <span class="attribute">plt</span>.xticks([]),plt.yticks([])</span><br><span class="line"><span class="attribute">plt</span>.show()</span><br></pre></td></tr></table></figure><p><img src="http://cdn.voidking.com//imgs/gp-image-binary/adapt.jpg?imageView2/0/w/600"></p><p><code>dst = cv.adaptiveThreshold(src, maxValue, adaptiveMethod, thresholdType, blockSize, C[, dst] )</code>参数解释：</p><ul><li>src：指原图像，原图像应该是灰度图。</li><li>maxValue：大于阈值置为maxValue。</li><li>adaptiveMethod：要使用的自适应阈值算法。</li><li>thresholdType：阈值类型必须是THRESH_BINARY或THRESH_BINARY_INV。</li><li>blockSize：用于计算像素的阈值的像素邻域的大小：3,5,7等。</li><li>C：从平均值或加权平均值中减去常数。通常情况下，它是正数，但也可能为零或负数。</li></ul><h2 id="直方图法"><span class="post-title-index">2.4.</span><a href="#直方图法" class="headerlink" title="直方图法"></a> 直方图法</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">import</span> cv2</span><br><span class="line"><span class="attribute">import</span> numpy as np</span><br><span class="line"><span class="attribute">from</span> matplotlib import pyplot as plt</span><br><span class="line"><span class="attribute">img</span>=cv2.imread(&#x27;../image/test.jpg&#x27;)</span><br><span class="line"><span class="attribute">img</span>=cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)</span><br><span class="line"></span><br><span class="line"><span class="comment"># global thresholding</span></span><br><span class="line"><span class="attribute">ret1</span>,th1 = cv2.threshold(img,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Otsu&#x27;s thresholding</span></span><br><span class="line"><span class="attribute">ret2</span>,th2 = cv2.threshold(img,<span class="number">0</span>,<span class="number">255</span>,cv2.THRESH_BINARY+cv2.THRESH_OTSU)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Otsu&#x27;s thresholding after Gaussian filtering</span></span><br><span class="line"><span class="attribute">blur</span> = cv2.GaussianBlur(img,(<span class="number">5</span>,<span class="number">5</span>),<span class="number">0</span>)</span><br><span class="line"><span class="attribute">ret3</span>,th3 = cv2.threshold(blur,<span class="number">0</span>,<span class="number">255</span>,cv2.THRESH_BINARY+cv2.THRESH_OTSU)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot all the images and their histograms</span></span><br><span class="line"><span class="attribute">images</span> =<span class="meta"> [img, 0, th1,</span></span><br><span class="line"><span class="meta">          img, 0, th2,</span></span><br><span class="line"><span class="meta">          blur, 0, th3]</span></span><br><span class="line"><span class="attribute">titles</span> =<span class="meta"> [&#x27;Original Noisy Image&#x27;,&#x27;Histogram&#x27;,&#x27;Global Thresholding (v=127)&#x27;,</span></span><br><span class="line"><span class="meta">          &#x27;Original Noisy Image&#x27;,&#x27;Histogram&#x27;,&quot;Otsu&#x27;s Thresholding&quot;,</span></span><br><span class="line"><span class="meta">          &#x27;Gaussian filtered Image&#x27;,&#x27;Histogram&#x27;,&quot;Otsu&#x27;s Thresholding&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">for</span> i in range(<span class="number">3</span>):</span><br><span class="line">    <span class="attribute">plt</span>.subplot(<span class="number">3</span>,<span class="number">3</span>,i*<span class="number">3</span>+<span class="number">1</span>),plt.imshow(images[i*<span class="number">3</span>],&#x27;gray&#x27;)</span><br><span class="line">    <span class="attribute">plt</span>.title(titles[i*<span class="number">3</span>]), plt.xticks([]), plt.yticks([])</span><br><span class="line">    <span class="attribute">plt</span>.subplot(<span class="number">3</span>,<span class="number">3</span>,i*<span class="number">3</span>+<span class="number">2</span>),plt.hist(images[i*<span class="number">3</span>].ravel(),<span class="number">256</span>)</span><br><span class="line">    <span class="attribute">plt</span>.title(titles[i*<span class="number">3</span>+<span class="number">1</span>]), plt.xticks([]), plt.yticks([])</span><br><span class="line">    <span class="attribute">plt</span>.subplot(<span class="number">3</span>,<span class="number">3</span>,i*<span class="number">3</span>+<span class="number">3</span>),plt.imshow(images[i*<span class="number">3</span>+<span class="number">2</span>],&#x27;gray&#x27;)</span><br><span class="line">    <span class="attribute">plt</span>.title(titles[i*<span class="number">3</span>+<span class="number">2</span>]), plt.xticks([]), plt.yticks([])</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.show()</span><br></pre></td></tr></table></figure><p><img src="http://cdn.voidking.com//imgs/gp-image-binary/hist.jpg?imageView2/0/w/600"></p><h1 id="后记"><span class="post-title-index">3.</span><a href="#后记" class="headerlink" title="后记"></a> 后记</h1><p>至此，实现了常用的四种图像二值化算法。根据不同的需要，选择不同的算法。比如对于这幅图，如果要最佳的二值化显示效果，那么平均值法最好；如果要提取轮廓，那么自适应阈值法最好；如果要获取兔斯基，那么直方图法最好。</p><h1 id="书签"><span class="post-title-index">4.</span><a href="#书签" class="headerlink" title="书签"></a> 书签</h1><p><a target="_blank" rel="noopener" href="https://docs.opencv.org/3.4/">OpenCV3.4官方文档</a></p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="https://www.voidking.com/dev-gp-image-binary/" title="图像二值化">https://www.voidking.com/dev-gp-image-binary/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！源站会及时更新知识点及修正错误，阅读体验也更好。欢迎分享，欢迎收藏~</li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/python/" rel="tag"># python</a> <a href="/tags/%E6%AF%95%E8%AE%BE/" rel="tag"># 毕设</a> <a href="/tags/opencv/" rel="tag"># opencv</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-gp-image-graying/" rel="prev" title="图像灰度化"><i class="fa fa-chevron-left"></i> 图像灰度化</a></div><div class="post-nav-item"> <a href="/dev-gp-image-denoise/" rel="next" title="图像去噪">图像去噪<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%90%86%E8%AE%BA"><span class="nav-text">1. 理论</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%9E%E8%B7%B5"><span class="nav-text">2. 实践</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%BA%E5%AE%9A%E9%98%88%E5%80%BC%E6%B3%95"><span class="nav-text">2.1. 固定阈值法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B9%B3%E5%9D%87%E9%98%88%E5%80%BC%E6%B3%95"><span class="nav-text">2.2. 平均阈值法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E9%80%82%E5%BA%94%E9%98%88%E5%80%BC%E6%B3%95"><span class="nav-text">2.3. 自适应阈值法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B4%E6%96%B9%E5%9B%BE%E6%B3%95"><span class="nav-text">2.4. 直方图法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%8E%E8%AE%B0"><span class="nav-text">3. 后记</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B9%A6%E7%AD%BE"><span class="nav-text">4. 书签</span></a></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">学而不思则罔，思而不学则殆！</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">649</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">29</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">242</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2023</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: '126957adddb2bee23cfd55810f2391a7',
      title: '图像二值化',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>