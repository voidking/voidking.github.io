<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言《虚拟机在线迁移实验》一文中提到，迁移过程中的downtime不合理，但是没有找到原因。 本文，我们来使用Libvirt进行虚拟机在线迁移，如果downtime在毫秒级，那么说明问题出在OpenStack上。参考An analysis of the performance of live migration in Openstack的评论部分，可以发现有人遇到的同样的问题，downtime远大"><meta property="og:type" content="article"><meta property="og:title" content="使用Libvirt进行虚拟机在线迁移"><meta property="og:url" content="https://www.voidking.com/dev-libvirt-vm-live-migration/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言《虚拟机在线迁移实验》一文中提到，迁移过程中的downtime不合理，但是没有找到原因。 本文，我们来使用Libvirt进行虚拟机在线迁移，如果downtime在毫秒级，那么说明问题出在OpenStack上。参考An analysis of the performance of live migration in Openstack的评论部分，可以发现有人遇到的同样的问题，downtime远大"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://cdn.voidking.com//imgs/libvirt-vm-live-migration/port.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com//imgs/libvirt-vm-live-migration/connect.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com//imgs/libvirt-vm-live-migration/list.jpg?imageView2/0/w/600"><meta property="og:image" content="http://cdn.voidking.com//imgs/libvirt-vm-live-migration/migrate.jpg?imageView2/0/w/600"><meta property="article:published_time" content="2018-12-27T09:00:00.000Z"><meta property="article:modified_time" content="2020-06-28T00:39:48.728Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="linux"><meta property="article:tag" content="ubuntu"><meta property="article:tag" content="libvirt"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://cdn.voidking.com//imgs/libvirt-vm-live-migration/port.jpg?imageView2/0/w/600"><link rel="canonical" href="https://www.voidking.com/dev-libvirt-vm-live-migration/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>使用Libvirt进行虚拟机在线迁移 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">好好学习，天天向上！</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-libvirt-vm-live-migration/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="学而不思则罔，思而不学则殆！"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 使用Libvirt进行虚拟机在线迁移</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-12-27 09:00:00" itemprop="dateCreated datePublished" datetime="2018-12-27T09:00:00+00:00">2018-12-27</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/" itemprop="url" rel="index"><span itemprop="name">专业</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/%E8%BF%90%E7%BB%B4/" itemprop="url" rel="index"><span itemprop="name">运维</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/%E8%BF%90%E7%BB%B4/ubuntu/" itemprop="url" rel="index"><span itemprop="name">ubuntu</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><a href="https://www.voidking.com/dev-openstack-vm-live-migration-experiment/">《虚拟机在线迁移实验》</a>一文中提到，迁移过程中的downtime不合理，但是没有找到原因。</p><p>本文，我们来使用Libvirt进行虚拟机在线迁移，如果downtime在毫秒级，那么说明问题出在OpenStack上。参考<a href="https://blog.zhaw.ch/icclab/an-analysis-of-the-performance-of-live-migration-in-openstack/" target="_blank" rel="noopener">An analysis of the performance of live migration in Openstack</a>的评论部分，可以发现有人遇到的同样的问题，downtime远大于1s。作者的猜测是libvirt的设置引起的，也可能是由于迁移后网络适应速度较慢造成的。</p><a id="more"></a><h1 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境"></a>实验环境</h1><p>使用<a href="https://www.voidking.com/dev-libvirt-create-vm/">《使用Libvirt创建虚拟机》</a>一文中搭建的环境，已经有了node0和node1两个节点，IP分别为192.168.56.200和192.168.56.201。</p><h2 id="NFS"><a href="#NFS" class="headerlink" title="NFS"></a>NFS</h2><p>要想进行虚拟机的迁移，首先迁出主机（node0）和迁入主机（node1）存放虚拟机磁盘的目录结构要相同。参考<a href="https://www.voidking.com/dev-openstack-vm-live-migration/#NFS">OpenStack中共享存储的虚拟机在线迁移</a>的NFS部分，进行NFS配置。</p><p>1、在node0安装nfs服务端<br><code>apt install nfs-kernel-server</code></p><p>2、编写配置文件<br><code>vim /etc/exports</code><br>添加如下内容：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># qemu</span></span><br><span class="line"><span class="regexp">/opt/</span>qemu *(rw,sync,no_root_squash)</span><br></pre></td></tr></table></figure><p>3、重启nfs服务<br><code>service nfs-kernel-server restart</code></p><p>4、在node1安装nfs客户端<br><code>apt-get install nfs-common</code></p><p>5、查看共享信息<br><code>showmount -e 192.168.56.200</code></p><p>6、挂载nfs目录</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /<span class="keyword">opt</span>/qemu</span><br><span class="line">mount -t nfs <span class="number">192.168</span>.<span class="number">56.200</span>:/<span class="keyword">opt</span>/qemu /<span class="keyword">opt</span>/qemu</span><br><span class="line">chmod -R <span class="number">777</span> /<span class="keyword">opt</span>/qemu</span><br></pre></td></tr></table></figure><h2 id="libvirt端口配置"><a href="#libvirt端口配置" class="headerlink" title="libvirt端口配置"></a>libvirt端口配置</h2><p>1、测试连接<br><code>virsh -c qemu+tcp://node1/system</code><br>提示：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">error: failed <span class="keyword">to</span> connect <span class="keyword">to</span> the hypervisor</span><br><span class="line">error: unable <span class="keyword">to</span> connect <span class="keyword">to</span><span class="built_in"> server </span>at <span class="string">'node1:16509'</span>:<span class="built_in"> Connection </span>refused</span><br></pre></td></tr></table></figure><p>2、在node0和node1调整libvirt的配置<br><code>vim /etc/libvirt/libvirtd.conf</code>，如下修改：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># line 22, uncomment</span></span><br><span class="line"><span class="attr">listen_tls</span> = <span class="number">0</span></span><br><span class="line"><span class="comment"># line 33, uncomment</span></span><br><span class="line"><span class="attr">listen_tcp</span> = <span class="number">1</span></span><br><span class="line"><span class="comment"># line 45, uncomment</span></span><br><span class="line"><span class="attr">tcp_port</span> = <span class="string">"16509"</span></span><br><span class="line"><span class="comment"># line 55, uncomment and change</span></span><br><span class="line"><span class="attr">listen_addr</span> = <span class="string">"0.0.0.0"</span></span><br><span class="line"><span class="comment"># line 163, uncomment and change</span></span><br><span class="line"><span class="attr">auth_tcp</span> = <span class="string">"none"</span></span><br></pre></td></tr></table></figure><p>3、重启libvirt<br><code>service libvirtd restart</code></p><p>4、查看libvirt服务<br><code>netstat -anpt | grep libvirt</code><br>理论上应该看到监听16509，但是没有。</p><p>5、修改libvirt-bin.conf配置（可选）<br><code>vim /etc/init/libvirt-bin.conf</code>，如下修改：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">line</span> 11, add -l</span></span><br><span class="line">env libvirtd_opts=<span class="string">"-d -l"</span></span><br></pre></td></tr></table></figure><p>6、重启libvirt-bin（可选）<br><code>service libvirt-bin restart</code><br>依然没有监听16509端口。</p><p><code>vim /etc/init/libvirt-bin.conf</code>，如下修改：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># line 58, add -l</span></span><br><span class="line"><span class="built_in">exec</span> /usr/sbin/libvirtd <span class="variable">$libvirtd_opts</span> -l</span><br></pre></td></tr></table></figure><p>重启libvirt-bin依然无效。</p><p>7、还原libvirt-bin.conf，修改libvirt-bin<br><code>vim /etc/default/libvirt-bin</code>，如下修改：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># line 8, uncomment and change</span></span><br><span class="line"><span class="attr">libvirtd_opts</span>=<span class="string">"-d -l"</span></span><br></pre></td></tr></table></figure><p>重启libvirt-bin，发现端口监听成功。<br><img src="http://cdn.voidking.com//imgs/libvirt-vm-live-migration/port.jpg?imageView2/0/w/600" alt=""></p><p>8、再次测试连接<br><code>virsh -c qemu+tcp://node1/system</code><br><img src="http://cdn.voidking.com//imgs/libvirt-vm-live-migration/connect.jpg?imageView2/0/w/600" alt=""><br>连接成功，nice。</p><h2 id="免密登录"><a href="#免密登录" class="headerlink" title="免密登录"></a>免密登录</h2><p>虚拟机迁移，可以使用普通用户，也可以使用root用户。<br>如果是普通用户进行迁移，那么在输入迁移命令后，需要输入node1中普通用户的密码。<br>如果是root用户进行迁移，那么在输入迁移命令后，同样需要输入node1中root用户的密码。但是，root用户并没有启用密码登录，所以，需要给root用户设置免密登录。</p><p>1、在node0上创建密钥对<br><code>ssh-keygen</code><br>所有的提示按enter键即可，完成后在home目录执行ll .ssh，即可看到创建好的id_rsa和id_rsa.pub文件。</p><p>2、把公钥拷贝到所有客户机中<br><code>ssh-copy-id -i .ssh/id_rsa.pub -p 22 voidking@node1</code></p><p>3、在node1中使用root用户执行<br><code>cp -r /home/voidking/.ssh ~</code></p><p>同样的，也给node1添加免密登录node0。</p><h1 id="虚拟机迁移"><a href="#虚拟机迁移" class="headerlink" title="虚拟机迁移"></a>虚拟机迁移</h1><p>参考<a href="https://blog.csdn.net/swimming_in_it_/article/details/53914197" target="_blank" rel="noopener">kvm虚拟机迁移</a>，进行虚拟机动态迁移。</p><p>1、在node0查看虚拟机<br><code>virsh list</code><br><img src="http://cdn.voidking.com//imgs/libvirt-vm-live-migration/list.jpg?imageView2/0/w/600" alt=""></p><p>2、虚拟机迁移<br><code>virsh migrate --live --verbose cirros qemu+ssh://node1/system tcp://node1 --unsafe</code><br><img src="http://cdn.voidking.com//imgs/libvirt-vm-live-migration/migrate.jpg?imageView2/0/w/600" alt=""><br>其中<code>node1</code>可以换成<code>root@node1</code>。</p><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>本来打算在<a href="https://www.voidking.com/dev-libvirt-vm-network/">《Libvirt虚拟机网络配置》</a>一文中配置好网络，使得node0可以访问到node1中的实例，node1可以访问到node0中的实例。但是，配置失败了。所以，就无法测试虚拟机迁移的停机时间了。如果之后解决了桥接的问题，就再来更新。</p><h1 id="书签"><a href="#书签" class="headerlink" title="书签"></a>书签</h1><p><a href="https://www.ibm.com/developerworks/cn/linux/l-cn-mgrtvm2/index.html" target="_blank" rel="noopener">KVM 虚拟机在物理主机之间迁移的实现</a></p></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/linux/" rel="tag"># linux</a> <a href="/tags/ubuntu/" rel="tag"># ubuntu</a> <a href="/tags/libvirt/" rel="tag"># libvirt</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-libvirt-vm-network/" rel="prev" title="Libvirt虚拟机网络配置"><i class="fa fa-chevron-left"></i> Libvirt虚拟机网络配置</a></div><div class="post-nav-item"> <a href="/dev-gp-image-graying/" rel="next" title="图像灰度化">图像灰度化<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zODU3Mi8xNTEwMA=="></div></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#实验环境"><span class="nav-number">2.</span> <span class="nav-text">实验环境</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#NFS"><span class="nav-number">2.1.</span> <span class="nav-text">NFS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#libvirt端口配置"><span class="nav-number">2.2.</span> <span class="nav-text">libvirt端口配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#免密登录"><span class="nav-number">2.3.</span> <span class="nav-text">免密登录</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#虚拟机迁移"><span class="nav-number">3.</span> <span class="nav-text">虚拟机迁移</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#后记"><span class="nav-number">4.</span> <span class="nav-text">后记</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#书签"><span class="nav-number">5.</span> <span class="nav-text">书签</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">学而不思则罔，思而不学则殆！</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">605</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">43</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">197</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2020</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://www.beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={iconStyle:"box",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions),flOptions={iconStyle:"box",boxForm:"horizontal",position:"topRight",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-float",flOptions)</script><script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  // window.livereOptions = {
  //   refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  // };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script></body></html>