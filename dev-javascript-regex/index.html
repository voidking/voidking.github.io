<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu.cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言正则表达式（Regular Expression）主要是用来描述一个句法规则的模式。其实说的通俗一点，就是利用字符和元字符的组合，对一些符合既定句法的模式进行模糊匹配。它的主要功能是文本查询和字符串操作。本文讨论一下JavaScript中的正则表达式用法。"><meta property="og:type" content="article"><meta property="og:title" content="JavaScript正则表达式"><meta property="og:url" content="https://www.voidking.com/dev-javascript-regex/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言正则表达式（Regular Expression）主要是用来描述一个句法规则的模式。其实说的通俗一点，就是利用字符和元字符的组合，对一些符合既定句法的模式进行模糊匹配。它的主要功能是文本查询和字符串操作。本文讨论一下JavaScript中的正则表达式用法。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2015-02-12T12:37:03.000Z"><meta property="article:modified_time" content="2015-02-12T12:37:03.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="前端"><meta property="article:tag" content="javascript"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-javascript-regex/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>JavaScript正则表达式 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-javascript-regex/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> JavaScript正则表达式</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2015-02-12 12:37:03" itemprop="dateCreated datePublished" datetime="2015-02-12T12:37:03+00:00">2015-02-12</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/frontend/" itemprop="url" rel="index"><span itemprop="name">frontend</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><span class="post-title-index">1.</span><a href="#前言" class="headerlink" title="前言"></a> 前言</h1><p>正则表达式（Regular Expression）主要是用来描述一个句法规则的模式。其实说的通俗一点，就是利用字符和元字符的组合，对一些符合既定句法的模式进行模糊匹配。它的主要功能是文本查询和字符串操作。本文讨论一下JavaScript中的正则表达式用法。</p><span id="more"></span><h1 id="定义正则表达式"><span class="post-title-index">2.</span><a href="#定义正则表达式" class="headerlink" title="定义正则表达式"></a> 定义正则表达式</h1><p>1、定义正则表达式有两种形式，一种是普通方式，一种是构造函数方式。<br>2、普通方式：var reg=/表达式/附加参数<br>表达式：一个字符串，代表了某种规则，其中可以使用某些特殊字符，来代表特殊的规则，后面会详细说明。<br>附加参数：用来扩展表达式的含义，目前主要有三个参数：<br>g：代表可以进行全局匹配。<br>i：代表不区分大小写匹配。<br>m：代表可以进行多行匹配。<br>上面三个参数，可以任意组合，代表复合含义，当然也可以不加参数。<br>例子：</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/a*b/</span>;</span><br><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/abc+f/g</span>;</span><br></pre></td></tr></table></figure><p>3、构造函数方式：var reg=new RegExp(“表达式”,”附加参数”);<br>其中“表达式”与“附加参数”的含义与上面那种定义方式中的含义相同。<br>例子：</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&quot;a*b&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> reg=<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&quot;abc+f&quot;</span>,<span class="string">&quot;g&quot;</span>);</span><br></pre></td></tr></table></figure><p>4、普通方式与构造函数方式的区别<br>普通方式中的表达式必须是一个常量字符串，而构造函数中的表达式可以是常量字符串，也可以是一个js变量，例如根据用户的输入来作为表达式参数等等：</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="built_in">document</span>.forms[<span class="number">0</span>].exprfiled.value,<span class="string">&quot;g&quot;</span>);</span><br></pre></td></tr></table></figure><h1 id="表达式模式"><span class="post-title-index">3.</span><a href="#表达式模式" class="headerlink" title="表达式模式"></a> 表达式模式</h1><p>1、表达式模式，是指表达式的表达方式与样式， 即 var reg=/表达式/附加参数 中的“表达式”怎样去描述？<br>2、从规范上讲，表达式模式分为简单模式和复合模式。<br>3、简单模式：是指通过普通字符的组合来表达的模式，例如</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var reg<span class="operator">=/</span>abc0d/<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>可见简单模式只能表示具体的匹配。<br>4、复合模式：是指含有通配符来表达的模式，例如：</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/a+b?\w/</span>;</span><br></pre></td></tr></table></figure><p>其中的+、?和\w都属于通配符，代表着特殊的含义。因此复合模式可以表达更为抽象化的逻辑。<br>复合模式中各个通配符的含义及其使用请阅读下文给出的参考文档。</p><h1 id="表达式操作"><span class="post-title-index">4.</span><a href="#表达式操作" class="headerlink" title="表达式操作"></a> 表达式操作</h1><p>1、表达式操作，在这里是指和表达式相关的方法，我们将介绍六个方法。<br>2、表达式对象（RegExp）方法：</p><p>（1）exec(str)，返回str中与表达式相匹配的第一个字符串，而且以数组的形式表现，当然如果表达式中含有捕捉用的小括号，则返回的数组中也可能含有()中的匹配字符串，例如：</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regx=<span class="regexp">/\d+/</span>;</span><br><span class="line"><span class="keyword">var</span> rs=regx.exec(<span class="string">&quot;3432ddf53&quot;</span>);</span><br></pre></td></tr></table></figure><p>返回的rs值为：{3432}</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var regx2<span class="operator">=</span>new RegExp(<span class="string">&quot;ab(\d+)c&quot;</span>)<span class="comment">;</span></span><br><span class="line">var rs2<span class="operator">=</span>regx2.exec(<span class="string">&quot;ab234c44&quot;</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>返回的rs2值为：{ab234c,234}<br>另外，如果有多个合适的匹配，则第一次执行exec返回一个第一个匹配，此时继续执行exec，则依次返回第二个第三个匹配。例如：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var regx<span class="operator">=/</span>user\d/g<span class="comment">;</span></span><br><span class="line">var rs<span class="operator">=</span>regx.exec(<span class="string">&quot;ddduser1dsfuser2dd&quot;</span>)<span class="comment">;</span></span><br><span class="line">var rs1<span class="operator">=</span>regx.exec(<span class="string">&quot;ddduser1dsfuser2dd&quot;</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>则rs的值为{user1}，rs1的值为{user2}，当然注意regx中的g参数是必须的，否则无论exec执行多少次，都返回第一个匹配。后面还有相关内容涉及到对此想象的解释。</p><p>（2）test(str)，判断字符串str是否匹配表达式，返回一个布尔值。例如：</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regx=<span class="regexp">/user\d+/g</span>;</span><br><span class="line"><span class="keyword">var</span> flag=regx.test(<span class="string">&quot;user12dd&quot;</span>);</span><br></pre></td></tr></table></figure><p>flag的值为true。</p><p>3、String对象方法</p><p>（1）match(expr)，返回与expr相匹配的一个字符串数组，如果没有加参数g，则返回第一个匹配，加入参数g则返回所有的匹配<br>例子：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var regx<span class="operator">=/</span>user\d/g<span class="comment">;</span></span><br><span class="line">var str<span class="operator">=</span><span class="string">&quot;user13userddduser345&quot;</span><span class="comment">;</span></span><br><span class="line">var rs<span class="operator">=</span>str.match(regx)<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>rs的值为：{user1,user3}</p><p>（2）search(expr)，返回字符串中与expr相匹配的第一个匹配的index值。<br>例子：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var regx<span class="operator">=/</span>user\d/g<span class="comment">;</span></span><br><span class="line">var str<span class="operator">=</span><span class="string">&quot;user13userddduser345&quot;</span><span class="comment">;</span></span><br><span class="line">var rs<span class="operator">=</span>str.search(regx)<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>rs的值为：0</p><p>（3）replace(expr,str)，将字符串中匹配expr的部分替换为str。另外在replace方法中，str中可以含有一种变量符号$，格式为$n，代表匹配中被记住的第n的匹配字符串（注意小括号可以记忆匹配）。<br>例子：</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regx=<span class="regexp">/user\d/g</span>;</span><br><span class="line"><span class="keyword">var</span> str=<span class="string">&quot;user13userddduser345&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> rs=str.<span class="built_in">replace</span>(regx,<span class="string">&quot;00&quot;</span>);</span><br></pre></td></tr></table></figure><p>rs的值为：003userddd0045<br>例子2：</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regx=<span class="regexp">/u(se)r\d/g</span>;</span><br><span class="line"><span class="keyword">var</span> str=<span class="string">&quot;user13userddduser345&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> rs=str.<span class="built_in">replace</span>(regx,<span class="string">&quot;$1&quot;</span>);</span><br></pre></td></tr></table></figure><p>rs的值为：se3userdddse45<br>对于replace(expr,str)方法还要特别注意一点，如果expr是一个表达式对象则会进行全局替换（此时表达式必须附加参数g，否则也只是替换第一个匹配），如果expr是一个字符串对象，则只会替换第一个匹配的部分，例如：</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">var</span> regx=<span class="string">&quot;user&quot;</span></span><br><span class="line"><span class="built_in">var</span> <span class="built_in">str</span>=<span class="string">&quot;user13userddduser345&quot;</span>;</span><br><span class="line"><span class="built_in">var</span> rs=<span class="built_in">str</span>.replace(regx,<span class="string">&quot;00&quot;</span>);</span><br></pre></td></tr></table></figure><p>rs的值为： 0013userddduser345</p><p>（4）split(expr)，将字符串以匹配expr的部分做分割，返回一个数组，而且表达式是否附加参数g都没有关系，结果是一样的。<br>例子：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var regx<span class="operator">=/</span>user\d/g<span class="comment">;</span></span><br><span class="line">var str<span class="operator">=</span><span class="string">&quot;user13userddduser345&quot;</span><span class="comment">;</span></span><br><span class="line">var rs<span class="operator">=</span>str.split(regx)<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>rs的值为：{3userddd,45}</p><h1 id="表达式相关属性"><span class="post-title-index">5.</span><a href="#表达式相关属性" class="headerlink" title="表达式相关属性"></a> 表达式相关属性</h1><p>1、表达式相关属性，是指和表达式相关的属性，如下面的形式：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var regx<span class="operator">=/</span>myexpr/<span class="comment">;</span></span><br><span class="line">var rs<span class="operator">=</span>regx.exec(str)<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>其中，和表达式自身regx相关的属性有两个，和表达式匹配结果rs相关的属性有三个，下面将逐一介绍。<br>2、和表达式自身相关的两个属性：</p><p>（1）lastIndex，返回开始下一个匹配的位置，注意必须是全局匹配（表达式中带有g参数）时，lastIndex才会有不断返回下一个匹配值，否则该值为总是返回第一个下一个匹配位置，例如：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var regx<span class="operator">=/</span>user\d/<span class="comment">;</span></span><br><span class="line">var rs<span class="operator">=</span>regx.exec(<span class="string">&quot;sdsfuser1dfsfuser2&quot;</span>)<span class="comment">;</span></span><br><span class="line">var lastIndex1<span class="operator">=</span>regx.lastIndex<span class="comment">;</span></span><br><span class="line"><span class="attribute">rs</span><span class="operator">=</span>regx.exec(<span class="string">&quot;sdsfuser1dfsfuser2&quot;</span>)<span class="comment">;</span></span><br><span class="line">var lastIndex2<span class="operator">=</span>regx.lastIndex<span class="comment">;</span></span><br><span class="line"><span class="attribute">rs</span><span class="operator">=</span>regx.exec(<span class="string">&quot;sdsfuser1dfsfuser2&quot;</span>)<span class="comment">;</span></span><br><span class="line">var lastIndex3<span class="operator">=</span>regx.lastIndex<span class="comment">; </span></span><br></pre></td></tr></table></figure><p>上面lastIndex1为9，第二个lastIndex2也为9，第三个也是9；如果regx=/user/d/g，则第一个为9，第二个为18，第三个为0。</p><p>（2）source，返回表达式字符串自身。例如：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var regx<span class="operator">=/</span>user\d/<span class="comment">;</span></span><br><span class="line">var rs<span class="operator">=</span>regx.exec(<span class="string">&quot;sdsfuser1dfsfuser2&quot;</span>)<span class="comment">;</span></span><br><span class="line">var source<span class="operator">=</span>regx.source<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>source的值为user\d<br>3、和匹配结果相关的三个属性：</p><p>（1）index，返回当前匹配的位置。例如：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var regx<span class="operator">=/</span>user\d/<span class="comment">;</span></span><br><span class="line">var rs<span class="operator">=</span>regx.exec(<span class="string">&quot;sdsfuser1dfsfuser2&quot;</span>)<span class="comment">;</span></span><br><span class="line">var index1<span class="operator">=</span>rs.index<span class="comment">;</span></span><br><span class="line"><span class="attribute">rs</span><span class="operator">=</span>regx.exec(<span class="string">&quot;sdsfuser1dfsfuser2&quot;</span>)<span class="comment">;</span></span><br><span class="line">var index2<span class="operator">=</span>rs.index<span class="comment">; </span></span><br><span class="line"><span class="attribute">rs</span><span class="operator">=</span>regx.exec(<span class="string">&quot;sdsfuser1dfsfuser2&quot;</span>)<span class="comment">;</span></span><br><span class="line">var index3<span class="operator">=</span>rs.index<span class="comment">; </span></span><br></pre></td></tr></table></figure><p>index1为4，index2为4，index3为4，如果表达式加入参数g，则index1为4，index2为13，index3会报错（index为空或不是对象）。</p><p>（2）input，用于匹配的字符串。例如：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var regx<span class="operator">=/</span>user\d/<span class="comment">;</span></span><br><span class="line">var rs<span class="operator">=</span>regx.exec(<span class="string">&quot;sdsfuser1dfsfuser2&quot;</span>)<span class="comment">;</span></span><br><span class="line">var input<span class="operator">=</span>rs.input<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>input的值为sdsfuser1dfsfuser2。</p><p>（3）[0]，返回匹配结果中的第一个匹配值，对于match而言可能返回一个多值的数字，则除了[0]外，还可以取[1]、[2]等等。例如：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var regx<span class="operator">=/</span>user\d/<span class="comment">;</span></span><br><span class="line">var rs<span class="operator">=</span>regx.exec(<span class="string">&quot;sdsfuser1dfsfuser2&quot;</span>)<span class="comment">;</span></span><br><span class="line">var value1<span class="operator">=</span>rs[<span class="number">0</span>]<span class="comment">;</span></span><br><span class="line"><span class="attribute">rs</span><span class="operator">=</span>regx.exec(<span class="string">&quot;sdsfuser1dfsfuser2&quot;</span>)<span class="comment">;</span></span><br><span class="line">var value2<span class="operator">=</span>rs[<span class="number">0</span>]<span class="comment">; </span></span><br></pre></td></tr></table></figure><p>value1的值为user1,value2的值为user2</p><h1 id="实际应用"><span class="post-title-index">6.</span><a href="#实际应用" class="headerlink" title="实际应用"></a> 实际应用</h1><p>1、实际应用一<br>描述：有一表单，其中有一个“用户名”input域<br>要求：汉字，而且不能少于2个汉字，不能多于4个汉字。<br>实现：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">checkForm</span>(<span class="params">obj</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">     <span class="keyword">var</span> username=obj.<span class="property">username</span>.<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">     <span class="keyword">var</span> regx=<span class="regexp">/^[\u4e00-\u9fa5]&#123;2,4&#125;$/g</span>;</span></span><br><span class="line"><span class="language-javascript">     <span class="keyword">if</span>(!regx.<span class="title function_">test</span>(username))&#123;</span></span><br><span class="line"><span class="language-javascript">               <span class="title function_">alert</span>(<span class="string">&quot;Invalid username!&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">               <span class="keyword">return</span> <span class="literal">false</span>; </span></span><br><span class="line"><span class="language-javascript">     &#125;</span></span><br><span class="line"><span class="language-javascript">     <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">&quot;myForm&quot;</span> <span class="attr">onSubmit</span>=<span class="string">&quot;return checkForm(this)&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">vlaue</span>=<span class="string">&quot;submit&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2、实际应用二<br>描述：给定一个含有html标记的字符串，要求将其中的html标记去掉。<br>实现：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">toPlainText</span>(<span class="params">htmlStr</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">var</span> regx=<span class="regexp">/&lt;[^&gt;]*&gt;|&lt;\/[^&gt;]*&gt;/gm</span>;</span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">var</span> str=htmlStr.<span class="title function_">replace</span>(regx,<span class="string">&quot;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">return</span> str;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">&quot;myForm&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">&quot;htmlInput&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;toPlainText(document.getElementById(&#x27;htmlInput&#x27;).value&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="参考文档"><span class="post-title-index">7.</span><a href="#参考文档" class="headerlink" title="参考文档"></a> 参考文档</h1><p>js正则表达式语法<br><a target="_blank" rel="noopener" href="http://blog.csdn.net/zaifendou/article/details/5746988">http://blog.csdn.net/zaifendou/article/details/5746988</a></p><p>正则表达式30分钟入门教程<br><a target="_blank" rel="noopener" href="http://demo.voidking.com/reprint/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F30%E5%88%86%E9%92%9F%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.htm">http://demo.voidking.com/reprint/正则表达式/正则表达式30分钟入门教程.htm</a></p><p>常用的正则表达式<br><a target="_blank" rel="noopener" href="http://demo.voidking.com/reprint/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/%E5%B8%B8%E7%94%A8%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.htm">http://demo.voidking.com/reprint/正则表达式/常用的正则表达式.htm</a></p><p>正则表达式速查表<br><a target="_blank" rel="noopener" href="http://demo.voidking.com/reprint/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E9%80%9F%E6%9F%A5%E8%A1%A8.htm">http://demo.voidking.com/reprint/正则表达式/正则表达式速查表.htm</a></p><p>正则表达式测试器<br><a target="_blank" rel="noopener" href="http://demo.voidking.com/reprint/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B5%8B%E8%AF%95%E5%99%A8.htm">http://demo.voidking.com/reprint/正则表达式/正则表达式测试器.htm</a></p><p>正则表达式在线测试器<br>详情请见：<a target="_blank" rel="noopener" href="http://demo.voidking.com/reprint/regexpal/">http://demo.voidking.com/reprint/regexpal/</a></p><p>deerchao大侠正则表达式原文地址<br><a target="_blank" rel="noopener" href="http://www.jb51.net/tools/zhengze.html">http://www.jb51.net/tools/zhengze.html</a></p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-javascript-regex/" title="JavaScript正则表达式">https://www.voidking.com/dev-javascript-regex/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li><li> <img width="200" height="200" src="/images/avatar.jpg"><p style="text-align:center;margin-bottom:0">微信公众号同步更新，欢迎关注~</p></li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag"># 前端</a> <a href="/tags/javascript/" rel="tag"># javascript</a></div><div class="post-nav"><div class="post-nav-item"><a href="/hobby-word-wildcard/" rel="prev" title="word通配符的使用"><i class="fa fa-chevron-left"></i> word通配符的使用</a></div><div class="post-nav-item"> <a href="/dev-common-regular-expression/" rel="next" title="常用正则表达式">常用正则表达式<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">1. 前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">2. 定义正则表达式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%A8%A1%E5%BC%8F"><span class="nav-text">3. 表达式模式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%93%8D%E4%BD%9C"><span class="nav-text">4. 表达式操作</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7"><span class="nav-text">5. 表达式相关属性</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8"><span class="nav-text">6. 实际应用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3"><span class="nav-text">7. 参考文档</span></a></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">702</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">251</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: 'e45fad25008944eef71f324308a7091c',
      title: 'JavaScript正则表达式',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>