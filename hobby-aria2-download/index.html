<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu-cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言迅雷、旋风、百度云盘等下载工具，非VIP有限速，VIP有资源下载限制。在线云播，广告繁多，缓存慢，如今更是被封了99%。 郝同学在知乎找到了一个很好的解决方案：aria2。aria2 + aria2webui完成下载，emby或plex完成下载后播放功能。 本文，就来研究一下aria2的安装部署。"><meta property="og:type" content="article"><meta property="og:title" content="使用aria2离线下载"><meta property="og:url" content="https://www.voidking.com/hobby-aria2-download/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言迅雷、旋风、百度云盘等下载工具，非VIP有限速，VIP有资源下载限制。在线云播，广告繁多，缓存慢，如今更是被封了99%。 郝同学在知乎找到了一个很好的解决方案：aria2。aria2 + aria2webui完成下载，emby或plex完成下载后播放功能。 本文，就来研究一下aria2的安装部署。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2017-05-13T08:00:00.000Z"><meta property="article:modified_time" content="2017-05-13T08:00:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="linux"><meta property="article:tag" content="windows"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/hobby-aria2-download/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>使用aria2离线下载 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/hobby-aria2-download/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 使用aria2离线下载</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2017-05-13 08:00:00" itemprop="dateCreated datePublished" datetime="2017-05-13T08:00:00+00:00">2017-05-13</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/devops/" itemprop="url" rel="index"><span itemprop="name">devops</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/computer/" itemprop="url" rel="index"><span itemprop="name">computer</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><span class="post-title-index">1.</span><a href="#前言" class="headerlink" title="前言"></a> 前言</h1><p>迅雷、旋风、百度云盘等下载工具，非VIP有限速，VIP有资源下载限制。<br>在线云播，广告繁多，缓存慢，如今更是被封了99%。</p><p>郝同学在知乎找到了一个很好的解决方案：aria2。aria2 + aria2webui完成下载，emby或plex完成下载后播放功能。</p><p>本文，就来研究一下aria2的安装部署。</p><span id="more"></span><h1 id="aria2简介"><span class="post-title-index">2.</span><a href="#aria2简介" class="headerlink" title="aria2简介"></a> aria2简介</h1><blockquote><p>aria2 is a lightweight multi-protocol &amp; multi-source command-line download utility. It supports HTTP/HTTPS, FTP, SFTP, BitTorrent and Metalink. aria2 can be manipulated via built-in JSON-RPC and XML-RPC interfaces.</p></blockquote><ul><li><a target="_blank" rel="noopener" href="http://aria2.github.io/">aria2官网</a></li><li><a target="_blank" rel="noopener" href="https://github.com/aria2/aria2/">aria2源码</a></li><li><a target="_blank" rel="noopener" href="http://sourceforge.net/projects/aria2/files/stable/">aria2下载地址</a></li></ul><h1 id="webui简介"><span class="post-title-index">3.</span><a href="#webui简介" class="headerlink" title="webui简介"></a> webui简介</h1><p>aria2webui包括yaaw、webui-aria2、AriaNg等。</p><h2 id="yaaw"><span class="post-title-index">3.1.</span><a href="#yaaw" class="headerlink" title="yaaw"></a> yaaw</h2><blockquote><p>YAAW: Yet Another Aria2 Web Frontend in pure HTML/CSS/Javascirpt.No HTTP server, backend or server-side program. All you need is just a browser.</p></blockquote><ul><li><a target="_blank" rel="noopener" href="https://github.com/binux/yaaw">yaaw源码地址</a></li><li><a target="_blank" rel="noopener" href="http://aria2c.com/usage.html">Aria2 &amp; YAAW 官方使用说明</a></li><li><a target="_blank" rel="noopener" href="http://binux.github.io/yaaw/demo/">yaaw管理页面</a></li><li><a target="_blank" rel="noopener" href="http://yaaw.ghostry.cn/">yaaw管理页面2</a></li><li><a target="_blank" rel="noopener" href="http://aria2c.com/">yaaw管理页面3</a></li></ul><h2 id="webui-aria2"><span class="post-title-index">3.2.</span><a href="#webui-aria2" class="headerlink" title="webui-aria2"></a> webui-aria2</h2><blockquote><p>The aim for this project is to create the worlds best and hottest interface to interact with aria2. aria2 is the worlds best file downloader, but sometimes the command line brings more power than necessary. The project was initially created as part of the GSOC scheme, however it has rapidly grown and changed with tremendous support and feedback from the aria2 community.</p></blockquote><ul><li><a target="_blank" rel="noopener" href="https://github.com/ziahamza/webui-aria2">webui-aria2源码</a></li><li><a target="_blank" rel="noopener" href="http://ziahamza.github.io/webui-aria2/">webui-aria2管理页面</a></li><li><a target="_blank" rel="noopener" href="http://webui-aria2.ghostry.cn/">webui-aria2管理页面2</a></li></ul><h2 id="AriaNg"><span class="post-title-index">3.3.</span><a href="#AriaNg" class="headerlink" title="AriaNg"></a> AriaNg</h2><blockquote><p>AriaNg is a web frontend making aria2 better. AriaNg is written in pure html &amp; javascript, thus it does not need any compilers or runtime environment. You can just put AriaNg in your web server and open it in your browser. AriaNg uses responsive layout, and supports any desktop or mobile devices.</p></blockquote><ul><li><a target="_blank" rel="noopener" href="https://github.com/mayswind/AriaNg">AriaNg源码地址</a></li><li><a target="_blank" rel="noopener" href="http://ariang.mayswind.net/latest">AriaNg管理页面</a></li></ul><h1 id="aria2命令行"><span class="post-title-index">4.</span><a href="#aria2命令行" class="headerlink" title="aria2命令行"></a> aria2命令行</h1><p>aria2命令行在windows和linux中通用。</p><p>1、Download from WEB<br><code>aria2c -c -s 5 http://example.org/mylinux.iso</code></p><p>其中-c代表断点续传，-s代表线程数。</p><p>2、Download from 2 sources<br><code>aria2c http://a/f.iso ftp://b/f.iso</code></p><p>3、Download using 2 connections per host<br><code>aria2c -x2 http://a/f.iso</code></p><p>4、BitTorrent Magnet URI<br><code>aria2c &#39;magnet:?xt=urn:btih:248D0A1CD08284299DE78D5C1ED359BB46717D8C&#39;</code></p><p>5、Metalink<br><code>aria2c http://example.org/mylinux.metalink</code></p><p>6、Download URIs found in text file<br><code>aria2c -i uris.txt</code></p><p>7、BT<br><code>aria2c /tmp/CentOS-6.3-i386-bin-DVD1to2.torrent</code></p><p><code>aria2c http://mirrors.163.com/centos/6.6/isos/x86_64/CentOS-6.6-x86_64-minimal.torrent</code></p><p>注意：当源地址存在诸如 &amp;, * 等 shell 的特殊字符，请使用单引号或双引号把 URI 包含起来。</p><h1 id="windows安装使用aria2"><span class="post-title-index">5.</span><a href="#windows安装使用aria2" class="headerlink" title="windows安装使用aria2"></a> windows安装使用aria2</h1><h2 id="安装aria2"><span class="post-title-index">5.1.</span><a href="#安装aria2" class="headerlink" title="安装aria2"></a> 安装aria2</h2><p>1、访问<a target="_blank" rel="noopener" href="https://github.com/aria2/aria2/releases">aria2项目</a>，下载最新的aria2，这里我们下载aria2-1.34.0-win-64bit-build1.zip。</p><p>2、解压aria2-1.34.0-win-64bit-build1.zip，并且重命名为aria2，最终路径为<code>D:\develop\aria2</code>。</p><h2 id="配置aria2"><span class="post-title-index">5.2.</span><a href="#配置aria2" class="headerlink" title="配置aria2"></a> 配置aria2</h2><p>参考<a target="_blank" rel="noopener" href="https://aria2.github.io/manual/en/html/">aria2 Online Manual</a>和<a target="_blank" rel="noopener" href="https://www.mivm.cn/windows-aria2/">Windows配置Aria2及Web管理面板教程</a>，配置aria2。</p><p>1、下载配置文件<br><code>git clone https://github.com/voidking/aria2-conf.git</code></p><p>项目包含两个目录，一个是windows，一个是centos。windows目录下包含如下文件：</p><ul><li>aria2.conf，配置文件</li><li>aria2.log，日志文件</li><li>aria2.session，下载历史</li><li>Start.bat，启动aria2</li><li>Stop.bat，停止aria2</li><li>Restart.bat，重启aria2</li><li>Start.vbs，隐藏cmd窗口启动aria2</li><li>Status.bat，查看aria2状态</li><li>Boot.bat，开启或取消aria2开机启动</li></ul><p>2、aria2-conf/windows中的全部文件复制到<code>D:\develop\aria2</code>中。</p><p>3、根据需要，修改aria2.conf文件。</p><p>4、双击Start.bat，启动aria2服务。</p><h2 id="AriaNg安装配置"><span class="post-title-index">5.3.</span><a href="#AriaNg安装配置" class="headerlink" title="AriaNg安装配置"></a> AriaNg安装配置</h2><p>1、访问<a target="_blank" rel="noopener" href="https://github.com/mayswind/AriaNg/releases">ariang项目</a>，下载最新版的ariang，这里我们下载aria-ng-0.4.0.zip。</p><p>2、解压aria-ng-0.4.0.zip，并且重命名为ariang，最终路径为<code>D:\develop\ariang</code>。</p><p>3、下载EasyWebSvr.exe，这里提供一个<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1-Niuv4AjlcMGrR5UcQwOsg">下载地址</a>，密码为<code>1ey1</code>。</p><p>4、双击EasyWebSvr.exe，点击底部的锤子图标，选择设置，选择主目录为<code>D:\develop\ariang</code>目录，确定，点击底部的锤子图标，选择启动服务器。</p><p>如果不想搭建Web服务器的话，可以访问别人搭建的<a target="_blank" rel="noopener" href="http://ariang.mayswind.net/latest">AriaNg管理页面</a>。</p><p>PS：除了easywebsvr，还可以把airang扔到nginx、apache或tomcat等服务器的web目录下，效果是一样的。</p><p>5、访问 <a target="_blank" rel="noopener" href="http://localhost/">http://localhost</a> ，进入Aria2 Web管理页面。</p><p>6、在Aria2 Web管理页面点击新建，可以添加HTTP、FTP、BT任务等，同时添加多个任务每行一个URL，添加镜像URL用空格分割，点击文件夹图标可以打开种子文件等。</p><p>文件默认下载到<code>D:\develop\aria2\download</code>文件夹，这是在aria2.conf中配置的。</p><p>注意：</p><ul><li>在Web管理面板删除下载任务后，Aria2并不会删除下载文件或者缓存，需要自己去下载文件夹删除掉。</li><li>在同一个局域网内，其他设备输入当前设备IP地址，也可以访问Web管理界面，如：192.168.1.2 。</li><li>由于Web管理界面只是一个调用的作用，所以即使浏览器关闭也不影响Aria2进行下载。</li></ul><h1 id="centos安装配置aria2"><span class="post-title-index">6.</span><a href="#centos安装配置aria2" class="headerlink" title="centos安装配置aria2"></a> centos安装配置aria2</h1><h2 id="yum安装aria2"><span class="post-title-index">6.1.</span><a href="#yum安装aria2" class="headerlink" title="yum安装aria2"></a> yum安装aria2</h2><p>1、手动安装EPEL源</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget http:<span class="comment">//dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</span></span><br><span class="line">rpm -ivh epel-release-latest-<span class="number">7</span><span class="selector-class">.noarch</span><span class="selector-class">.rpm</span></span><br><span class="line">yum repolist <span class="comment">//查看是否成功安装epel</span></span><br></pre></td></tr></table></figure><p>2、自动安装EPEL源</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install epel-release</span><br><span class="line">yum repolist</span><br></pre></td></tr></table></figure><p>3、安装aria2<br><code>yum install aria2</code></p><p>4、查看安装情况<br><code>aria2c -v</code></p><h2 id="编译安装aria2"><span class="post-title-index">6.2.</span><a href="#编译安装aria2" class="headerlink" title="编译安装aria2"></a> 编译安装aria2</h2><p>1、访问<a target="_blank" rel="noopener" href="https://github.com/aria2/aria2/releases">aria2项目</a>，下载最新的aria2，这里我们下载aria2-1.34.0.tar.gz。</p><p><code>wget --no-check-certificate --content-disposition https://github.com/aria2/aria2/releases/download/release-1.34.0/aria2-1.34.0.tar.gz</code></p><p>或者：<br><code>curl -LJO https://github.com/aria2/aria2/releases/download/release-1.34.0/aria2-1.34.0.tar.gz</code></p><p>2、解压aria2-1.34.0.tar.gz并编译安装。</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mv aria2-1.34.0.tar.gz <span class="string">/opt</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">/opt/</span></span><br><span class="line">tar -zxvf aria2-1.34.0.tar.gz</span><br><span class="line"><span class="keyword">cd</span> aria2-1.34.0/</span><br><span class="line"><span class="string">./configure</span> <span class="params">--enable-bittorrent</span> <span class="params">--enable-metalink</span>  </span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><p>默认情况下，会在/usr/local/bin 目录创建 aria2c 可执行程序。</p><p>3、查看安装情况。<br><code>aria2c -v</code></p><h2 id="配置aria2-1"><span class="post-title-index">6.3.</span><a href="#配置aria2-1" class="headerlink" title="配置aria2"></a> 配置aria2</h2><p>1、下载配置文件<br><code>git clone https://github.com/voidking/aria2-conf.git</code></p><p>项目包含两个目录，一个是windows，一个是centos。centos目录下包含如下文件：</p><ul><li>aria2.conf，配置文件</li><li>aria2.log，日志文件</li><li>aria2.session，下载历史</li></ul><p>2、移动文件<br><code>mkdir -p /data/aria2</code></p><p><code>cd aria2-conf/centos &amp;&amp; mv ./* /data/aria2/</code></p><p>3、启动测试<br><code>aria2c --conf-path=/data/aria2/aria2.conf</code></p><p>4、后台启动<br><code>aria2c --conf-path=/data/aria2/aria2.conf -D</code></p><h2 id="AriaNg安装使用"><span class="post-title-index">6.4.</span><a href="#AriaNg安装使用" class="headerlink" title="AriaNg安装使用"></a> AriaNg安装使用</h2><p>1、访问<a target="_blank" rel="noopener" href="https://github.com/mayswind/AriaNg/releases">ariang项目</a>，下载最新版的ariang，这里我们下载aria-ng-0.4.0.zip。<br><code>curl -LJO https://github.com/mayswind/AriaNg/releases/download/0.4.0/aria-ng-0.4.0.zip</code></p><p>2、参考<a href="https://www.voidking.com/dev-hexo-accelerate/">Hexo加速访问</a>，在/opt/www目录下创建aria2目录。</p><p><code>mkdir -p /opt/www/aria2</code></p><p>3、移动文件并解压<br><code>mv aria-ng-0.4.0.zip /opt/www/aria2</code></p><p><code>cd /opt/www/aria2 &amp;&amp; unzip aria-ng-0.4.0.zip</code></p><p><code>rm aria-ng-0.4.0.zip</code></p><p>4、配置nginx<br><code>cd /etc/nginx/conf.d/</code></p><p><code>vim www.voidking.com.conf</code>，内容为：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> aria2.voidking.com;</span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">root</span> /opt/www/aria2/;</span><br><span class="line">        <span class="attribute">index</span> index.html;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5、重启nginx<br><code>/usr/sbin/nginx -s reload</code></p><p>6、在dns服务器上添加aria2，解析到centos服务器ip。</p><p>7、测试访问<br>访问地址：<a target="_blank" rel="noopener" href="http://aria2.voidking.com/">http://aria2.voidking.com</a></p><h2 id="无法连接问题"><span class="post-title-index">6.5.</span><a href="#无法连接问题" class="headerlink" title="无法连接问题"></a> 无法连接问题</h2><p>在ariang页面，如果发现无法连接到aria2，那么参照如下方法解决：</p><p>方法一：开放端口（推荐）<br>1、查询6800端口是否开放<br><code>firewall-cmd --query-port=6800/tcp</code></p><p>2、打开6800端口<br><code>firewall-cmd --add-port=6800/tcp</code></p><p>方法二：关闭防火墙（不推荐）<br><code>systemctl stop firewalld.service</code></p><h1 id="bt下载问题"><span class="post-title-index">7.</span><a href="#bt下载问题" class="headerlink" title="bt下载问题"></a> bt下载问题</h1><p>有些bt文件，在aria2上进行下载，却没有速度。参考<a target="_blank" rel="noopener" href="http://baijiahao.baidu.com/s?id=1588382182211754287&wfr=spider&for=pc">更新Tracker，解决Aria2 BT下载无速度</a>和<a target="_blank" rel="noopener" href="https://www.5yun.org/16436.html">Aria2 bt 没速度? 试试自动更新BT Tracker服务器列表的方法</a>，进行配置。</p><p>1、新建addtrackers.sh脚本，内容为</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">list=`wget -qO- https://raw.githubusercontent.com/ngosang/trackerslist/master/trackers_all.txt|awk NF|sed <span class="string">&quot;:a;N;s/\n/,/g;ta&quot;</span>`</span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;`grep &quot;</span>bt-tracker<span class="string">&quot; /data/aria2/aria2.conf`&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    sed -i <span class="string">&#x27;$a bt-tracker=&#x27;</span><span class="variable">$&#123;list&#125;</span> /data/aria2/aria2.conf</span><br><span class="line">    <span class="built_in">echo</span> add......</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    sed -i <span class="string">&quot;s@bt-tracker.*@bt-tracker=<span class="variable">$list</span>@g&quot;</span> /data/aria2/aria2.conf</span><br><span class="line">    <span class="built_in">echo</span> update......</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>2、执行脚本<br><code>chmod +x addtrackers.sh</code></p><p><code>./addtrackers.sh</code></p><p>3、重启aria2进行测试<br><code>aria2c --conf-path=/data/aria2/aria2.conf</code></p><p>PS：或者，直接访问<a target="_blank" rel="noopener" href="https://github.com/ngosang/trackerslist">trackerslist项目</a>，复制list，然后添加到aria2.conf文件中。</p><h1 id="磁力链下载问题"><span class="post-title-index">8.</span><a href="#磁力链下载问题" class="headerlink" title="磁力链下载问题"></a> 磁力链下载问题</h1><p>所有磁力链在aria2上进行下载，没有速度。</p><h1 id="后记"><span class="post-title-index">9.</span><a href="#后记" class="headerlink" title="后记"></a> 后记</h1><p>关于emby和plex，暂时没有研究。</p><h1 id="书签"><span class="post-title-index">10.</span><a href="#书签" class="headerlink" title="书签"></a> 书签</h1><p><a target="_blank" rel="noopener" href="http://skypegnu1.blog.51cto.com/8991766/1637168/">CentOS 下搭建 aria2 远程下载环境</a></p><p><a target="_blank" rel="noopener" href="http://www.2kil.com/9472.html">CentOS7安装Aria2</a></p><p><a target="_blank" rel="noopener" href="http://www.1vip.ga/">在线磁力播放引擎</a></p><p><a target="_blank" rel="noopener" href="http://m.blog.csdn.net/article/details?id=38783803">DIY一套NAS+私有云盘+下载机</a></p><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/b2649d073741">Ubuntu16 下载软件Aria2 全局配置方法(最全组合)</a></p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/hobby-aria2-download/" title="使用aria2离线下载">https://www.voidking.com/hobby-aria2-download/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/linux/" rel="tag"># linux</a> <a href="/tags/windows/" rel="tag"># windows</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-docker-deploy-javaweb/" rel="prev" title="好好学Docker：Docker部署JavaWeb项目"><i class="fa fa-chevron-left"></i> 好好学Docker：Docker部署JavaWeb项目</a></div><div class="post-nav-item"> <a href="/dev-yii-in-action/" rel="next" title="Yii框架实战">Yii框架实战<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">1. 前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#aria2%E7%AE%80%E4%BB%8B"><span class="nav-text">2. aria2简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#webui%E7%AE%80%E4%BB%8B"><span class="nav-text">3. webui简介</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#yaaw"><span class="nav-text">3.1. yaaw</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#webui-aria2"><span class="nav-text">3.2. webui-aria2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AriaNg"><span class="nav-text">3.3. AriaNg</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#aria2%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="nav-text">4. aria2命令行</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#windows%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8aria2"><span class="nav-text">5. windows安装使用aria2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85aria2"><span class="nav-text">5.1. 安装aria2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEaria2"><span class="nav-text">5.2. 配置aria2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AriaNg%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE"><span class="nav-text">5.3. AriaNg安装配置</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#centos%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEaria2"><span class="nav-text">6. centos安装配置aria2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#yum%E5%AE%89%E8%A3%85aria2"><span class="nav-text">6.1. yum安装aria2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85aria2"><span class="nav-text">6.2. 编译安装aria2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEaria2-1"><span class="nav-text">6.3. 配置aria2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AriaNg%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8"><span class="nav-text">6.4. AriaNg安装使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5%E9%97%AE%E9%A2%98"><span class="nav-text">6.5. 无法连接问题</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#bt%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98"><span class="nav-text">7. bt下载问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%A3%81%E5%8A%9B%E9%93%BE%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98"><span class="nav-text">8. 磁力链下载问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%8E%E8%AE%B0"><span class="nav-text">9. 后记</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B9%A6%E7%AD%BE"><span class="nav-text">10. 书签</span></a></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">780</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">34</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">272</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2026</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://cdn.staticfile.net/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://cdn.staticfile.net/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: 'bed9b0f1b142c87b6c07dea67965b97e',
      title: '使用aria2离线下载',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>