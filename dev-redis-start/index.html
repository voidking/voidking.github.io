<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//cdn.jsdelivr.net/gh/voidking/voidking.github.io/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="Redis简介 Redis: The open source, in-memory data store used by millions of developers as a database, cache, streaming engine, and message broker.  Redis是被数百万开发人员用作数据库、缓存、流引擎和消息代理的开源内存数据存储。 Redis特点：  Red"><meta property="og:type" content="article"><meta property="og:title" content="Redis入门篇"><meta property="og:url" content="https://www.voidking.com/dev-redis-start/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="Redis简介 Redis: The open source, in-memory data store used by millions of developers as a database, cache, streaming engine, and message broker.  Redis是被数百万开发人员用作数据库、缓存、流引擎和消息代理的开源内存数据存储。 Redis特点：  Red"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2019-11-03T21:00:00.000Z"><meta property="article:modified_time" content="2023-03-09T14:00:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="docker"><meta property="article:tag" content="数据库"><meta property="article:tag" content="redis"><meta property="article:tag" content="缓存"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-redis-start/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>Redis入门篇 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">好好学习，天天向上！</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-redis-start/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="学而不思则罔，思而不学则殆！"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> Redis入门篇</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-11-03 21:00:00" itemprop="dateCreated datePublished" datetime="2019-11-03T21:00:00+00:00">2019-11-03</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2023-03-09 14:00:00" itemprop="dateModified" datetime="2023-03-09T14:00:00+00:00">2023-03-09</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/docker/" itemprop="url" rel="index"><span itemprop="name">docker</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/database/" itemprop="url" rel="index"><span itemprop="name">database</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/devops/" itemprop="url" rel="index"><span itemprop="name">devops</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/cloudnative/" itemprop="url" rel="index"><span itemprop="name">cloudnative</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="Redis简介"><a href="#Redis简介" class="headerlink" title="Redis简介"></a>Redis简介</h1><blockquote><p>Redis: The open source, in-memory data store used by millions of developers as a database, cache, streaming engine, and message broker.</p></blockquote><p>Redis是被数百万开发人员用作数据库、缓存、流引擎和消息代理的开源内存数据存储。</p><p>Redis特点：</p><ul><li>Redis支持数据的持久化，可以将内存中的数据保存在磁盘中，重启的时候可以再次加载进行使用。</li><li>Redis不仅仅支持简单的key-value类型的数据，同时还提供list，set，zset，hash等数据结构的存储。</li><li>Redis支持数据的备份，即master-slave模式的数据备份。</li></ul><p>Redis优势：</p><ul><li>性能极高 – Redis能读的速度是110000次/s，写的速度是81000次/s 。</li><li>丰富的数据类型 – Redis支持二进制案例的 Strings， Lists， Hashes， Sets 及 Ordered Sets 数据类型操作。</li><li>原子 – Redis的所有操作都是原子性的，意思就是要么成功执行要么失败完全不执行。单个操作是原子性的。多个操作也支持事务，即原子性，通过MULTI和EXEC指令包起来。</li><li>丰富的特性 – Redis还支持 publish/subscribe， 通知， key 过期等等特性。</li></ul><p>参考文档：</p><ul><li><a target="_blank" rel="noopener" href="https://redis.io/">Redis官网</a></li><li><a target="_blank" rel="noopener" href="https://github.com/redis/redis">Redis源码</a></li><li><a target="_blank" rel="noopener" href="http://try.redis.io/">Redis在线测试</a></li><li><a target="_blank" rel="noopener" href="https://redis.io/commands/">Redis - Commands</a></li><li><a target="_blank" rel="noopener" href="http://doc.redisfans.com/">Redis命令参考</a></li><li><a target="_blank" rel="noopener" href="https://www.runoob.com/redis/redis-tutorial.html">Redis教程</a></li><li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/102585022">Redis【数据结构类型篇】</a></li></ul><span id="more"></span><h1 id="安装Redis"><a href="#安装Redis" class="headerlink" title="安装Redis"></a>安装Redis</h1><h2 id="Redis安装模式"><a href="#Redis安装模式" class="headerlink" title="Redis安装模式"></a>Redis安装模式</h2><p>Redis有四种安装模式：</p><ul><li>单机模式：只有一个节点。简单，但是可用性低。</li><li>主从复制：全部节点读，一个节点作为主节点负责写，写数据后复制到从节点。主节点宕机，从节点可以变成主节点，可用性提高了。但是，应用方需要感知主节点变化并随着变化，否则无法写。</li><li>哨兵模式：在主从复制的基础上，哨兵实现了自动化的故障恢复。哨兵模式包括哨兵集群和数据集群，哨兵集群由一个或多个哨兵节点组成，不存储数据；数据集群包括主节点和从节点，存储数据。访问redis集群的数据都是经过哨兵集群的，哨兵集群负责数据的转发。哨兵集群高可用，数据集群高可用，主节点挂掉发生切换，应用方无感知。</li><li>集群模式：单机、主从和哨兵模式中，单个节点的存储能力是有上限的，访问能力是有上限的。集群模式把数据进行分片存储，当一个分片数据达到上限的时候，就分成多个分片。集群模式具有高可用、可扩展、分布式、容错等特性。</li></ul><p>参考文档：</p><ul><li><a target="_blank" rel="noopener" href="https://baijiahao.baidu.com/s?id=1675905732497463340&wfr=spider&for=pc">Redis的四种模式，单机、主从、哨兵、集群</a></li></ul><h2 id="安装Redis单机模式"><a href="#安装Redis单机模式" class="headerlink" title="安装Redis单机模式"></a>安装Redis单机模式</h2><p>本节中，我们使用docker安装一个redis节点。</p><p>1、下载<a target="_blank" rel="noopener" href="https://hub.docker.com/_/redis">redis镜像</a>，这里选择版本 redis:5.0.14-alpine3.15</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull redis:5.0.14-alpine3.15</span><br></pre></td></tr></table></figure><p>2、启动redis</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker run --name redis -d \</span><br><span class="line">-p 6379:6379 \</span><br><span class="line">redis:5.0.14-alpine3.15</span><br></pre></td></tr></table></figure><p>参考文档：</p><ul><li><a target="_blank" rel="noopener" href="https://redis.io/docs/getting-started/installation/">Installing Redis</a></li><li><a href="https://www.voidking.com/dev-k8s-redis/">《K8S中安装Redis》</a></li></ul><h2 id="安装Redis主从模式"><a href="#安装Redis主从模式" class="headerlink" title="安装Redis主从模式"></a>安装Redis主从模式</h2><p>参考文档<a href="https://www.voidking.com/dev-k8s-redis/">《K8S中安装配置Redis》</a></p><h2 id="安装Redis哨兵模式"><a href="#安装Redis哨兵模式" class="headerlink" title="安装Redis哨兵模式"></a>安装Redis哨兵模式</h2><p>参考文档<a href="https://www.voidking.com/dev-k8s-redis/">《K8S中安装配置Redis》</a></p><h2 id="安装Redis集群模式"><a href="#安装Redis集群模式" class="headerlink" title="安装Redis集群模式"></a>安装Redis集群模式</h2><p>参考文档：</p><ul><li><a href="https://www.voidking.com/dev-redis-cluster/">《Redis集群模式概述》</a></li><li><a href="https://www.voidking.com/dev-k8s-redis/">《K8S中安装配置Redis》</a></li></ul><h1 id="自定义redis配置"><a href="#自定义redis配置" class="headerlink" title="自定义redis配置"></a>自定义redis配置</h1><p>1、准备redis5.0的配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /opt/redis/</span><br><span class="line">vim /opt/redis/redis.conf</span><br></pre></td></tr></table></figure><p>配置内容参考<a target="_blank" rel="noopener" href="https://github.com/redis/redis/blob/5.0/redis.conf">github redis.conf</a>，按需修改</p><p>2、使用配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker run --name redis -d \</span><br><span class="line">-p 6379:6379 \</span><br><span class="line">-v /opt/redis/redis.conf:/etc/redis/redis.conf \</span><br><span class="line">redis:5.0.14-alpine3.15 \</span><br><span class="line">redis-server /etc/redis/redis.conf</span><br></pre></td></tr></table></figure><h1 id="测试Redis"><a href="#测试Redis" class="headerlink" title="测试Redis"></a>测试Redis</h1><h2 id="容器内测试"><a href="#容器内测试" class="headerlink" title="容器内测试"></a>容器内测试</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it redis /bin/sh</span><br><span class="line">redis-cli</span><br><span class="line">&gt; ping</span><br></pre></td></tr></table></figure><h2 id="宿主机测试"><a href="#宿主机测试" class="headerlink" title="宿主机测试"></a>宿主机测试</h2><p>1、启动测试容器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run --name redis-client -d \</span><br><span class="line">redis:5.0.14-alpine3.15</span><br></pre></td></tr></table></figure><p>2、测试</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it redis-client redis-cli -h 192.168.56.102 -p 6379</span><br><span class="line">&gt; ping</span><br></pre></td></tr></table></figure><h1 id="重启Redis"><a href="#重启Redis" class="headerlink" title="重启Redis"></a>重启Redis</h1><h2 id="docker-redis"><a href="#docker-redis" class="headerlink" title="docker redis"></a>docker redis</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart redis</span><br></pre></td></tr></table></figure><h2 id="bin-redis"><a href="#bin-redis" class="headerlink" title="bin redis"></a>bin redis</h2><p>方法一：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/bin/redis-server stop</span><br><span class="line">/usr/local/bin/redis-server start /opt/redis/redis.conf</span><br><span class="line"><span class="comment"># /usr/local/bin/redis-server restart</span></span><br></pre></td></tr></table></figure><p>方法二：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -h 127.0.0.1 -p 6379 shutdown</span><br><span class="line">redis-server</span><br></pre></td></tr></table></figure><p>方法三：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep redis</span><br><span class="line"><span class="built_in">kill</span> -9 xxx</span><br><span class="line">redis-server</span><br></pre></td></tr></table></figure><h1 id="Redis数据结构"><a href="#Redis数据结构" class="headerlink" title="Redis数据结构"></a>Redis数据结构</h1><p>参考文档：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/102585022">Redis【数据结构类型篇】</a><br>redis数据结构类型包括：String、List、Hash、Set、ZSet，每种类型都有自己的操作命令。<br>redis的不同数据结构类型适用于不同的场景。</p><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p>特点：String类型是redis最常用的数据结构类型，存储的值为字符串。</p><p>应用场景：<br>i. 做与统计有关的业务，如新浪微博（微信朋友圈）中的点赞功能。<br>相关命令：incr、incrby、decr、decrby。</p><p>ii. 解决多线程的线程安全问题。<br>redis的key是单线程模式，这就意味一瞬间只有一个线程能够持有这个key，所以可以使用redis解决部分涉及线程安全的业务，比如说抢购、秒杀。</p><h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><p>特点：</p><ul><li>基于Linked List实现。</li><li>元素是字符串类型。</li><li>列表头尾增删快，中间增删慢，增删元素是常态。</li><li>从左至右，从0开始，从右至左，从-1开始。</li><li>元素可以重复出现。</li><li>最多包含2^32-1元素。</li></ul><p>应用场景：<br>i. 处理顺序类业务。如新浪微博评论、论坛回帖楼层等。<br>ii. 聊天室。</p><h2 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h2><p>特点：</p><ul><li>hash内容由field和与之关联的value组成map键值对组成</li><li>key、field和value是字符串类型</li><li>一个hash中最多包含2^32-1键值对</li></ul><p>应用场景：<br>i. 节省资源<br>redis每创建一个键，都会为这个键储存一些附加的管理信息（比如这个键的类型，这个键最后一次被访问的时间等等），因此redis的key相对于值来说，更珍贵！！！<br>reids数据库中的键越多，redis数据库服务器在储存附加管理信息方面耗费的内存就越多，在获取key对应的value值时cpu的开销也会更多。Hash结构可以将具有关联关系的一组key-value，存储到同一个hash结构中，从而减少key的数量。<br>因此能使用hash的时候尽量使用hash，这也是hash类型的应用场景。</p><p>Hash类型不适用的场景：<br>i. 对某一个field设置过期时间<br>如果我们仅仅只对一个字段设置过期，就不能使用hash。因为Redis的key的过期功能只能对键操作，而Hash结构不能单独对某一个filed设置过期功能。</p><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><p>特点：</p><ul><li>无序的、无重复的</li><li>元素是字符串类型</li><li>最多包含2^32-1元素</li></ul><p>应用场景：<br>i. 新浪微博的共同关注<br>当用户访问另一个用户的时候，会显示出两个用户共同关注哪些相同的用户。将每个用户关注的用户放在集合中，求交集即可。</p><h2 id="ZSet"><a href="#ZSet" class="headerlink" title="ZSet"></a>ZSet</h2><p>特点：</p><ul><li>类似Set集合</li><li>有序的、无重复的</li><li>元素是字符串类型</li><li>每一个元素都关联着一个浮点数分值（Score），并按照分值从小到大的顺序排列集合中的元素。注意：分值可以相同</li><li>最多包含2^32-1元素</li></ul><p>适用场景：<br>i. 适用于需要有序且唯一的业务或操作：网易音乐排行榜<br>每首歌的歌名作为元素（唯一、不重复）；每首歌的播放次数作为分值；使用zrevrange 命令来获取播放次数最多的歌曲</p><h1 id="Redis常用命令"><a href="#Redis常用命令" class="headerlink" title="Redis常用命令"></a>Redis常用命令</h1><p>参考文档：<a target="_blank" rel="noopener" href="http://doc.redisfans.com/">Redis命令参考</a></p><p>特别注意：redis命令不区分大小写。</p><h2 id="数据库操作"><a href="#数据库操作" class="headerlink" title="数据库操作"></a>数据库操作</h2><h3 id="建立连接"><a href="#建立连接" class="headerlink" title="建立连接"></a>建立连接</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -h 192.168.56.102 -p 6379</span><br><span class="line"><span class="comment"># docker exec -it redis-client redis-cli -h 192.168.56.102 -p 6379</span></span><br></pre></td></tr></table></figure><p>请求客户端与服务器建立连接。</p><h3 id="退出连接"><a href="#退出连接" class="headerlink" title="退出连接"></a>退出连接</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quit</span><br></pre></td></tr></table></figure><p>请求服务器关闭与当前客户端的连接。<br>一旦所有等待中的回复(如果有的话)顺利写入到客户端，连接就会被关闭。</p><h3 id="设置密码"><a href="#设置密码" class="headerlink" title="设置密码"></a>设置密码</h3><p>通过设置配置文件中 requirepass 项的值(使用命令 CONFIG SET requirepass password )，可以使用密码来保护 Redis 服务器。</p><p>如果开启了密码保护的话，在每次连接 Redis 服务器之后，就要使用 AUTH 命令解锁，解锁之后才能使用其他 Redis 命令。</p><p>如果 AUTH 命令给定的密码 password 和配置文件中的密码相符的话，服务器会返回 OK 并开始接受命令输入。</p><p>另一方面，假如密码不匹配的话，服务器将返回一个错误，并要求客户端需重新输入密码。</p><p>1、设置密码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">config <span class="built_in">set</span> requirepass secret_password   <span class="comment"># 将全局密码设置为 secret_password</span></span><br><span class="line">quit</span><br></pre></td></tr></table></figure><p>2、使用密码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ping</span><br><span class="line">auth secret_password                     <span class="comment"># 输入正确的密码</span></span><br><span class="line">ping </span><br></pre></td></tr></table></figure><p>设置了密码保护之后，如果想要直接通过redis-cli直接执行redis命令，可以加上-a参数。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it redis-client redis-cli -h 192.168.56.102 -p 6379 -a <span class="string">&#x27;secret_password&#x27;</span> ping</span><br></pre></td></tr></table></figure><h3 id="新增用户并授权"><a href="#新增用户并授权" class="headerlink" title="新增用户并授权"></a>新增用户并授权</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ACL SETUSER alice on +@<span class="built_in">read</span> +@allchannels</span><br><span class="line"><span class="comment">#ACL SETUSER alice on allkeys +get +set</span></span><br><span class="line">ACL LIST</span><br><span class="line">ACL GETUSER alice</span><br><span class="line">ACL SETUSER alice &gt;alice_password</span><br><span class="line">AUTH alice alice_password</span><br><span class="line"><span class="comment"># ACL DELUSER alice</span></span><br></pre></td></tr></table></figure><p>参考文档：<a target="_blank" rel="noopener" href="https://redis.io/docs/management/security/acl/">ACL（Redis Access Control List）</a></p><h3 id="指定用户连接Redis"><a href="#指定用户连接Redis" class="headerlink" title="指定用户连接Redis"></a>指定用户连接Redis</h3><p>方法一：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -h 192.168.56.102 -p 6379</span><br><span class="line">&gt; AUTH alice alice_password</span><br></pre></td></tr></table></figure><p>方法二：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -h 192.168.56.102 -p 6379 -u alice -p alice_password</span><br></pre></td></tr></table></figure><p>方法三：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -u redis://alice:alice_password@192.168.56.102:6379</span><br></pre></td></tr></table></figure><p>参考文档：<a target="_blank" rel="noopener" href="https://dba.stackexchange.com/questions/297749/how-to-login-redis-6-0-use-username-and-password">how to login redis 6.0+ use username and password</a></p><h3 id="切换数据库"><a href="#切换数据库" class="headerlink" title="切换数据库"></a>切换数据库</h3><p>使用select切换到指定的数据库，数据库索引号 index 用数字值指定，以 0 作为起始索引值。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SET db_number 0</span><br><span class="line">SELECT 1 </span><br><span class="line">GET db_number</span><br><span class="line">SET db_number 1</span><br><span class="line">GET db_number</span><br></pre></td></tr></table></figure><h3 id="统计信息"><a href="#统计信息" class="headerlink" title="统计信息"></a>统计信息</h3><p>以一种易于解释（parse）且易于阅读的格式，返回关于 Redis 服务器的各种信息和统计数值。<br>通过给定可选的参数 section ，可以让命令只返回某一部分的信息：</p><ul><li>info server： 一般 Redis 服务器信息</li><li>info clients： 已连接客户端信息</li><li>info memory： 内存信息</li><li>info persistence： RDB 和 AOF 的相关信息</li><li>info stats： 一般统计信息</li><li>info replication： 主/从复制信息</li><li>info cpu： CPU 计算量统计信息</li><li>info commandstats： Redis 命令统计信息</li><li>info cluster： Redis 集群信息</li><li>info keyspace： 数据库相关的统计信息</li><li>info all： 返回所有信息</li><li>info default： 返回默认选择的信息</li></ul><p>当不带参数直接调用 INFO 命令时，使用 default 作为默认参数。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">info memory</span><br><span class="line">info stats</span><br></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><h3 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h3><p><code>ping</code>使用客户端向 Redis 服务器发送一个 PING ，如果服务器运作正常的话，会返回一个 PONG 。<br>通常用于测试与服务器的连接是否仍然生效，或者用于测量延迟值。</p><h3 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h3><p>打印一个特定的信息 message ，测试时使用。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;test&quot;</span></span><br></pre></td></tr></table></figure><h2 id="String类型操作"><a href="#String类型操作" class="headerlink" title="String类型操作"></a>String类型操作</h2><h3 id="设置key"><a href="#设置key" class="headerlink" title="设置key"></a>设置key</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select 3</span><br><span class="line"><span class="built_in">set</span> key_name key_value</span><br></pre></td></tr></table></figure><h3 id="查询key"><a href="#查询key" class="headerlink" title="查询key"></a>查询key</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select 3</span><br><span class="line">get key_name</span><br><span class="line">keys *</span><br></pre></td></tr></table></figure><h3 id="遍历key"><a href="#遍历key" class="headerlink" title="遍历key"></a>遍历key</h3><p><code>SCAN cursor [MATCH pattern] [COUNT count]</code><br>SCAN 命令及其相关的 SSCAN 命令、 HSCAN 命令和 ZSCAN 命令都用于增量地迭代（incrementally iterate）一集元素（a collection of elements）：</p><ul><li>SCAN 命令用于迭代当前数据库中的数据库键。</li><li>SSCAN 命令用于迭代集合键中的元素。</li><li>HSCAN 命令用于迭代哈希键中的键值对。</li><li>ZSCAN 命令用于迭代有序集合中的元素（包括元素成员和元素分值）。</li></ul><h3 id="查看key数量"><a href="#查看key数量" class="headerlink" title="查看key数量"></a>查看key数量</h3><p><code>dbsize</code>：返回当前数据库的 key 的数量。</p><h2 id="Hash类型操作"><a href="#Hash类型操作" class="headerlink" title="Hash类型操作"></a>Hash类型操作</h2><ul><li><code>hkeys key</code>：返回哈希表 key 中的所有域。</li><li><code>hget key field</code>：返回哈希表 key 中给定域field的值</li><li><code>hlen key</code>：返回哈希表 key 中域的数量。</li><li><code>hgetall key</code>：返回哈希表 key 中，所有的域和值。</li><li><code>hexists key field</code>：查看哈希表 key 中，给定域 field 是否存在。</li><li><code>hset key field value</code>：将哈希表 key 中的域 field 的值设为 value 。</li><li><code>hdel key field [field ...]</code>：删除哈希表 key 中的一个或多个指定域，不存在的域将被忽略。</li></ul><h2 id="Redis集群操作"><a href="#Redis集群操作" class="headerlink" title="Redis集群操作"></a>Redis集群操作</h2><p>参考文档：<a href="https://www.voidking.com/dev-redis-cluster/">《Redis集群模式概述》</a></p><h1 id="内存碎片率说明"><a href="#内存碎片率说明" class="headerlink" title="内存碎片率说明"></a>内存碎片率说明</h1><p>使用<code>info memory</code>可以查看内存碎片率，内存碎片率计算方法为：<br><code>mem_fragmentation_ratio = used_memory_rss / used_memory</code></p><p>内存碎片率大小说明：</p><ul><li>mem_fragmentation_ratio &lt; 1 表示Redis内存分配超出了物理内存，操作系统正在进行内存交换，内存交换会引起非常明显的响应延迟；</li><li>mem_fragmentation_ratio &gt; 1 是合理的；</li><li>mem_fragmentation_ratio &gt; 1.5 说明Redis消耗了实际需要物理内存的150%以上，其中50%是内存碎片率，可能是操作系统或Redis实例中内存管理变差的表现</li></ul><p>手动清理内存碎片方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">memory purge</span><br></pre></td></tr></table></figure><p>但是，对于redis5.0.14，这个内存碎片率的说明并不适用，经测试查看到的内存碎片率为13-15，远大于1。<br>参考文档<a target="_blank" rel="noopener" href="https://github.com/redis/redis/issues/9256">Redis 5.0.11 high memory fragmentation ratio</a>可知：</p><blockquote><p>you are looking at mem_fragmentation_ratio which is not actually fragmentation. It’s the ratio of used memory to RSS (resident physical memory), We don’t rename if for the sake of backwards compatibility.<br>RSS includes shared libraries, code, stack and other things, so while this metric is useful, it’s not actually fragmentation (which has risk of rising to high values).<br>If you wanna look at fragmentation, you should look at allocator_frag_ratio instead.<br>But another point is that your db is nearly empty, so although the ratio seems high, it’s not actually a lot of memory.<br>allocator_frag_bytes shows just about 400kb.<br>You only wanna be concerned if that number is high, and in that case you can enable activedefrag</p></blockquote><p>因此，对于redis5.0.14，内存碎片率应该查看 <code>allocator_frag_ratio</code> 而不是 <code>mem_fragmentation_ratio</code>。</p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="https://www.voidking.com/dev-redis-start/" title="Redis入门篇">https://www.voidking.com/dev-redis-start/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！源站会及时更新知识点及修正错误，阅读体验也更好。欢迎分享，欢迎收藏~</li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/docker/" rel="tag"># docker</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag"># 数据库</a> <a href="/tags/redis/" rel="tag"># redis</a> <a href="/tags/%E7%BC%93%E5%AD%98/" rel="tag"># 缓存</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-docker-compose/" rel="prev" title="Docker-Compose入门篇"><i class="fa fa-chevron-left"></i> Docker-Compose入门篇</a></div><div class="post-nav-item"> <a href="/dev-redis-cluster/" rel="next" title="Redis集群模式概述">Redis集群模式概述<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zODU3Mi8xNTEwMA=="></div></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Redis%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">Redis简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Redis"><span class="nav-number">2.</span> <span class="nav-text">安装Redis</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis%E5%AE%89%E8%A3%85%E6%A8%A1%E5%BC%8F"><span class="nav-number">2.1.</span> <span class="nav-text">Redis安装模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Redis%E5%8D%95%E6%9C%BA%E6%A8%A1%E5%BC%8F"><span class="nav-number">2.2.</span> <span class="nav-text">安装Redis单机模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Redis%E4%B8%BB%E4%BB%8E%E6%A8%A1%E5%BC%8F"><span class="nav-number">2.3.</span> <span class="nav-text">安装Redis主从模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Redis%E5%93%A8%E5%85%B5%E6%A8%A1%E5%BC%8F"><span class="nav-number">2.4.</span> <span class="nav-text">安装Redis哨兵模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Redis%E9%9B%86%E7%BE%A4%E6%A8%A1%E5%BC%8F"><span class="nav-number">2.5.</span> <span class="nav-text">安装Redis集群模式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89redis%E9%85%8D%E7%BD%AE"><span class="nav-number">3.</span> <span class="nav-text">自定义redis配置</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95Redis"><span class="nav-number">4.</span> <span class="nav-text">测试Redis</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8%E5%86%85%E6%B5%8B%E8%AF%95"><span class="nav-number">4.1.</span> <span class="nav-text">容器内测试</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%BF%E4%B8%BB%E6%9C%BA%E6%B5%8B%E8%AF%95"><span class="nav-number">4.2.</span> <span class="nav-text">宿主机测试</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%87%8D%E5%90%AFRedis"><span class="nav-number">5.</span> <span class="nav-text">重启Redis</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#docker-redis"><span class="nav-number">5.1.</span> <span class="nav-text">docker redis</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bin-redis"><span class="nav-number">5.2.</span> <span class="nav-text">bin redis</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Redis%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="nav-number">6.</span> <span class="nav-text">Redis数据结构</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#String"><span class="nav-number">6.1.</span> <span class="nav-text">String</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#List"><span class="nav-number">6.2.</span> <span class="nav-text">List</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hash"><span class="nav-number">6.3.</span> <span class="nav-text">Hash</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Set"><span class="nav-number">6.4.</span> <span class="nav-text">Set</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ZSet"><span class="nav-number">6.5.</span> <span class="nav-text">ZSet</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Redis%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">7.</span> <span class="nav-text">Redis常用命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C"><span class="nav-number">7.1.</span> <span class="nav-text">数据库操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5"><span class="nav-number">7.1.1.</span> <span class="nav-text">建立连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%80%E5%87%BA%E8%BF%9E%E6%8E%A5"><span class="nav-number">7.1.2.</span> <span class="nav-text">退出连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81"><span class="nav-number">7.1.3.</span> <span class="nav-text">设置密码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E7%94%A8%E6%88%B7%E5%B9%B6%E6%8E%88%E6%9D%83"><span class="nav-number">7.1.4.</span> <span class="nav-text">新增用户并授权</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E5%AE%9A%E7%94%A8%E6%88%B7%E8%BF%9E%E6%8E%A5Redis"><span class="nav-number">7.1.5.</span> <span class="nav-text">指定用户连接Redis</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%87%E6%8D%A2%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">7.1.6.</span> <span class="nav-text">切换数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%9F%E8%AE%A1%E4%BF%A1%E6%81%AF"><span class="nav-number">7.1.7.</span> <span class="nav-text">统计信息</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95"><span class="nav-number">7.2.</span> <span class="nav-text">测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ping"><span class="nav-number">7.2.1.</span> <span class="nav-text">ping</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#echo"><span class="nav-number">7.2.2.</span> <span class="nav-text">echo</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#String%E7%B1%BB%E5%9E%8B%E6%93%8D%E4%BD%9C"><span class="nav-number">7.3.</span> <span class="nav-text">String类型操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AEkey"><span class="nav-number">7.3.1.</span> <span class="nav-text">设置key</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2key"><span class="nav-number">7.3.2.</span> <span class="nav-text">查询key</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%81%8D%E5%8E%86key"><span class="nav-number">7.3.3.</span> <span class="nav-text">遍历key</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8Bkey%E6%95%B0%E9%87%8F"><span class="nav-number">7.3.4.</span> <span class="nav-text">查看key数量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hash%E7%B1%BB%E5%9E%8B%E6%93%8D%E4%BD%9C"><span class="nav-number">7.4.</span> <span class="nav-text">Hash类型操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redis%E9%9B%86%E7%BE%A4%E6%93%8D%E4%BD%9C"><span class="nav-number">7.5.</span> <span class="nav-text">Redis集群操作</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E7%A2%8E%E7%89%87%E7%8E%87%E8%AF%B4%E6%98%8E"><span class="nav-number">8.</span> <span class="nav-text">内存碎片率说明</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">学而不思则罔，思而不学则殆！</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">630</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">29</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">233</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2023</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={iconStyle:"box",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions),flOptions={iconStyle:"box",boxForm:"horizontal",position:"topRight",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-float",flOptions)</script><script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  // window.livereOptions = {
  //   refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  // };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script></body></html>