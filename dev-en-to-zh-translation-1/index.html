<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu.cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="UCloudUCloud是基础云计算服务提供商，与全球AI挑战赛合作，给参赛者提供免费使用GPU的时间。本以为和阿里云类似，新建个主机，搭建环境，然后跑代码。没想到平台限制不能创建主机，只能使用AI训练服务。很麻烦的样子，花点时间研究下。"><meta property="og:type" content="article"><meta property="og:title" content="英中机器文本翻译-第1章"><meta property="og:url" content="https://www.voidking.com/dev-en-to-zh-translation-1/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="UCloudUCloud是基础云计算服务提供商，与全球AI挑战赛合作，给参赛者提供免费使用GPU的时间。本以为和阿里云类似，新建个主机，搭建环境，然后跑代码。没想到平台限制不能创建主机，只能使用AI训练服务。很麻烦的样子，花点时间研究下。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2017-10-11T16:30:00.000Z"><meta property="article:modified_time" content="2017-10-11T16:30:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="python"><meta property="article:tag" content="机器学习"><meta property="article:tag" content="tensorflow"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-en-to-zh-translation-1/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>英中机器文本翻译-第1章 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-en-to-zh-translation-1/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 英中机器文本翻译-第1章</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2017-10-11 16:30:00" itemprop="dateCreated datePublished" datetime="2017-10-11T16:30:00+00:00">2017-10-11</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/machinelearning/" itemprop="url" rel="index"><span itemprop="name">machinelearning</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="UCloud"><span class="post-title-index">1.</span><a href="#UCloud" class="headerlink" title="UCloud"></a> UCloud</h1><p><a target="_blank" rel="noopener" href="https://www.ucloud.cn/">UCloud</a>是基础云计算服务提供商，与全球AI挑战赛合作，给参赛者提供免费使用GPU的时间。本以为和阿里云类似，新建个主机，搭建环境，然后跑代码。没想到平台限制不能创建主机，只能使用AI训练服务。很麻烦的样子，花点时间研究下。</p><span id="more"></span><h1 id="环境准备"><span class="post-title-index">2.</span><a href="#环境准备" class="headerlink" title="环境准备"></a> 环境准备</h1><ul><li>阿里云centos7.2</li><li>python2.7.5（默认安装版本）</li><li>ucloud实名认证通过</li></ul><h1 id="Uhub"><span class="post-title-index">3.</span><a href="#Uhub" class="headerlink" title="Uhub"></a> Uhub</h1><p>1、登录ucloud，左侧导航栏点击<a target="_blank" rel="noopener" href="https://console.ucloud.cn/uhub/uhub">公共镜像库</a>，进入uhub产品页面。</p><p>2、创建镜像库（Docker Registry），郝同学这里命名为vk_ucloud。</p><p>3、docker登录uhub<br><code>docker login uhub.ucloud.cn</code></p><h1 id="UAI-Train工具包"><span class="post-title-index">4.</span><a href="#UAI-Train工具包" class="headerlink" title="UAI Train工具包"></a> UAI Train工具包</h1><p>UAI-Train为用户提供了镜像打包工具，用户只需将所需代码文件放在某一路径下，执行打包命令即可以生成UAI-Train所需的镜像。<br>该打包工具将在本地docker中生成两个镜像以及运行镜像的指令说明文件uaitrain_cmd.txt。生成的镜像包括cpu和gpu两个版本，其中gpu版本的镜像会自动上传至用户的Uhub镜像仓库。两个版本的镜像均可以用于本地测试，测试命令可在uaitrain_cmd.txt中查询。</p><h2 id="UIA-Train基础镜像"><span class="post-title-index">4.1.</span><a href="#UIA-Train基础镜像" class="headerlink" title="UIA Train基础镜像"></a> UIA Train基础镜像</h2><p>UCloud 提供了两个UAI Train系统使用的基础镜像（范例基于tensorflow-1.1.0版本，如果想要使用 tensorflow-1.2.0，可以直接将 1.1.0 替换成1.2.0）</p><p>1、下载gpu版本<br><code>docker pull uhub.ucloud.cn/uaishare/gpu_uaitrain_ubuntu-14.04_python-2.7.6_tensorflow-1.1.0:v1.0</code></p><p>2、下载cpu版本<br><code>docker pull uhub.ucloud.cn/uaishare/cpu_uaitrain_ubuntu-14.04_python-2.7.6_tensorflow-1.1.0:v1.0</code></p><h2 id="UAI-SDK"><span class="post-title-index">4.2.</span><a href="#UAI-SDK" class="headerlink" title="UAI SDK"></a> UAI SDK</h2><p>安装最新版本的UAI SDK和docker支持，安装UAI SDK的方法如下：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.<span class="keyword">com</span>/ucloud/uai-sdk</span><br><span class="line"><span class="keyword">cd</span> uai-sdk</span><br><span class="line">sudo <span class="keyword">python</span> setup.<span class="keyword">py</span> install</span><br></pre></td></tr></table></figure><p>安装Docker的方法请参见：<a target="_blank" rel="noopener" href="https://docs.ucloud.cn/ai/uai-train/base/docker">Docker使用指南</a></p><h2 id="工具目录"><span class="post-title-index">4.3.</span><a href="#工具目录" class="headerlink" title="工具目录"></a> 工具目录</h2><p>找到UAI-Train TensorFlow操作工具所在目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">ls</span> ~/uai-sdk/uaitrain_tool/tf</span></span><br><span class="line">tf_tool.py</span><br></pre></td></tr></table></figure><h2 id="统一路径"><span class="post-title-index">4.4.</span><a href="#统一路径" class="headerlink" title="统一路径"></a> 统一路径</h2><p>将AI训练任务所需的代码放在统一路径下，打包时将其相对路径作为参数code_path上传</p><p>例如，我们要将<code>~/uai-sdk/examples/tensorflow/train/mnist_summary_1.1</code>下面的训练代码进行打包，该文件路径结构如下：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$</span> <span class="built_in">cd</span> ~/uai<span class="literal">-sdk</span>/examples/tensorflow/train/mnist_summary_1.<span class="number">1</span></span><br><span class="line"><span class="variable">$</span> <span class="built_in">ls</span></span><br><span class="line"><span class="keyword">data</span>  code</span><br></pre></td></tr></table></figure><p>我们需要做如下准备工作：</p><p>1、准备好训练的代码，案例中训练代码在<code>mnist_summary_1.1/code</code>下，名为mnist_summary.py</p><p>2、将tf_tool.py 工具放入和训练代码目录同级的目录下，即<code>mnist_summary_1.1/</code> 目录下</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd uai-sdk</span><br><span class="line">cp .<span class="regexp">/uaitrain_tool/</span>tf<span class="regexp">/tf_tool.py ./</span>examples<span class="regexp">/tensorflow/</span>train<span class="regexp">/mnist_summary_1.1/</span></span><br></pre></td></tr></table></figure><p>3、Ready To Pack</p><h2 id="打包"><span class="post-title-index">4.5.</span><a href="#打包" class="headerlink" title="打包"></a> 打包</h2><p>1、进入mnist_summary_1.1目录</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~<span class="regexp">/uai-sdk/</span>examples<span class="regexp">/tensorflow/</span>train<span class="regexp">/mnist_summary_1.1/</span></span><br></pre></td></tr></table></figure><p>2、打包命令</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">sudo python tf_tool<span class="selector-class">.py</span> pack <span class="selector-attr">[-h]</span> <span class="attr">--public_key</span> PUBLIC_KEY </span><br><span class="line">                        <span class="attr">--private_key</span> PRIVATE_KEY </span><br><span class="line">                        <span class="selector-attr">[--project_id PROJECT_ID]</span> </span><br><span class="line">                        <span class="attr">--code_path</span> CODE_PATH </span><br><span class="line">                        <span class="attr">--mainfile_path</span> MAINFILE_PATH</span><br><span class="line">                        <span class="attr">--uhub_username</span> UHUB_USERNAME</span><br><span class="line">                        <span class="attr">--uhub_password</span> UHUB_PASSWORD </span><br><span class="line">                        <span class="attr">--uhub_registry</span> UHUB_REGISTRY</span><br><span class="line">                        <span class="attr">--uhub_imagename</span> UHUB_IMAGENAME</span><br><span class="line">                        <span class="selector-attr">[--uhub_imagetag UHUB_IMAGETAG]</span></span><br><span class="line">                        <span class="selector-attr">[--internal_uhub False/True]</span></span><br><span class="line">                        <span class="attr">--ai_arch_v</span> AI_ARCH_V</span><br><span class="line">                        <span class="attr">--test_data_path</span> TEST_DATA_PATH</span><br><span class="line">                        <span class="attr">--test_output_path</span> TEST_OUTPUT_PATH</span><br><span class="line">                        <span class="attr">--train_params</span> TRAIN_PARAMS</span><br><span class="line">                        <span class="selector-attr">[--python_version PYTHON_VERSION]</span></span><br><span class="line">                        <span class="selector-attr">[--os OS_VERSION]</span></span><br></pre></td></tr></table></figure><p>每个参数的具体解释，访问<a target="_blank" rel="noopener" href="https://docs.ucloud.cn/ai/uai-train/guide/tensorflow/packing">TensorFlow训练镜像打包</a>查看。</p><p>3、打包样例<br>使用mnist_summary_1.1中的训练程序为案例。<br>test_data_path和test_data_path不要求一定在训练代码路径下，如我们可以在/data/test目录下创建了两个子目录：</p><ul><li><code>/data/test/data</code> 用于存放训练数据，此时test_data_path值为<code>/data/test/data</code></li><li><code>/data/test/output</code> 用于存放训练输出数据，此时test_output_path为<code>/data/test/output</code></li></ul><p>train_params为训练代码中使用到的任意训练参数，本例中为”–max_step=2000”<br>使用命令时，需要使用sudo，保证docker镜像打包命令有足够权限。</p><p>注：我们可以将<code>~/uai-sdk/examples/tensorflow/train/mnist_summary_1.1/data/</code>下的测试数据放入<code>/data/test/data/</code>目录下。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">sudo python tf_tool.py pack \</span><br><span class="line">                        <span class="attribute">--public_key</span>=&lt;YOUR_PUBLIC_KEY&gt; \</span><br><span class="line">            <span class="attribute">--private_key</span>=&lt;YOUR_PRIVATE_KEY&gt; \</span><br><span class="line">            <span class="attribute">--code_path</span>=./code/ \</span><br><span class="line">            <span class="attribute">--mainfile_path</span>=mnist_summary.py \</span><br><span class="line">            <span class="attribute">--uhub_username</span>=&lt;YOUR_UHUB_USER_NAME&gt; \</span><br><span class="line">            <span class="attribute">--uhub_password</span>=&lt;YOUR_UHUB_PASSWORD&gt; \</span><br><span class="line">            <span class="attribute">--uhub_registry</span>=&lt;YOUR_UHUB_REFDISTRY&gt; \</span><br><span class="line">            <span class="attribute">--uhub_imagename</span>=&lt;YOUR_UHUB_IMAGENAME&gt; \</span><br><span class="line">                        <span class="attribute">--internal_uhub</span>=<span class="literal">True</span> \</span><br><span class="line">            <span class="attribute">--ai_arch_v</span>=tensorflow-1.1.0 \</span><br><span class="line">            <span class="attribute">--test_data_path</span>=/data/test/data \</span><br><span class="line">            <span class="attribute">--test_output_path</span>=/data/test/output \</span><br><span class="line">            <span class="attribute">--train_params</span>=<span class="string">&quot;--max_step=2000&quot;</span> \</span><br></pre></td></tr></table></figure><ul><li>UCloud API的公钥和私钥，可以在左上角“产品与服务”，“API密钥 UAPI”中找到。</li><li>uhub_username和uhub_password是UCloud的账号和密码。</li><li>uhub_registry填入vk_ucloud。</li><li>ubub_imagename填入mnist_test。</li></ul><p>具体命令为：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p <span class="regexp">/data/</span>test/data</span><br><span class="line">cp -r ~<span class="regexp">/uai-sdk/</span>examples<span class="regexp">/tensorflow/</span>train<span class="regexp">/mnist_summary_1.1/</span>data<span class="regexp">/ /</span>data<span class="regexp">/test/</span></span><br><span class="line">cd ~<span class="regexp">/uai-sdk/</span>examples<span class="regexp">/tensorflow/</span>train/mnist_summary_1.<span class="number">1</span></span><br></pre></td></tr></table></figure><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo python tf_tool.py pack <span class="attribute">--public_key</span>=****** <span class="attribute">--private_key</span>=****** <span class="attribute">--code_path</span>=./code/ <span class="attribute">--mainfile_path</span>=mnist_summary.py <span class="attribute">--uhub_username</span>=voidking@qq.com <span class="attribute">--uhub_password</span>=****** <span class="attribute">--uhub_registry</span>=vk_ucloud <span class="attribute">--uhub_imagename</span>=mnist_test <span class="attribute">--internal_uhub</span>=<span class="literal">True</span> <span class="attribute">--ai_arch_v</span>=tensorflow-1.1.0 <span class="attribute">--test_data_path</span>=/data/test/data <span class="attribute">--test_output_path</span>=/data/test/output <span class="attribute">--train_params</span>=<span class="string">&quot;--max_step=2000&quot;</span></span><br></pre></td></tr></table></figure><p>如果执行上诉命令时报错：</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Docker login on uhub.service.ucloud.cn</span><br><span class="line"><span class="keyword">Error </span>response from daemon: Get https://uhub.service.ucloud.cn/v2/: x509: certificate has expired or is not yet valid</span><br></pre></td></tr></table></figure><p>那么请删除掉<code>--internal_uhub=True</code>这一句，因为我们没有使用UCloud内网，而是使用的阿里云。切记，是删除，而不是改成<code>--internal_uhub=False</code>。这是解决错误失败，请教UCloud客服才得到的结论。在此感谢下客服小哥，很耐心帮忙排查问题。</p><h2 id="输出说明"><span class="post-title-index">4.6.</span><a href="#输出说明" class="headerlink" title="输出说明"></a> 输出说明</h2><p>成功执行后，界面显示样例如下，会给出部署时所需的CMD命令以及本地测试的cmd命令:</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CMD</span><span class="language-bash"> Used <span class="keyword">for</span> deploying: /data/mnist_summary.py --max_step=2000</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> <span class="keyword">for</span> CPU <span class="built_in">local</span> <span class="built_in">test</span>: sudo docker run -it -v /data/test/data:/data/data -v /data/test/output:/data/output mnist_test-cpu:uaitrain /bin/bash -c <span class="string">&quot;cd /data &amp;&amp; /usr/bin/python /data/mnist_summary.py --max_step=2000 --work_dir=/data --data_dir=/data/data --output_dir=/data/output --log_dir=/data/output&quot;</span></span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> <span class="keyword">for</span> GPU <span class="built_in">local</span> <span class="built_in">test</span>: sudo nvidia-docker run -it -v /data/test/data:/data/data -v /data/test/output:/data/output uhub.ucloud.cn/vk_ucloud/mnist_test:uaitrain /bin/bash -c <span class="string">&quot;cd /data &amp;&amp; /usr/bin/python /data/mnist_summary.py --max_step=2000 --num_gpus=1 --work_dir=/data --data_dir=/data/data --output_dir=/data/output --log_dir=/data/output&quot;</span></span></span><br><span class="line">You can check these <span class="keyword">cmd</span><span class="language-bash"> later <span class="keyword">in</span> file: uaitrain_cmd.txt</span></span><br></pre></td></tr></table></figure><ul><li>CMD Used for deploying: 该输出的内容为创建训练任务时，训练启动命令框中需要填写的内容(参见创建训练任务)。可以直接复制黏贴到命令框中。</li><li>CMD for CPU local test: 该输出的内容为本地通过CPU来测试训练能否正常执行。在本地没有GPU的情况下可以使用该命令测试训练代码能否正常执行。</li><li>CMD for GPU local test：该输出的内容为本地通过GPU来测试训练能否正常执行。在本地有GPU的情况下可以使用该命令测试训练代码能否正常执行。（注：在使用前请确认GPU驱动已经安装，并已经安装了nvidia-docker，详细安装方法请参见<a target="_blank" rel="noopener" href="https://docs.ucloud.cn/ai/uai-train/base/docker">Docker使用指南</a>）</li></ul><p>本地文件夹下生成了uaitrain_cmd.txt、uaiservice.log、uaitrain-cpu.Dockerfile和uaitrain.Dockerfile，其中uaitrain_cmd.txt内容和标准输出的内容一致，防止用户丢失屏幕输出内容。</p><p><code>docker images</code>，在本地镜像仓库可以看到生成了两个docker镜像，分别为cpu版本和gpu版本。如下：</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uhub.ucloud.cn/vk<span class="emphasis">_ucloud/mnist_test</span></span><br><span class="line"><span class="emphasis">mnist_</span>test-cpu</span><br></pre></td></tr></table></figure><p>其中gpu版本，会自动上传的到ucloud的uhub。</p><h2 id="自定义软件包安装"><span class="post-title-index">4.7.</span><a href="#自定义软件包安装" class="headerlink" title="自定义软件包安装"></a> 自定义软件包安装</h2><p>如果训练代码依赖特殊的软件包，例如nltk 等，可以通过Docker 打包的形式将软件包和相关数据打包入训练的Docker镜像，详细方法参见<a target="_blank" rel="noopener" href="https://docs.ucloud.cn/ai/uai-train/guide/tensorflow/userpack">TensorFlow 训练镜像自定义包安装</a>。</p><h1 id="UFile"><span class="post-title-index">5.</span><a href="#UFile" class="headerlink" title="UFile"></a> UFile</h1><h2 id="创建存储空间"><span class="post-title-index">5.1.</span><a href="#创建存储空间" class="headerlink" title="创建存储空间"></a> 创建存储空间</h2><p>1、登录ucloud，左侧导航栏点击<a target="_blank" rel="noopener" href="https://console.ucloud.cn/ufile/ufile">对象存储</a>，进入ufile产品页面。</p><p>2、创建存储空间，郝同学这里存储空间域名为vk-ucloud，空间类型为公有空间。<br>创建成功会提示：<br>我们为您同步创建了CDN加速域名，稍后您可在列表查看域名信息并进行文件访问操作。接下来您可通过以下三种方式进行空间内容管理，包括文件上传下载等。API/SDK，<a target="_blank" rel="noopener" href="https://docs.ucloud.cn/storage_cdn/ufile/api.html">详细使用说明</a>；客户端管理工具，<a target="_blank" rel="noopener" href="https://docs.ucloud.cn/storage_cdn/ufile/tools.html">详细使用说明</a>。</p><p>3、之后的文件上传等操作，可以直接在网页完成，也可以使用ucloud提供的空间管理器和文件管理器。</p><h2 id="准备管理器"><span class="post-title-index">5.2.</span><a href="#准备管理器" class="headerlink" title="准备管理器"></a> 准备管理器</h2><p>1、下载空间管理器和文件管理器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /opt/ufile</span><br><span class="line"><span class="built_in">cd</span> /opt/ufile</span><br><span class="line">wget http://tools.ufile.ucloud.com.cn/bucketmgr-linux64.tar.gz</span><br><span class="line">wget http://tools.ufile.ucloud.com.cn/filemgr-linux64.tar.gz</span><br><span class="line">tar -xzvf bucketmgr-linux64.tar.gz </span><br><span class="line">tar -xzvf filemgr-linux64.tar.gz</span><br><span class="line"><span class="built_in">rm</span> -rf bucketmgr-linux64.tar.gz</span><br><span class="line"><span class="built_in">rm</span> -rf filemgr-linux64.tar.gz</span><br><span class="line"><span class="built_in">mv</span> bucketmgr_linux64.elf/* ./ </span><br><span class="line"><span class="built_in">mv</span> filemgr-linux64.elf/* ./</span><br><span class="line"><span class="built_in">rm</span> -rf bucketmgr_linux64.elf</span><br><span class="line"><span class="built_in">rm</span> -rf filemgr-linux64.elf</span><br><span class="line"><span class="built_in">mv</span> bucketmgr-linux64 bucketmgr</span><br><span class="line"><span class="built_in">mv</span> filemgr-linux64 filemgr</span><br></pre></td></tr></table></figure><p>2、配置<br><code>vim config.cfg</code></p><figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">&quot;public_key&quot;</span> : <span class="comment">&quot;paste your public key here&quot;</span>,</span><br><span class="line">    <span class="comment">&quot;private_key&quot;</span> : <span class="comment">&quot;paste your private key here&quot;</span>,</span><br><span class="line">    <span class="comment">&quot;proxy_host&quot;</span> : <span class="comment">&quot;www.cn-bj.ufileos.com&quot;</span>,</span><br><span class="line">    <span class="comment">&quot;api_host&quot;</span> : <span class="comment">&quot;api.spark.ucloud.cn&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中，public_key和private_key可以在“API密钥”中获得。<br>不同地域的proxy_host是不一样的，具体如下:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">北京</span><br><span class="line">外网：www<span class="selector-class">.cn-bj</span><span class="selector-class">.ufileos</span><span class="selector-class">.com</span> </span><br><span class="line">B机房内网：www<span class="selector-class">.ufile</span><span class="selector-class">.cn-north-02</span><span class="selector-class">.ucloud</span><span class="selector-class">.cn</span></span><br><span class="line">C机房内网: www<span class="selector-class">.ufile</span><span class="selector-class">.cn-north-03</span><span class="selector-class">.ucloud</span><span class="selector-class">.cn</span></span><br><span class="line">D机房内网: www<span class="selector-class">.ufile</span><span class="selector-class">.cn-north-04</span><span class="selector-class">.ucloud</span><span class="selector-class">.cn</span></span><br><span class="line">上海二</span><br><span class="line">外网: www<span class="selector-class">.cn-sh2</span><span class="selector-class">.ufileos</span><span class="selector-class">.com</span></span><br><span class="line">内网: www<span class="selector-class">.internal-cn-sh2-01</span><span class="selector-class">.ufileos</span><span class="selector-class">.com</span></span><br><span class="line">香港</span><br><span class="line">外网：www<span class="selector-class">.hk</span><span class="selector-class">.ufileos</span><span class="selector-class">.com</span></span><br><span class="line">内网：www<span class="selector-class">.internal-hk-01</span><span class="selector-class">.ufileos</span><span class="selector-class">.com</span></span><br><span class="line">广东</span><br><span class="line">外网：www<span class="selector-class">.cn-gd</span><span class="selector-class">.ufileos</span><span class="selector-class">.com</span></span><br><span class="line">内网：www<span class="selector-class">.internal-cn-gd-02</span><span class="selector-class">.ufileos</span><span class="selector-class">.com</span></span><br><span class="line">美国</span><br><span class="line">外网：www<span class="selector-class">.us-ca</span><span class="selector-class">.ufileos</span><span class="selector-class">.com</span></span><br><span class="line">内网：www<span class="selector-class">.internal-us-ca-01</span><span class="selector-class">.ufileos</span>.com</span><br></pre></td></tr></table></figure><h2 id="空间管理命令"><span class="post-title-index">5.3.</span><a href="#空间管理命令" class="headerlink" title="空间管理命令"></a> 空间管理命令</h2><h3 id="创建存储空间-1"><span class="post-title-index">5.3.1.</span><a href="#创建存储空间-1" class="headerlink" title="创建存储空间"></a> 创建存储空间</h3><p>创建存储空间建议使用控制台。<br><code>./bucketmgr --action CreateBucket --bucket bucketname --type public</code></p><p>参数说明:<br>–bucket: 需要创建的存储空间域名<br>–type: 需要创建的空间类型，公开空间（public）或私有空间（private）</p><h3 id="删除存储空间"><span class="post-title-index">5.3.2.</span><a href="#删除存储空间" class="headerlink" title="删除存储空间"></a> 删除存储空间</h3><p>删除存储空间建议使用控制台。</p><p><code>./bucketmgr --action DeleteBucket --bucket bucketname</code></p><p>参数说明:<br>–bucket: 需要删除的存储空间域名</p><h3 id="获取空间信息"><span class="post-title-index">5.3.3.</span><a href="#获取空间信息" class="headerlink" title="获取空间信息"></a> 获取空间信息</h3><p><code>./bucketmgr --action DescribeBucket</code><br>参数说明:<br>–bucket: 需要查询的存储空间域名</p><h3 id="获取文件列表"><span class="post-title-index">5.3.4.</span><a href="#获取文件列表" class="headerlink" title="获取文件列表"></a> 获取文件列表</h3><p><code>./bucketmgr --action GetFileList --bucket bucketname</code><br>参数说明:<br>–bucket: 需要拉取列表的存储空间域名<br>–offset: 查询起始的文件编号（默认为0）<br>–limit : 需要查询的记录数（默认为100）</p><h2 id="文件管理器"><span class="post-title-index">5.4.</span><a href="#文件管理器" class="headerlink" title="文件管理器"></a> 文件管理器</h2><p>文件管理工具可帮助用户进行存储空间内文件的管理操作，包括：</p><ul><li><p>上传单个文件：普通上传（PUT），秒传（UPLOAD-HIT），分片上传（MPUT），表单方式上传。</p></li><li><p>上传文件夹：普通上传（PUT），分片上传（MPUT），增量上传（SYNC）。</p></li><li><p>下载文件/文件夹</p></li><li><p>删除文件/文件夹</p></li></ul><h3 id="上传文件-单个文件"><span class="post-title-index">5.4.1.</span><a href="#上传文件-单个文件" class="headerlink" title="上传文件(单个文件)"></a> 上传文件(单个文件)</h3><p><code>./filemgr --action put --bucket bucketname --key key --file filename</code></p><p>参数说明:<br>–bucket: 需要上传至的存储空间<br>–key : 上传至存储空间中的文件名<br>–file : 需要上传的本地文件路径</p><p>示例:<br>把一个本地文件 ucloud.jpg 上传至 bucket 名称为 pics 的存储空间中，并命名为 logo.jpg</p><p><code>./filemgr --action put --bucket pics --key logo.jpg --file /home/yours/pictures/ucloud.jpg</code></p><h3 id="上传文件夹"><span class="post-title-index">5.4.2.</span><a href="#上传文件夹" class="headerlink" title="上传文件夹"></a> 上传文件夹</h3><p><code>./filemgr --action put --bucket bucketname --dir dirname</code></p><p>参数说明:<br>–bucket: 需要上传至的存储空间域名<br>–dir : 需要上传的本地文件夹<br>–prefix: 生成文件的Key时使用的前缀，指定该参数时生成的Key是 prefix+base（filename）</p><blockquote><p>用文件夹方式上传的文件默认会使用文件夹内文件所在的绝对路径来命名Key，如果想指定特殊的前缀请使用–prefix参数。</p></blockquote><p>示例1:</p><p>将 <code>~/files</code> 这个文件夹下的所有文件上传至名为 demobucket 的存储空间中，并且 key 的名称使用 demo/ 作为前缀，如果该文件夹下有一个名为1.jpg 的文件并且空间属性为public，则上传完成后可以通过 <a target="_blank" rel="noopener" href="http://demobucket.ufile.ucloud.com.cn/demo/1.jpg">http://demobucket.ufile.ucloud.com.cn/demo/1.jpg</a> 访问该文件</p><p><code>./filemgr --action put --dir ~/files --bucket demobucket --prefix demo/</code></p><p>如果您不希望使用绝对路径来作为Key，可以使用–trimpath截掉部分路径名。</p><p>例如：<br><code>./filemgr --action put --dir ~/files --bucket demobucket --prefix demo/ --trimpath /root/test</code></p><p>示例2:<br>假设有个目录名为 /some/dir/cutoff/files/，下面有 a.jpg、b.txt两个文件，则以下的处理会使得保存在 UFILE 的文件名为 files/a.jpg、files/b.txt。<br><code>./filemgr --action put --dir ~/files --bucket demobucket --trimpath /some/dir/cutoff/</code></p><h3 id="分片上传"><span class="post-title-index">5.4.3.</span><a href="#分片上传" class="headerlink" title="分片上传"></a> 分片上传</h3><p>分片上传允许在某个分片失败情况下进行续传，适合较大文件的场景。</p><p><code>./filemgr --action mput --bucket demobucket --key key --file filename</code></p><p>参数说明:<br>–bucket : 需要上传至的 bucket 名称<br>–key : 上传至 bucket 中的文件名称–file : 需要上传的本地文件路径<br>–part : 需要进行重传的分片索引(注意重传的分片必须是之前上传失败的分片，已经成功的分片不能重传，否则最终 finish 会失败)<br>–uploadid: 分片上传初始化返回的上传 ID<br>–etags : 续传时需要把之前已经成功上传的分片的 ETag 以”,”分隔传递给服务端</p><p>示例:<br>以分片上传方式上传一个本地文件 hello.avi 至名为 demobucket 的存储空间中并且命名为 world.avi</p><p><code>./filemgr --action mput --bucket demobucket --key world.avi --file /opt/video/hello.avi</code></p><p>上传失败的话，重新执行命令即可继续上传。</p><h3 id="下载文件"><span class="post-title-index">5.4.4.</span><a href="#下载文件" class="headerlink" title="下载文件"></a> 下载文件</h3><p><code>./filemgr --action download --bucket demobucket --key key --file filename</code><br>参数说明:<br>–bucket : 需要下载的文件所在的 bucket 名称<br>–key : 需要下载的文件 key 名称<br>–file : 需要保存在本地的文件路径<br>–showurl: 仅获取下载 URL，不下载实际数据<br>–expires: 获取下载 URL 时指定过期时间<br>–queryauth: 在 URL 的 query 中携带签名信息</p><p>示例:<br>获取一个名为 demobucket 的存储空间中一个名为 QQ.pkg 的文件在5分钟内的有效下载URL。</p><p><code>./filemgr --action download --showurl --queryauth --expires 300 --bucket demobucket --key QQ.pkg</code></p><p>获取一个名为 demobucket 的存储空间中一个名为 QQ.pkg 的文件并且保存为/opt/data/QQ.pkg<br><code>./filemgr --action download --bucket demobucket --key QQ.pkg --file /opt/data/QQ.pkg</code></p><h3 id="删除文件"><span class="post-title-index">5.4.5.</span><a href="#删除文件" class="headerlink" title="删除文件"></a> 删除文件</h3><p><code>./filemgr --action delete --bucket demobucket --key key</code><br>参数说明:<br>–bucket: 需要删除的文件所在的 bucket 名称<br>–key : 需要删除的文件在 bucket 中的名称</p><p>示例:<br>删除一个名为 demobucket 的存储空间中名为 20140201.blog 的文件</p><p><code>./filemgr --action delete --bucket demobucket --key 20140201.blog</code></p><h3 id="秒传文件"><span class="post-title-index">5.4.6.</span><a href="#秒传文件" class="headerlink" title="秒传文件"></a> 秒传文件</h3><p><code>./filemgr --action upload-hit --bucket demobucket --key key --file filename</code><br>参数说明:<br>–bucket: 需要上传至的 bucket 名称<br>–key : 上传至 bucket 中的文件名称<br>–file : 需要上传的本地文件路径</p><p>示例:<br>尝试秒传本地文件 falcon.avi 至存储空间 nfl2014 命名为 2014-superbow.avi</p><p><code>./filemgr --action upload-hit --bucket demobucket --key 2014-superbow.avi --file falcon.avi</code></p><h3 id="计算文件ETag"><span class="post-title-index">5.4.7.</span><a href="#计算文件ETag" class="headerlink" title="计算文件ETag"></a> 计算文件ETag</h3><p>该选项用于计算使用ufile特殊算法得到的文件哈希值</p><p><code>./filemgr --action etag --file filename</code><br>参数说明:<br>–file: 需要计算哈希的本地文件路径</p><p>示例:<br>计算本地文件 sniff-the-rose.pdf 的 ETag<br><code>./filemgr --action etag --file /opt/tiger/sniff-the-rose.pdf</code></p><h3 id="增量上传"><span class="post-title-index">5.4.8.</span><a href="#增量上传" class="headerlink" title="增量上传"></a> 增量上传</h3><p>增量上传仅上传新增或有发生修改的整个文件。</p><p><code>./filemgr --action sync --bucket demobucket --dir syncdir [--speedlimit speedlimit] [--prefix prefix] [--excludeptn]</code></p><p>参数说明:<br>–bucket : 需要同步至远端的 bucket 名称<br>–dir : 需要同步的本地文件夹<br>–speedlimit : 上传限速(byte/s)<br>–prefix : 生成文件的 key 时使用的前缀<br>–excludeptn: 需要排除上传的文件模式，支持 POSIX 正则表达式</p><p>示例:<br>把本地文件夹<code>~/go</code> 同步到名为 demobucket 的存储空间中</p><p><code>./filemgr --action sync --bucket demobucket --dir ~/go</code></p><p>继续检查是否还有文件需要更新<br><code>./filemgr --action sync --bucket demobucket --dir ~/go</code></p><h2 id="上传mnist数据集"><span class="post-title-index">5.5.</span><a href="#上传mnist数据集" class="headerlink" title="上传mnist数据集"></a> 上传mnist数据集</h2><p>1、上传mnist数据集<br><code>./filemgr --action mput --dir /data/test/data --bucket vk-ucloud --prefix mnist/data --trimpath /data/test/data</code></p><p>2、查看上传的文件</p><p><code>./bucketmgr --action GetFileList --bucket vk-ucloud</code><br>例如，看到的文件为：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="symbol">    BucketName:</span>   vk-ucloud</span><br><span class="line"><span class="symbol">    Key:</span>          mnist<span class="keyword">/data/</span>t10k-images-idx3-ubyte.gz</span><br><span class="line"><span class="symbol">    Hash:</span>         AQAAAMOiWvH1La1_cmzOjKyxOGVLdg1I@session_0ade634b<span class="number">-8</span>be9<span class="number">-4537</span><span class="number">-8</span>f73-b900155aae20</span><br><span class="line"><span class="symbol">    MimeType:</span>     application/x-gzip</span><br><span class="line"><span class="symbol">    Size:</span>         <span class="number">1648877</span></span><br><span class="line"><span class="symbol">    Created:</span>      <span class="number">1508560491</span></span><br><span class="line"><span class="symbol">    Modified:</span>     <span class="number">1508560491</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>那么，CDN加速地址为：<a target="_blank" rel="noopener" href="http://vk-ucloud.ufile.ucloud.com.cn/mnist/data/t10k-images-idx3-ubyte.gz">http://vk-ucloud.ufile.ucloud.com.cn/mnist/data/t10k-images-idx3-ubyte.gz</a> ，源站地址为： <a target="_blank" rel="noopener" href="http://vk-ucloud.cn-bj.ufileos.com/mnist/data/t10k-images-idx3-ubyte.gz">http://vk-ucloud.cn-bj.ufileos.com/mnist/data/t10k-images-idx3-ubyte.gz</a></p><h1 id="AI训练服务配置"><span class="post-title-index">6.</span><a href="#AI训练服务配置" class="headerlink" title="AI训练服务配置"></a> AI训练服务配置</h1><p>1、访问<a target="_blank" rel="noopener" href="https://console.ucloud.cn/dashboard">UCloud控制台</a>，在左侧导航栏中找到AI训练服务，然后点击“创建AI训练任务”。</p><p>2、按照提示，填入需要的信息。<br>UCloud API的公钥和私钥，可以在左上角“产品与服务”，“API密钥 UAPI”中找到。<br>代码镜像库选择用户镜像库，镜像选择我们自己创建的mnist_test:uaitrain。<br>数据输入路径为：<a target="_blank" rel="noopener" href="http://vk-ucloud.cn-bj.ufileos.com/mnist/data/">http://vk-ucloud.cn-bj.ufileos.com/mnist/data/</a><br>数据输出路径为：<a target="_blank" rel="noopener" href="http://vk-ucloud.cn-bj.ufileos.com/mnist/output/">http://vk-ucloud.cn-bj.ufileos.com/mnist/output/</a><br>训练时长为：6</p><p>3、点击右侧确定，创建任务完成。</p><p>4、选中任务，点击开始，即可开始训练。点击详情，可以查看到训练过程中的日志。点击tenserboard，看到训练过程中的精度变化等。</p><p>5、在tensorboard看到精度到达1后，即可停止训练。这时，<a target="_blank" rel="noopener" href="http://vk-ucloud.cn-bj.ufileos.com/mnist/output/">http://vk-ucloud.cn-bj.ufileos.com/mnist/output/</a> 文件夹下，会出现训练结果。</p><p>可以使用命令行查看，也可以在<a target="_blank" rel="noopener" href="https://console.ucloud.cn/ufile/ufile/manage/normal">web面板</a>查看。</p><h1 id="书签"><span class="post-title-index">7.</span><a href="#书签" class="headerlink" title="书签"></a> 书签</h1><p><a target="_blank" rel="noopener" href="https://challenger.ai/competition/translation">全球AI挑战赛-英中机器文本翻译</a></p><p><a target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s?__biz=MzA3MzI4MjgzMw==&mid=2650728901&idx=1&sn=7c9a47a9b55678794cd5f70460e0f561&chksm=871b2dbbb06ca4adaf245336ad83a7d4afeebb251bb13328f78f5313a3888faaeb0dc714bb15&mpshare=1&scene=23&srcid=0929cdbyHxWCqpYDYrCR3fpp#rd">谷歌开放GNMT教程：如何使用TensorFlow构建自己的神经机器翻译系统</a></p><p><a target="_blank" rel="noopener" href="https://docs.ucloud.cn/index.html">UCloud文档中心</a></p><p><a target="_blank" rel="noopener" href="http://pan.baidu.com/s/1dFD537z">全球AI挑战赛UCloud参考资料</a></p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-en-to-zh-translation-1/" title="英中机器文本翻译-第1章">https://www.voidking.com/dev-en-to-zh-translation-1/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li><li> <img width="200" height="200" src="/images/avatar.jpg"><p style="text-align:center;margin-bottom:0">微信公众号同步更新，欢迎关注~</p></li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/python/" rel="tag"># python</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag"># 机器学习</a> <a href="/tags/tensorflow/" rel="tag"># tensorflow</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-en-to-zh-translation-0/" rel="prev" title="英中机器文本翻译-第0章"><i class="fa fa-chevron-left"></i> 英中机器文本翻译-第0章</a></div><div class="post-nav-item"> <a href="/dev-en-to-zh-translation-2/" rel="next" title="英中机器文本翻译-第2章">英中机器文本翻译-第2章<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#UCloud"><span class="nav-text">1. UCloud</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="nav-text">2. 环境准备</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Uhub"><span class="nav-text">3. Uhub</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#UAI-Train%E5%B7%A5%E5%85%B7%E5%8C%85"><span class="nav-text">4. UAI Train工具包</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#UIA-Train%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F"><span class="nav-text">4.1. UIA Train基础镜像</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UAI-SDK"><span class="nav-text">4.2. UAI SDK</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B7%A5%E5%85%B7%E7%9B%AE%E5%BD%95"><span class="nav-text">4.3. 工具目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%9F%E4%B8%80%E8%B7%AF%E5%BE%84"><span class="nav-text">4.4. 统一路径</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%93%E5%8C%85"><span class="nav-text">4.5. 打包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BE%93%E5%87%BA%E8%AF%B4%E6%98%8E"><span class="nav-text">4.6. 输出说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BD%AF%E4%BB%B6%E5%8C%85%E5%AE%89%E8%A3%85"><span class="nav-text">4.7. 自定义软件包安装</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#UFile"><span class="nav-text">5. UFile</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4"><span class="nav-text">5.1. 创建存储空间</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%86%E5%A4%87%E7%AE%A1%E7%90%86%E5%99%A8"><span class="nav-text">5.2. 准备管理器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="nav-text">5.3. 空间管理命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4-1"><span class="nav-text">5.3.1. 创建存储空间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4"><span class="nav-text">5.3.2. 删除存储空间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E7%A9%BA%E9%97%B4%E4%BF%A1%E6%81%AF"><span class="nav-text">5.3.3. 获取空间信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8"><span class="nav-text">5.3.4. 获取文件列表</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%99%A8"><span class="nav-text">5.4. 文件管理器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6-%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6"><span class="nav-text">5.4.1. 上传文件(单个文件)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="nav-text">5.4.2. 上传文件夹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0"><span class="nav-text">5.4.3. 分片上传</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6"><span class="nav-text">5.4.4. 下载文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="nav-text">5.4.5. 删除文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A7%92%E4%BC%A0%E6%96%87%E4%BB%B6"><span class="nav-text">5.4.6. 秒传文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%96%87%E4%BB%B6ETag"><span class="nav-text">5.4.7. 计算文件ETag</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E%E9%87%8F%E4%B8%8A%E4%BC%A0"><span class="nav-text">5.4.8. 增量上传</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8A%E4%BC%A0mnist%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="nav-text">5.5. 上传mnist数据集</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#AI%E8%AE%AD%E7%BB%83%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE"><span class="nav-text">6. AI训练服务配置</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B9%A6%E7%AD%BE"><span class="nav-text">7. 书签</span></a></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">721</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">254</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: '2c06b475350d0a9a591e02c1a4318a79',
      title: '英中机器文本翻译-第1章',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>