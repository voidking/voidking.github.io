<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu.cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="选题：文件管理系统每个同学，必须完成两个题目，以下是我的两个选题。 1、银行家算法的模拟掌握死锁相关的概念和解决方案，理解银行家算法的工作原理，设计合适的数据结构和算法，模拟实现银行家算法。 2、一个简单文件管理器的实现掌握操作系统关于文件管理的各种原理，熟悉常用的文件操作，编写程序实现文件的常规操作。 对于选题1，找到了前辈的作品，改一改，验收！当然，被老师吐槽一顿是难免的。 对于选题2，文件管"><meta property="og:type" content="article"><meta property="og:title" content="操作系统课设"><meta property="og:url" content="https://www.voidking.com/dev-os-curriculum-design/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="选题：文件管理系统每个同学，必须完成两个题目，以下是我的两个选题。 1、银行家算法的模拟掌握死锁相关的概念和解决方案，理解银行家算法的工作原理，设计合适的数据结构和算法，模拟实现银行家算法。 2、一个简单文件管理器的实现掌握操作系统关于文件管理的各种原理，熟悉常用的文件操作，编写程序实现文件的常规操作。 对于选题1，找到了前辈的作品，改一改，验收！当然，被老师吐槽一顿是难免的。 对于选题2，文件管"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://cdn.voidking.com/imgs/os-curriculum-design/ui.jpg"><meta property="article:published_time" content="2015-01-05T15:13:27.000Z"><meta property="article:modified_time" content="2015-01-05T15:13:27.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="操作系统"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://cdn.voidking.com/imgs/os-curriculum-design/ui.jpg"><link rel="canonical" href="https://www.voidking.com/dev-os-curriculum-design/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>操作系统课设 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-os-curriculum-design/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 操作系统课设</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2015-01-05 15:13:27" itemprop="dateCreated datePublished" datetime="2015-01-05T15:13:27+00:00">2015-01-05</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/uncategories/" itemprop="url" rel="index"><span itemprop="name">uncategories</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="选题：文件管理系统"><span class="post-title-index">1.</span><a href="#选题：文件管理系统" class="headerlink" title="选题：文件管理系统"></a> 选题：文件管理系统</h3><p>每个同学，必须完成两个题目，以下是我的两个选题。</p><p>1、银行家算法的模拟<br>掌握死锁相关的概念和解决方案，理解银行家算法的工作原理，设计合适的数据结构和算法，模拟实现银行家算法。</p><p>2、一个简单文件管理器的实现<br>掌握操作系统关于文件管理的各种原理，熟悉常用的文件操作，编写程序实现文件的常规操作。</p><p>对于选题1，找到了前辈的作品，改一改，验收！当然，被老师吐槽一顿是难免的。</p><p>对于选题2，文件管理系统，这个就有意思了，借鉴了大神<a target="_blank" rel="noopener" href="http://blog.csdn.net/cattong/article/details/1844916">cattong</a> 的思路，下面和大家讨论下。</p><span id="more"></span><h3 id="语言：Java"><span class="post-title-index">2.</span><a href="#语言：Java" class="headerlink" title="语言：Java"></a> 语言：Java</h3><p>编程三年，个人感觉，最友好的语言就是Java了。本次课设，毫无争议选择了Java。</p><h3 id="设计思路"><span class="post-title-index">3.</span><a href="#设计思路" class="headerlink" title="设计思路"></a> 设计思路</h3><h4 id="界面"><span class="post-title-index">3.1.</span><a href="#界面" class="headerlink" title="界面"></a> 界面</h4><p><img src="http://cdn.voidking.com/imgs/os-curriculum-design/ui.jpg"><br>很简洁的界面，上面输入命令，下面显示结果。废话不多说，上代码！</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.voidking.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.BorderLayout;</span><br><span class="line"><span class="keyword">import</span> java.awt.FlowLayout;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.swing.JFrame;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JLabel;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JPanel;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JScrollPane;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JTextArea;</span><br><span class="line"><span class="keyword">import</span> javax.swing.JTextField;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainFrame</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="type">MainFrame</span> <span class="variable">thisClass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MainFrame</span>();</span><br><span class="line">		thisClass.setVisible(<span class="literal">true</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">MainFrame</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="built_in">super</span>();</span><br><span class="line">		initialize();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">initialize</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">this</span>.setTitle(<span class="string">&quot;资源管理&quot;</span>);</span><br><span class="line">		<span class="built_in">this</span>.setSize(<span class="number">500</span>, <span class="number">400</span>);</span><br><span class="line">		<span class="built_in">this</span>.setLocationRelativeTo(<span class="literal">null</span>);</span><br><span class="line">		<span class="built_in">this</span>.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span><br><span class="line">		contentPane = <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">		contentPane.setLayout(<span class="keyword">new</span> <span class="title class_">BorderLayout</span>());</span><br><span class="line">		contentPane.add(getCmdPane(), BorderLayout.NORTH);</span><br><span class="line">		contentPane.add(getEchoArea(), BorderLayout.CENTER);</span><br><span class="line">		<span class="built_in">this</span>.add(contentPane);</span><br><span class="line">		cmd = <span class="keyword">new</span> <span class="title class_">Command</span>(<span class="built_in">this</span>);</span><br><span class="line">		display(<span class="string">&quot;C:&gt;&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">JPanel</span> <span class="variable">contentPane</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">JPanel</span> <span class="variable">cmdPane</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">JLabel</span> <span class="variable">jLabel</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">JTextField</span> <span class="variable">cmdText</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">JTextArea</span> <span class="variable">echoArea</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">JScrollPane</span> <span class="variable">areaScroll</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">Command</span> <span class="variable">cmd</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> JPanel <span class="title function_">getCmdPane</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (cmdPane == <span class="literal">null</span>) &#123;</span><br><span class="line">			jLabel = <span class="keyword">new</span> <span class="title class_">JLabel</span>();</span><br><span class="line">			jLabel.setText(<span class="string">&quot;命 令 行:&quot;</span>);</span><br><span class="line">			cmdPane = <span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">			cmdPane.setLayout(<span class="keyword">new</span> <span class="title class_">FlowLayout</span>());</span><br><span class="line">			cmdPane.add(jLabel, <span class="literal">null</span>);</span><br><span class="line">			cmdPane.add(getCmdText(), <span class="literal">null</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> cmdPane;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> JTextField <span class="title function_">getCmdText</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (cmdText == <span class="literal">null</span>) &#123;</span><br><span class="line">			cmdText = <span class="keyword">new</span> <span class="title class_">JTextField</span>();</span><br><span class="line">			cmdText.setColumns(<span class="number">25</span>);</span><br><span class="line">			<span class="comment">// 添加键盘监听事件;</span></span><br><span class="line">			cmdText.addKeyListener(<span class="keyword">new</span> <span class="title class_">java</span>.awt.event.KeyAdapter() &#123;</span><br><span class="line">				<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">keyTyped</span><span class="params">(java.awt.event.KeyEvent e)</span> &#123;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">keyPressed</span><span class="params">(java.awt.event.KeyEvent e)</span> &#123;</span><br><span class="line">					<span class="keyword">if</span> (e.getKeyCode() == <span class="number">10</span>) &#123;</span><br><span class="line">						<span class="comment">// 对文本进行处理;</span></span><br><span class="line">						cmd.operate(cmdText.getText().trim());</span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> cmdText;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> JScrollPane <span class="title function_">getEchoArea</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (echoArea == <span class="literal">null</span>) &#123;</span><br><span class="line">			echoArea = <span class="keyword">new</span> <span class="title class_">JTextArea</span>();</span><br><span class="line">			echoArea.setEditable(<span class="literal">false</span>);</span><br><span class="line">			areaScroll = <span class="keyword">new</span> <span class="title class_">JScrollPane</span>();</span><br><span class="line">			areaScroll.setViewportView(echoArea);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> areaScroll;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 在回显框显示结果;</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">(String str)</span> &#123;</span><br><span class="line">		echoArea.append(str + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">		echoArea.setCaretPosition(echoArea.getText().length());</span><br><span class="line">		cmdText.setText(<span class="string">&quot;&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="命令处理"><span class="post-title-index">3.2.</span><a href="#命令处理" class="headerlink" title="命令处理"></a> 命令处理</h4><p>在界面初始化函数initialize()中，我们创建了一个Command类的实例：cmd对象。然后，在getCmdText()函数中监听文本框中的内容，调用cmd对象的函数进行处理。</p><p>Command类，封装了所有的命令处理函数。结构简单明了，不多解释，直接上代码！</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.voidking.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.Desktop;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Command</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> String currentPath;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">MainFrame</span> <span class="variable">mainFrame</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> String cmd[] = &#123; <span class="string">&quot;cd&quot;</span>, <span class="string">&quot;dir&quot;</span>, <span class="string">&quot;mkdir&quot;</span>, <span class="string">&quot;rmdir&quot;</span>, <span class="string">&quot;mkfile&quot;</span>, <span class="string">&quot;rmfile&quot;</span>,</span><br><span class="line">			<span class="string">&quot;exit&quot;</span> ,<span class="string">&quot;mkpath&quot;</span>,<span class="string">&quot;open&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> cmdInt[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span> ,<span class="number">8</span>,<span class="number">9</span>&#125;;</span><br><span class="line"></span><br><span class="line">	Command(MainFrame mainFrame) &#123;</span><br><span class="line">		currentPath = <span class="string">&quot;C:&quot;</span>;</span><br><span class="line">		<span class="built_in">this</span>.mainFrame = mainFrame;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> String[] separate(String operation) &#123;</span><br><span class="line">		String[] str = operation.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">		<span class="comment">//主要解决文件夹或文件中含有空格的情况;</span></span><br><span class="line">		<span class="keyword">if</span>(str.length&gt;<span class="number">2</span>)&#123;</span><br><span class="line">			String[] tempStr=<span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">2</span>];</span><br><span class="line">			tempStr[<span class="number">0</span>]=str[<span class="number">0</span>];</span><br><span class="line">			tempStr[<span class="number">1</span>]=str[<span class="number">1</span>];</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;str.length;i++)</span><br><span class="line">				tempStr[<span class="number">1</span>]+=<span class="string">&quot; &quot;</span>+str[i];</span><br><span class="line">			<span class="keyword">return</span> tempStr;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> str;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 根据参数operation执行相应的操作;</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operate</span><span class="params">(String operation)</span> &#123;</span><br><span class="line">		String[] str = separate(operation);</span><br><span class="line">		<span class="type">String</span> <span class="variable">mycmd</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">		<span class="type">int</span> <span class="variable">mycmdInt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">		<span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">		<span class="keyword">if</span> (str.length == <span class="number">1</span>) &#123;</span><br><span class="line">			mycmd = str[<span class="number">0</span>];</span><br><span class="line">			<span class="comment">//切换盘符</span></span><br><span class="line">			<span class="keyword">if</span> (mycmd.indexOf(<span class="string">&quot;:&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">				<span class="type">File</span> <span class="variable">newFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(mycmd);</span><br><span class="line">				<span class="keyword">if</span> (newFile.exists()) &#123;</span><br><span class="line">					currentPath = mycmd;</span><br><span class="line">					mainFrame.display(getPath());</span><br><span class="line">					<span class="keyword">return</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (str.length &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">			mycmd = str[<span class="number">0</span>];</span><br><span class="line">			path = str[<span class="number">1</span>];</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; cmd.length; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (mycmd.equalsIgnoreCase(cmd[i])) &#123;</span><br><span class="line">				mycmdInt = cmdInt[i];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">switch</span> (mycmdInt) &#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">			cd(currentPath, path);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">			dir(currentPath);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">			mkdir(path);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">			rmdir(path);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">			mkfile(path);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">			rmfile(path);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">			exit();</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">			mkpath(path);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">			open(path);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">			</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			mainFrame.display(<span class="string">&quot;无效的命令!&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		mainFrame.display(getPath());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 获得当前所在目录;</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getPath</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> currentPath + <span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 获得路径path下的文件;</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> String[] listAll(String path) &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(path);</span><br><span class="line">			String[] fileName;</span><br><span class="line">			<span class="keyword">if</span> (f.isDirectory()) &#123;</span><br><span class="line">				fileName = f.list();</span><br><span class="line">				mainFrame.display(<span class="string">&quot;共有&quot;</span> + fileName.length + <span class="string">&quot;个文件&quot;</span>);</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; fileName.length; i++)</span><br><span class="line">					mainFrame.display(<span class="string">&quot;    &quot;</span> + fileName[i]);</span><br><span class="line">				<span class="keyword">return</span> fileName;</span><br><span class="line">			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (f.isFile()) &#123;</span><br><span class="line">				mainFrame.display(<span class="string">&quot;这是一个文件&quot;</span>);</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="comment">//System.out.println(path);</span></span><br><span class="line">				<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="keyword">public</span> String[] listDirectory(String path)&#123;</span><br><span class="line">    	<span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(path);</span><br><span class="line">		String[] fileName;</span><br><span class="line">		<span class="keyword">if</span> (f.isDirectory()) &#123;</span><br><span class="line">			fileName = f.list();</span><br><span class="line">			<span class="comment">//for (int i = 0; i &lt; fileName.length; i++)</span></span><br><span class="line">				<span class="comment">//System.out.println(&quot;/&quot;+fileName[i]);</span></span><br><span class="line">			<span class="keyword">return</span> fileName;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="comment">//System.out.println(path+&quot;是文件&quot;);</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 判断这个路径是否正确;</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isRightPath</span><span class="params">(String path)</span> &#123;</span><br><span class="line">		<span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(path);</span><br><span class="line">		<span class="keyword">if</span> (file.isDirectory() || file.isFile())</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 进行cd操作;cd&lt;目录名&gt; 功能:进入下一个目录;</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cd</span><span class="params">(String path, String file)</span> &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> path + <span class="string">&quot;\\&quot;</span> + file;</span><br><span class="line">		<span class="keyword">if</span> (!isRightPath(temp)) &#123;</span><br><span class="line">			mainFrame.display(<span class="string">&quot;没有找到这个文件夹&quot;</span>);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (!file.equals(<span class="string">&quot;&quot;</span>))</span><br><span class="line">				currentPath += <span class="string">&quot;\\&quot;</span> + file;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 进行dir操作;dir [&lt;目录名&gt;] 功能: 显示目录下的所有文件;</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dir</span><span class="params">(String path)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (path != <span class="literal">null</span>)</span><br><span class="line">			listAll(path);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * mkdir &lt;目录名&gt; 功能: 创建新目录</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mkdir</span><span class="params">(String directory)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (!currentPath.equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">			<span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> currentPath + <span class="string">&quot;\\&quot;</span> + directory;</span><br><span class="line">			<span class="type">File</span> <span class="variable">newFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(temp);</span><br><span class="line">			<span class="keyword">if</span> (!newFile.exists()) &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					<span class="keyword">if</span> (newFile.isDirectory() == <span class="literal">false</span>) &#123;</span><br><span class="line">						newFile.mkdirs();</span><br><span class="line">						mainFrame.display(<span class="string">&quot;文件夹创建成功!&quot;</span>);</span><br><span class="line">					&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">						mainFrame.display(<span class="string">&quot;文件夹创建出错!&quot;</span>);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">					mainFrame.display(<span class="string">&quot;出错信息:&quot;</span> + e.getMessage());</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				mainFrame.display(<span class="string">&quot;文件夹已经存在&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * rmdir &lt;目录名&gt; 功能: 删除目录;</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rmdir</span><span class="params">(String directory)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (!currentPath.equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">			<span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> currentPath + <span class="string">&quot;\\&quot;</span> + directory;</span><br><span class="line">			<span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(temp);</span><br><span class="line">			<span class="keyword">if</span> (file.exists()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (file.delete()) &#123;</span><br><span class="line">					mainFrame.display(<span class="string">&quot;文件夹删除成功!&quot;</span>);</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					mainFrame.display(<span class="string">&quot;文件夹删除操作出错!&quot;</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				mainFrame.display(<span class="string">&quot;文件夹不存在&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * mkfile &lt;文件名&gt; 功能: 新建文件</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mkfile</span><span class="params">(String file)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (!currentPath.equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">			<span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> currentPath + <span class="string">&quot;\\&quot;</span> + file;</span><br><span class="line">			<span class="type">File</span> <span class="variable">newFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(temp);</span><br><span class="line">			<span class="keyword">if</span> (newFile.exists()) &#123;</span><br><span class="line">				mainFrame.display(<span class="string">&quot;文件已经存在!&quot;</span>);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					newFile.createNewFile();</span><br><span class="line">					mainFrame.display(<span class="string">&quot;文件创建成功!&quot;</span>);</span><br><span class="line">				&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">					mainFrame.display(<span class="string">&quot;文件创建失败:&quot;</span> + e.getMessage());</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * rmfile &lt;文件名&gt; 功能:删除文件;</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rmfile</span><span class="params">(String file)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (!file.equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">			<span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> currentPath + <span class="string">&quot;\\&quot;</span> + file;</span><br><span class="line">			<span class="type">File</span> <span class="variable">dfile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(temp);</span><br><span class="line">			<span class="keyword">if</span> (dfile.exists()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (dfile.delete()) &#123;</span><br><span class="line">					mainFrame.display(<span class="string">&quot;文件删除成功!&quot;</span>);</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					mainFrame.display(<span class="string">&quot;文件删除操作出错!&quot;</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				mainFrame.display(<span class="string">&quot;文件不存在&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 进行exit操作; 功能:退出文件系统;</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">exit</span><span class="params">()</span> &#123;</span><br><span class="line">		mainFrame.display(<span class="string">&quot;退出系统&quot;</span>);</span><br><span class="line">		System.exit(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 新建文件，使用绝对路径</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mkpath</span><span class="params">(String file)</span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (!currentPath.equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">			<span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> file;</span><br><span class="line">			<span class="type">File</span> <span class="variable">newFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(temp);</span><br><span class="line">			<span class="keyword">if</span> (newFile.exists()) &#123;</span><br><span class="line">				mainFrame.display(<span class="string">&quot;文件已经存在!&quot;</span>);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					newFile.createNewFile();</span><br><span class="line">					mainFrame.display(<span class="string">&quot;文件创建成功!&quot;</span>);</span><br><span class="line">				&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">					mainFrame.display(<span class="string">&quot;文件创建失败:&quot;</span> + e.getMessage());</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 使用系统默认软件打开指定文件</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">open</span><span class="params">(String file)</span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (!currentPath.equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">			<span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> currentPath + <span class="string">&quot;\\&quot;</span> + file;</span><br><span class="line">			<span class="type">File</span> <span class="variable">newFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(temp);</span><br><span class="line">			<span class="keyword">if</span> (newFile.exists()) &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					Desktop.getDesktop().open(newFile);</span><br><span class="line">				&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">				mainFrame.display(<span class="string">&quot;打开文件成功！&quot;</span>);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				mainFrame.display(<span class="string">&quot;文件不存在，无法打开&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="小结"><span class="post-title-index">4.</span><a href="#小结" class="headerlink" title="小结"></a> 小结</h3><p>怎么这么简单？没错，代码是很简单，但是，想到这个思路不容易，再次感谢cattong前辈。</p><h3 id="源代码分享"><span class="post-title-index">5.</span><a href="#源代码分享" class="headerlink" title="源代码分享"></a> 源代码分享</h3><p><a target="_blank" rel="noopener" href="http://yunpan.cn/cjqdEABf3dxkj">http://yunpan.cn/cjqdEABf3dxkj</a> 访问密码 7159<br><a target="_blank" rel="noopener" href="http://yunpan.cn/cjqdWLKJk4TQL">http://yunpan.cn/cjqdWLKJk4TQL</a> 访问密码 63de</p><h3 id="参考文档"><span class="post-title-index">6.</span><a href="#参考文档" class="headerlink" title="参考文档"></a> 参考文档</h3><p><a target="_blank" rel="noopener" href="http://www.oschina.net/project/tag/193?lang=19&amp;show=hots">http://www.oschina.net/project/tag/193?lang=19&amp;show=hots</a><br><a target="_blank" rel="noopener" href="http://blog.csdn.net/cattong/article/details/1844916">http://blog.csdn.net/cattong/article/details/1844916</a></p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-os-curriculum-design/" title="操作系统课设">https://www.voidking.com/dev-os-curriculum-design/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li><li> <img width="200" height="200" src="/images/avatar.jpg"><p style="text-align:center;margin-bottom:0">微信公众号同步更新，欢迎关注~</p></li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag"># 操作系统</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-xmpp-note-debug-console/" rel="prev" title="XMPP学习笔记——调试控制台"><i class="fa fa-chevron-left"></i> XMPP学习笔记——调试控制台</a></div><div class="post-nav-item"> <a href="/dev-page-label-add-icon/" rel="next" title="网页标签添加图标">网页标签添加图标<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%89%E9%A2%98%EF%BC%9A%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="nav-text">1. 选题：文件管理系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%AD%E8%A8%80%EF%BC%9AJava"><span class="nav-text">2. 语言：Java</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF"><span class="nav-text">3. 设计思路</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%95%8C%E9%9D%A2"><span class="nav-text">3.1. 界面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E5%A4%84%E7%90%86"><span class="nav-text">3.2. 命令处理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-text">4. 小结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%BA%90%E4%BB%A3%E7%A0%81%E5%88%86%E4%BA%AB"><span class="nav-text">5. 源代码分享</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3"><span class="nav-text">6. 参考文档</span></a></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">710</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">253</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: 'b9a511c04abbfbaaf56bc4e81e278d3e',
      title: '操作系统课设',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>