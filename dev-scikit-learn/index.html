<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言本文转载自优达学城《机器学习工程师》"><meta property="og:type" content="article"><meta property="og:title" content="scikit-learn"><meta property="og:url" content="https://www.voidking.com/dev-scikit-learn/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言本文转载自优达学城《机器学习工程师》"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2017-02-05T10:00:00.000Z"><meta property="article:modified_time" content="2021-04-11T23:50:37.286Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="python"><meta property="article:tag" content="转载"><meta property="article:tag" content="机器学习"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-scikit-learn/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>scikit-learn | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">好好学习，天天向上！</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-scikit-learn/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="学而不思则罔，思而不学则殆！"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> scikit-learn</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2017-02-05 10:00:00" itemprop="dateCreated datePublished" datetime="2017-02-05T10:00:00+00:00">2017-02-05</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/" itemprop="url" rel="index"><span itemprop="name">专业</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E4%B8%93%E4%B8%9A/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/udacity/" itemprop="url" rel="index"><span itemprop="name">udacity</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本文转载自<a href="https://cn.udacity.com/course/machine-learning-engineer-nanodegree--nd009" target="_blank" rel="noopener">优达学城《机器学习工程师》</a></p><a id="more"></a><h1 id="scikit-learn-的安装"><a href="#scikit-learn-的安装" class="headerlink" title="scikit-learn 的安装"></a>scikit-learn 的安装</h1><p>检查您是否装有可用的 python。优达学城使用 python 2.7 作为示例代码和在浏览器中完成作业的代码。</p><p>我们会使用 pip 来安装一些程序包。首先，在<a href="https://pip.pypa.io/en/latest/installing.html" target="_blank" rel="noopener">此处</a>获取并安装 pip。如果你使用Anaconda, 你可以用 conda 命令来安装包。</p><p>使用 pip 或 anaconda 来安装 scikit-learn：</p><ul><li>打开 Terminal（mac 下是 Terminal， PC 是 cmd）<br>用下列命令安装 sklearn</li><li><code>pip install scikit-learn</code> 或者 <code>conda install scikit-learn</code></li><li>如果你不用 pip 或者 conda，可以在<a href="http://scikit-learn.org/stable/install.html" target="_blank" rel="noopener">这里</a>找到安装说明。</li></ul><h1 id="关于-scikit-learn-版本的重要通知"><a href="#关于-scikit-learn-版本的重要通知" class="headerlink" title="关于 scikit-learn 版本的重要通知"></a>关于 scikit-learn 版本的重要通知</h1><p>scikit-learn 最近把稳定版升级到了 v0.18。这次升级改变了一些我们将要在课程中讲到的函数的调用方法，例如：train_test_split、gridSearchCV、ShuffleSplit 和 learning_curves。scikit-learn 网站上的文档已经更新到了 v0.18。但是 Katie 导师的讲解以及优达学城（Udacity）的练习，作业还是基于v0.17。如果你需要查询 scikit-learn 的文档，请查询 <a href="http://scikit-learn.org/0.17/" target="_blank" rel="noopener">v0.17 的说明</a>，而非 v0.18。近期我们会把内容统一升级成 v0.18。</p><p><a href="http://discussions.youdaxue.com/t/sklearn-0-18/8282" target="_blank" rel="noopener">这个论坛链接</a>提供了更加详细的说明。如果你还有疑问，可以在论坛和微信群里提出。</p><h1 id="Scikit-learn-代码"><a href="#Scikit-learn-代码" class="headerlink" title="Scikit-learn 代码"></a>Scikit-learn 代码</h1><p>在接下来的部分中，Katie 会演示如何将 scikit-learn（或 sklearn）文档与在“机器学习简介”课程中介绍的高斯朴素贝叶斯模型一起使用。对于本练习，您不必熟悉朴素贝叶斯或者 Katie 演示的代码，而是要熟悉 sklearn 的布局，以便之后能评估和验证任何数据模型。</p><p>在即将开始的“监督式机器学习”课程中，我们会更详细地介绍朴素贝叶斯以及其他有用的受监督模型，并运用我们在本课程中学到的知识评估每个模型的优缺点。</p><p>如果想提前了解一下朴素贝叶斯，请查看此<a href="http://scikit-learn.org/stable/modules/naive_bayes.html" target="_blank" rel="noopener">链接</a>。</p><h1 id="sklearn使用入门"><a href="#sklearn使用入门" class="headerlink" title="sklearn使用入门"></a>sklearn使用入门</h1><p>在谷歌上搜索“sklearn naive bayes”即可。</p><h1 id="高斯朴素贝叶斯示例"><a href="#高斯朴素贝叶斯示例" class="headerlink" title="高斯朴素贝叶斯示例"></a>高斯朴素贝叶斯示例</h1><p><a href="http://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.GaussianNB.html" target="_blank" rel="noopener">http://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.GaussianNB.html</a></p><h1 id="有关地形数据的高斯-NB-部署"><a href="#有关地形数据的高斯-NB-部署" class="headerlink" title="有关地形数据的高斯 NB 部署"></a>有关地形数据的高斯 NB 部署</h1><h2 id="studentMain-py"><a href="#studentMain-py" class="headerlink" title="studentMain.py"></a>studentMain.py</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="section">#!/usr/bin/python</span></span><br><span class="line"></span><br><span class="line">""" Complete the code in ClassifyNB.py with the sklearn</span><br><span class="line"><span class="code">    Naive Bayes classifier to classify the terrain data.</span></span><br><span class="line"><span class="code">    </span></span><br><span class="line"><span class="code">    The objective of this exercise is to recreate the decision </span></span><br><span class="line"><span class="code">    boundary found in the lesson video, and make a plot that</span></span><br><span class="line"><span class="code">    visually shows the decision boundary """</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">from prep<span class="emphasis">_terrain_</span>data import makeTerrainData</span><br><span class="line">from class<span class="emphasis">_vis import prettyPicture, output_</span>image</span><br><span class="line">from ClassifyNB import classify</span><br><span class="line"></span><br><span class="line">import numpy as np</span><br><span class="line">import pylab as pl</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">features<span class="emphasis">_train, labels_</span>train, features<span class="emphasis">_test, labels_</span>test = makeTerrainData()</span><br><span class="line"></span><br><span class="line"><span class="section">### the training data (features_train, labels_train) have both "fast" and "slow" points mixed</span></span><br><span class="line"><span class="section">### in together--separate them so we can give them different colors in the scatterplot,</span></span><br><span class="line"><span class="section">### and visually identify them</span></span><br><span class="line">grade<span class="emphasis">_fast = [features_</span>train[<span class="string">ii</span>][<span class="symbol">0</span>] for ii in range(0, len(features<span class="emphasis">_train)) if labels_</span>train[ii]==0]</span><br><span class="line">bumpy<span class="emphasis">_fast = [features_</span>train[<span class="string">ii</span>][<span class="symbol">1</span>] for ii in range(0, len(features<span class="emphasis">_train)) if labels_</span>train[ii]==0]</span><br><span class="line">grade<span class="emphasis">_slow = [features_</span>train[<span class="string">ii</span>][<span class="symbol">0</span>] for ii in range(0, len(features<span class="emphasis">_train)) if labels_</span>train[ii]==1]</span><br><span class="line">bumpy<span class="emphasis">_slow = [features_</span>train[<span class="string">ii</span>][<span class="symbol">1</span>] for ii in range(0, len(features<span class="emphasis">_train)) if labels_</span>train[ii]==1]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section"># You will need to complete this function imported from the ClassifyNB script.</span></span><br><span class="line"><span class="section"># Be sure to change to that code tab to complete this quiz.</span></span><br><span class="line">clf = classify(features<span class="emphasis">_train, labels_</span>train)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">### draw the decision boundary with the text points overlaid</span></span><br><span class="line">prettyPicture(clf, features<span class="emphasis">_test, labels_</span>test)</span><br><span class="line">output_image("test.png", "png", open("test.png", "rb").read())</span><br></pre></td></tr></table></figure><h2 id="class-vis-py"><a href="#class-vis-py" class="headerlink" title="class_vis.py"></a>class_vis.py</h2><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#from udacityplots import *</span></span><br><span class="line"><span class="built_in">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">"ignore"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">import</span> matplotlib </span><br><span class="line">matplotlib.use('agg')</span><br><span class="line"></span><br><span class="line"><span class="built_in">import</span> matplotlib.pyplot as plt</span><br><span class="line"><span class="built_in">import</span> pylab as pl</span><br><span class="line"><span class="built_in">import</span> numpy as np</span><br><span class="line"></span><br><span class="line"><span class="comment">#import numpy as np</span></span><br><span class="line"><span class="comment">#import matplotlib.pyplot as plt</span></span><br><span class="line"><span class="comment">#plt.ioff()</span></span><br><span class="line"></span><br><span class="line">def prettyPicture(clf, X_test, y_test):</span><br><span class="line">    <span class="attr">x_min</span> = <span class="number">0.0</span>; <span class="attr">x_max</span> = <span class="number">1.0</span></span><br><span class="line">    <span class="attr">y_min</span> = <span class="number">0.0</span>; <span class="attr">y_max</span> = <span class="number">1.0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Plot the decision boundary. For that, we will assign a color to each</span></span><br><span class="line">    <span class="comment"># point in the mesh [x_min, m_max]x[y_min, y_max].</span></span><br><span class="line">    <span class="attr">h</span> = .<span class="number">01</span>  <span class="comment"># step size in the mesh</span></span><br><span class="line">    xx, <span class="attr">yy</span> = np.meshgrid(np.arange(x_min, x_max, h), np.arange(y_min, y_max, h))</span><br><span class="line">    <span class="attr">Z</span> = clf.predict(np.c_[xx.ravel(), yy.ravel()])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Put the result into a color plot</span></span><br><span class="line">    <span class="attr">Z</span> = Z.reshape(xx.shape)</span><br><span class="line">    plt.xlim(xx.min(), xx.max())</span><br><span class="line">    plt.ylim(yy.min(), yy.max())</span><br><span class="line"></span><br><span class="line">    plt.pcolormesh(xx, yy, Z, <span class="attr">cmap=pl.cm.seismic)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Plot also the test points</span></span><br><span class="line">    <span class="attr">grade_sig</span> = [X_test[ii][<span class="number">0</span>] for ii <span class="keyword">in</span> range(<span class="number">0</span>, len(X_test)) <span class="keyword">if</span> y_test[ii]==<span class="number">0</span>]</span><br><span class="line">    <span class="attr">bumpy_sig</span> = [X_test[ii][<span class="number">1</span>] for ii <span class="keyword">in</span> range(<span class="number">0</span>, len(X_test)) <span class="keyword">if</span> y_test[ii]==<span class="number">0</span>]</span><br><span class="line">    <span class="attr">grade_bkg</span> = [X_test[ii][<span class="number">0</span>] for ii <span class="keyword">in</span> range(<span class="number">0</span>, len(X_test)) <span class="keyword">if</span> y_test[ii]==<span class="number">1</span>]</span><br><span class="line">    <span class="attr">bumpy_bkg</span> = [X_test[ii][<span class="number">1</span>] for ii <span class="keyword">in</span> range(<span class="number">0</span>, len(X_test)) <span class="keyword">if</span> y_test[ii]==<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    plt.scatter(grade_sig, bumpy_sig, <span class="attr">color</span> = <span class="string">"b"</span>, <span class="attr">label="fast")</span></span><br><span class="line">    plt.scatter(grade_bkg, bumpy_bkg, <span class="attr">color</span> = <span class="string">"r"</span>, <span class="attr">label="slow")</span></span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.xlabel(<span class="string">"bumpiness"</span>)</span><br><span class="line">    plt.ylabel(<span class="string">"grade"</span>)</span><br><span class="line"></span><br><span class="line">    plt.savefig(<span class="string">"test.png"</span>)</span><br><span class="line">    </span><br><span class="line"><span class="built_in">import</span> base64</span><br><span class="line"><span class="built_in">import</span> json</span><br><span class="line"><span class="built_in">import</span> subprocess</span><br><span class="line"></span><br><span class="line">def output_image(name, format, bytes):</span><br><span class="line">    <span class="attr">image_start</span> = <span class="string">"BEGIN_IMAGE_f9825uweof8jw9fj4r8"</span></span><br><span class="line">    <span class="attr">image_end</span> = <span class="string">"END_IMAGE_0238jfw08fjsiufhw8frs"</span></span><br><span class="line">    <span class="attr">data</span> = &#123;&#125;</span><br><span class="line">    data['name'] = name</span><br><span class="line">    data['format'] = format</span><br><span class="line">    data['bytes'] = base64.encodestring(bytes)</span><br><span class="line">    print image_start+json.dumps(data)+image_end</span><br></pre></td></tr></table></figure><h2 id="prep-terrain-data-py"><a href="#prep-terrain-data-py" class="headerlink" title="prep_terrain_data.py"></a>prep_terrain_data.py</h2><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: UTF<span class="number">-8</span> -*-</span><br><span class="line">#!/usr/bin/python</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def makeTerrainData(n_points=<span class="number">1000</span>):</span><br><span class="line">###############################################################################</span><br><span class="line">### make the toy dataset</span><br><span class="line">    random.seed(<span class="number">42</span>)</span><br><span class="line">    grade = [random.random() for ii <span class="keyword">in</span> range(<span class="number">0</span>,n_points)]</span><br><span class="line">    bumpy = [random.random() for ii <span class="keyword">in</span> range(<span class="number">0</span>,n_points)]</span><br><span class="line">    error = [random.random() for ii <span class="keyword">in</span> range(<span class="number">0</span>,n_points)]</span><br><span class="line">    y = [round(grade[ii]*bumpy[ii]+<span class="number">0.3</span>+<span class="number">0.1</span>*error[ii]) for ii <span class="keyword">in</span> range(<span class="number">0</span>,n_points)]</span><br><span class="line">    for ii <span class="keyword">in</span> range(<span class="number">0</span>, len(y)):</span><br><span class="line">        <span class="keyword">if</span> grade[ii]&gt;<span class="number">0.8</span> or bumpy[ii]&gt;<span class="number">0.8</span>:</span><br><span class="line">            y[ii] = <span class="number">1.0</span></span><br><span class="line"></span><br><span class="line">### split into train/test sets</span><br><span class="line">    X = [[gg, ss] for gg, ss <span class="keyword">in</span> zip(grade, bumpy)]</span><br><span class="line">    split = int(<span class="number">0.75</span>*n_points)</span><br><span class="line">    X_train = X[<span class="number">0</span>:split]</span><br><span class="line">    X_test  = X[split:]</span><br><span class="line">    y_train = y[<span class="number">0</span>:split]</span><br><span class="line">    y_test  = y[split:]</span><br><span class="line"></span><br><span class="line">    grade_sig = [X_train[ii][<span class="number">0</span>] for ii <span class="keyword">in</span> range(<span class="number">0</span>, len(X_train)) <span class="keyword">if</span> y_train[ii]==<span class="number">0</span>]</span><br><span class="line">    bumpy_sig = [X_train[ii][<span class="number">1</span>] for ii <span class="keyword">in</span> range(<span class="number">0</span>, len(X_train)) <span class="keyword">if</span> y_train[ii]==<span class="number">0</span>]</span><br><span class="line">    grade_bkg = [X_train[ii][<span class="number">0</span>] for ii <span class="keyword">in</span> range(<span class="number">0</span>, len(X_train)) <span class="keyword">if</span> y_train[ii]==<span class="number">1</span>]</span><br><span class="line">    bumpy_bkg = [X_train[ii][<span class="number">1</span>] for ii <span class="keyword">in</span> range(<span class="number">0</span>, len(X_train)) <span class="keyword">if</span> y_train[ii]==<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">#    training_data = &#123;<span class="string">"fast"</span>:&#123;<span class="string">"grade"</span>:grade_sig, <span class="string">"bumpiness"</span>:bumpy_sig&#125;</span><br><span class="line">#            , <span class="string">"slow"</span>:&#123;<span class="string">"grade"</span>:grade_bkg, <span class="string">"bumpiness"</span>:bumpy_bkg&#125;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    grade_sig = [X_test[ii][<span class="number">0</span>] for ii <span class="keyword">in</span> range(<span class="number">0</span>, len(X_test)) <span class="keyword">if</span> y_test[ii]==<span class="number">0</span>]</span><br><span class="line">    bumpy_sig = [X_test[ii][<span class="number">1</span>] for ii <span class="keyword">in</span> range(<span class="number">0</span>, len(X_test)) <span class="keyword">if</span> y_test[ii]==<span class="number">0</span>]</span><br><span class="line">    grade_bkg = [X_test[ii][<span class="number">0</span>] for ii <span class="keyword">in</span> range(<span class="number">0</span>, len(X_test)) <span class="keyword">if</span> y_test[ii]==<span class="number">1</span>]</span><br><span class="line">    bumpy_bkg = [X_test[ii][<span class="number">1</span>] for ii <span class="keyword">in</span> range(<span class="number">0</span>, len(X_test)) <span class="keyword">if</span> y_test[ii]==<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    test_data = &#123;<span class="string">"fast"</span>:&#123;<span class="string">"grade"</span>:grade_sig, <span class="string">"bumpiness"</span>:bumpy_sig&#125;</span><br><span class="line">            , <span class="string">"slow"</span>:&#123;<span class="string">"grade"</span>:grade_bkg, <span class="string">"bumpiness"</span>:bumpy_bkg&#125;&#125;</span><br><span class="line"></span><br><span class="line">    return X_train, y_train, X_test, y_test</span><br><span class="line">#    return training_data, test_data</span><br></pre></td></tr></table></figure><h2 id="ClassifyNB-py"><a href="#ClassifyNB-py" class="headerlink" title="ClassifyNB.py"></a>ClassifyNB.py</h2><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: UTF<span class="number">-8</span> -*-</span><br><span class="line">def classify(features_train, labels_train):   </span><br><span class="line">    ### <span class="keyword">import</span> the sklearn <span class="keyword">module</span> for GaussianNB</span><br><span class="line">    ### create classifier</span><br><span class="line">    ### fit the classifier on the training features and labels</span><br><span class="line">    ### return the fit classifier</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    ### your <span class="keyword">code</span> goes here!</span><br><span class="line">    def classify(traindata,trainlabel):</span><br><span class="line">        <span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> GaussianNB</span><br><span class="line">        classifier=GaussianNB()</span><br><span class="line">        classifier.fit(traindata, trainlabel)</span><br><span class="line">        return classifier</span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/python/" rel="tag"># python</a> <a href="/tags/%E8%BD%AC%E8%BD%BD/" rel="tag"># 转载</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag"># 机器学习</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-numpy-and-pandas/" rel="prev" title="Numpy和Pandas教程"><i class="fa fa-chevron-left"></i> Numpy和Pandas教程</a></div><div class="post-nav-item"> <a href="/dev-kaggle/" rel="next" title="Kaggle">Kaggle<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zODU3Mi8xNTEwMA=="></div></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#scikit-learn-的安装"><span class="nav-number">2.</span> <span class="nav-text">scikit-learn 的安装</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#关于-scikit-learn-版本的重要通知"><span class="nav-number">3.</span> <span class="nav-text">关于 scikit-learn 版本的重要通知</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Scikit-learn-代码"><span class="nav-number">4.</span> <span class="nav-text">Scikit-learn 代码</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#sklearn使用入门"><span class="nav-number">5.</span> <span class="nav-text">sklearn使用入门</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#高斯朴素贝叶斯示例"><span class="nav-number">6.</span> <span class="nav-text">高斯朴素贝叶斯示例</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#有关地形数据的高斯-NB-部署"><span class="nav-number">7.</span> <span class="nav-text">有关地形数据的高斯 NB 部署</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#studentMain-py"><span class="nav-number">7.1.</span> <span class="nav-text">studentMain.py</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#class-vis-py"><span class="nav-number">7.2.</span> <span class="nav-text">class_vis.py</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#prep-terrain-data-py"><span class="nav-number">7.3.</span> <span class="nav-text">prep_terrain_data.py</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ClassifyNB-py"><span class="nav-number">7.4.</span> <span class="nav-text">ClassifyNB.py</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">学而不思则罔，思而不学则殆！</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">619</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">50</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">198</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2021</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://www.beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={iconStyle:"box",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions),flOptions={iconStyle:"box",boxForm:"horizontal",position:"topRight",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-float",flOptions)</script><script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  // window.livereOptions = {
  //   refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  // };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script></body></html>