<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu.cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言本文记录linux中系统管理时常用的命令，备忘。"><meta property="og:type" content="article"><meta property="og:title" content="好好学Linux：系统管理常用命令"><meta property="og:url" content="https://www.voidking.com/dev-linux-system-management/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言本文记录linux中系统管理时常用的命令，备忘。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2017-06-02T08:00:00.000Z"><meta property="article:modified_time" content="2023-11-11T08:00:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="docker"><meta property="article:tag" content="linux"><meta property="article:tag" content="问题排查"><meta property="article:tag" content="shell"><meta property="article:tag" content="好好学Linux"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-linux-system-management/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>好好学Linux：系统管理常用命令 | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-linux-system-management/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 好好学Linux：系统管理常用命令</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2017-06-02 08:00:00" itemprop="dateCreated datePublished" datetime="2017-06-02T08:00:00+00:00">2017-06-02</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2023-11-11 08:00:00" itemprop="dateModified" datetime="2023-11-11T08:00:00+00:00">2023-11-11</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/docker/" itemprop="url" rel="index"><span itemprop="name">docker</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/shell/" itemprop="url" rel="index"><span itemprop="name">shell</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/troubleshooting/" itemprop="url" rel="index"><span itemprop="name">troubleshooting</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><span class="post-title-index">1.</span><a href="#前言" class="headerlink" title="前言"></a> 前言</h1><p>本文记录linux中系统管理时常用的命令，备忘。</p><span id="more"></span><h1 id="查看硬件配置"><span class="post-title-index">2.</span><a href="#查看硬件配置" class="headerlink" title="查看硬件配置"></a> 查看硬件配置</h1><h2 id="查看服务器型号"><span class="post-title-index">2.1.</span><a href="#查看服务器型号" class="headerlink" title="查看服务器型号"></a> 查看服务器型号</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dmidecode</span><br><span class="line">dmidecode | grep <span class="string">&quot;System Information&quot;</span> -A16 </span><br></pre></td></tr></table></figure><h2 id="查看CPU"><span class="post-title-index">2.2.</span><a href="#查看CPU" class="headerlink" title="查看CPU"></a> 查看CPU</h2><p>物理CPU数（physical id）：主板上实际插入的cpu数量，可以数不重复的 physical id 有几个。<br>CPU核心数（cpu cores）：单块CPU上面能处理数据的芯片组的数量，如双核、四核等<br>逻辑CPU数：一般情况下，逻辑CPU=物理CPU个数×每颗核数；如果开启了超线程技术，逻辑CPU=物理CPU个数×每颗核数x2</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看CPU详细信息</span></span><br><span class="line">lscpu</span><br><span class="line"><span class="built_in">cat</span> /proc/cpuinfo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询物理CPU数量</span></span><br><span class="line">lscpu | grep -i <span class="string">&quot;Architecture&quot;</span> | <span class="built_in">wc</span> -l</span><br><span class="line"><span class="built_in">cat</span> /proc/cpuinfo | grep <span class="string">&quot;physical id&quot;</span> |<span class="built_in">sort</span> | <span class="built_in">uniq</span> | <span class="built_in">wc</span> -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询每颗物理CPU核数</span></span><br><span class="line">lscpu | grep <span class="string">&quot;per socket&quot;</span></span><br><span class="line"><span class="built_in">cat</span> /proc/cpuinfo | grep <span class="string">&quot;core id&quot;</span> | <span class="built_in">sort</span> | <span class="built_in">uniq</span> | <span class="built_in">wc</span> -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询系统的每颗物理CPU核心是否启用超线程技术</span></span><br><span class="line">lscpu | grep -e <span class="string">&quot;per socket&quot;</span> -e <span class="string">&quot;per core&quot;</span></span><br><span class="line"><span class="built_in">cat</span> /proc/cpuinfo | grep -e <span class="string">&quot;cpu cores&quot;</span>  -e <span class="string">&quot;siblings&quot;</span> | <span class="built_in">sort</span> | <span class="built_in">uniq</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询系统具有多少个逻辑CPU</span></span><br><span class="line">lscpu | grep -i <span class="string">&quot;CPU(s):&quot;</span></span><br><span class="line"><span class="built_in">cat</span> /proc/cpuinfo | grep <span class="string">&quot;processor&quot;</span> | <span class="built_in">wc</span> -l</span><br></pre></td></tr></table></figure><p>lscpu查看到的<code>Core(s) per socket</code>表示这颗物理CPU有多少核心，<code>Thread(s) per core</code>表示每个核心能同时处理多少线程。</p><p>参考文档：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/wxxjianchi/p/10522049.html">/proc/cpuinfo文件解读（超易理解）</a></p><h2 id="查看内存"><span class="post-title-index">2.3.</span><a href="#查看内存" class="headerlink" title="查看内存"></a> 查看内存</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看内存</span></span><br><span class="line">free -h</span><br><span class="line">free -m</span><br><span class="line"><span class="built_in">cat</span> /proc/meminfo</span><br></pre></td></tr></table></figure><h2 id="查看磁盘"><span class="post-title-index">2.4.</span><a href="#查看磁盘" class="headerlink" title="查看磁盘"></a> 查看磁盘</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lsblk</span><br><span class="line"><span class="built_in">df</span> -h</span><br></pre></td></tr></table></figure><h2 id="查看显卡"><span class="post-title-index">2.5.</span><a href="#查看显卡" class="headerlink" title="查看显卡"></a> 查看显卡</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lspci | grep -i vga <span class="comment"># 最前面的序号是显卡代号</span></span><br><span class="line">lspci | grep -i nvidia </span><br><span class="line">lspci -v -s 02:00.0 <span class="comment"># 通过显卡序号查看显卡详情</span></span><br><span class="line">lshw -numeric -C display <span class="comment"># 查看所有显卡详情</span></span><br></pre></td></tr></table></figure><h2 id="查看网卡"><span class="post-title-index">2.6.</span><a href="#查看网卡" class="headerlink" title="查看网卡"></a> 查看网卡</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lspci | grep Ethernet <span class="comment"># 查看网卡是百兆、千兆、还是万兆网卡</span></span><br></pre></td></tr></table></figure><h1 id="查看系统信息"><span class="post-title-index">3.</span><a href="#查看系统信息" class="headerlink" title="查看系统信息"></a> 查看系统信息</h1><h2 id="查看系统版本"><span class="post-title-index">3.1.</span><a href="#查看系统版本" class="headerlink" title="查看系统版本"></a> 查看系统版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">lsb_release -a</span><br><span class="line"><span class="built_in">cat</span> /etc/issue</span><br><span class="line"><span class="built_in">cat</span> /etc/os-release</span><br><span class="line"><span class="built_in">cat</span> /etc/centos-release</span><br><span class="line">hostnamectl</span><br></pre></td></tr></table></figure><h2 id="查看系统位数"><span class="post-title-index">3.2.</span><a href="#查看系统位数" class="headerlink" title="查看系统位数"></a> 查看系统位数</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uname</span> -a</span><br><span class="line">file /bin/ls</span><br><span class="line">getconf LONG_BIT</span><br><span class="line">hostnamectl</span><br></pre></td></tr></table></figure><h2 id="查看内核版本"><span class="post-title-index">3.3.</span><a href="#查看内核版本" class="headerlink" title="查看内核版本"></a> 查看内核版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uname</span> -a</span><br><span class="line">hostnamectl</span><br></pre></td></tr></table></figure><h2 id="查看是否是物理机"><span class="post-title-index">3.4.</span><a href="#查看是否是物理机" class="headerlink" title="查看是否是物理机"></a> 查看是否是物理机</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dmidecode -s system-product-name</span><br><span class="line">hostnamectl</span><br></pre></td></tr></table></figure><h1 id="系统配置"><span class="post-title-index">4.</span><a href="#系统配置" class="headerlink" title="系统配置"></a> 系统配置</h1><h2 id="修改默认shell"><span class="post-title-index">4.1.</span><a href="#修改默认shell" class="headerlink" title="修改默认shell"></a> 修改默认shell</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br><span class="line"><span class="built_in">cat</span> /etc/shells</span><br><span class="line"><span class="built_in">which</span> bash</span><br><span class="line">chsh -s /bin/bash</span><br></pre></td></tr></table></figure><h2 id="显示颜色"><span class="post-title-index">4.2.</span><a href="#显示颜色" class="headerlink" title="显示颜色"></a> 显示颜色</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure><p>取消 <code>force_color_prompt=yes</code> 的提示。</p><h2 id="禁止检查邮件"><span class="post-title-index">4.3.</span><a href="#禁止检查邮件" class="headerlink" title="禁止检查邮件"></a> 禁止检查邮件</h2><p>系统经常提示：您在 /var/spool/mail/root 中有新邮件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;unset MAILCHECK&quot;</span> &gt;&gt; /etc/profile</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure><h2 id="添加用户"><span class="post-title-index">4.4.</span><a href="#添加用户" class="headerlink" title="添加用户"></a> 添加用户</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd -m voidking -s /bin/bash</span><br><span class="line">passwd voidking</span><br></pre></td></tr></table></figure><h2 id="给用户添加sudo权限"><span class="post-title-index">4.5.</span><a href="#给用户添加sudo权限" class="headerlink" title="给用户添加sudo权限"></a> 给用户添加sudo权限</h2><p>参考文档：<a href="https://www.voidking.com/dev-shell-sudo/">《shell命令之sudo》</a></p><h2 id="添加用户组"><span class="post-title-index">4.6.</span><a href="#添加用户组" class="headerlink" title="添加用户组"></a> 添加用户组</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd docker</span><br></pre></td></tr></table></figure><h2 id="添加用户到用户组"><span class="post-title-index">4.7.</span><a href="#添加用户到用户组" class="headerlink" title="添加用户到用户组"></a> 添加用户到用户组</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">usermod -G docker -a gitlab-runner</span><br><span class="line">usermod -G root -a gitlab-runner</span><br></pre></td></tr></table></figure><h2 id="用户切换用户组"><span class="post-title-index">4.8.</span><a href="#用户切换用户组" class="headerlink" title="用户切换用户组"></a> 用户切换用户组</h2><p>如果一个用户属于多个用户组，可以切换默认用户组。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">newgrp docker</span><br><span class="line"><span class="built_in">id</span></span><br></pre></td></tr></table></figure><h2 id="从用户组删除用户"><span class="post-title-index">4.9.</span><a href="#从用户组删除用户" class="headerlink" title="从用户组删除用户"></a> 从用户组删除用户</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gpasswd -d docker gitlab-runner</span><br><span class="line"><span class="built_in">groups</span> gitlab-runner</span><br></pre></td></tr></table></figure><p>或者直接修改 /etc/group 文件，删除对应行。</p><h2 id="删除用户"><span class="post-title-index">4.10.</span><a href="#删除用户" class="headerlink" title="删除用户"></a> 删除用户</h2><p>删除用户和用户目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">userdel -r voidking</span><br></pre></td></tr></table></figure><p>删除用户，然后删除用户目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">userdel voidking</span><br><span class="line"></span><br><span class="line">find /home/ -nouser | xargs <span class="built_in">rm</span> -rfv</span><br></pre></td></tr></table></figure><h2 id="切换用户"><span class="post-title-index">4.11.</span><a href="#切换用户" class="headerlink" title="切换用户"></a> 切换用户</h2><p>切换root</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">sudo su</span><br></pre></td></tr></table></figure><p>切换普通用户</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su voidking</span><br></pre></td></tr></table></figure><h2 id="修改用户家目录"><span class="post-title-index">4.12.</span><a href="#修改用户家目录" class="headerlink" title="修改用户家目录"></a> 修改用户家目录</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">usermod -d /data/voidking voidking <span class="comment"># 切换用户家目录到 /data/voidking</span></span><br><span class="line">usermod -md /data/voidking voidking <span class="comment"># 切换用户家目录，同时把原来家目录中的内容移动到新的家目录</span></span><br></pre></td></tr></table></figure><p>对于root用户，需要先进入单用户模式，才能进行修改家目录操作。</p><h2 id="添加字体"><span class="post-title-index">4.13.</span><a href="#添加字体" class="headerlink" title="添加字体"></a> 添加字体</h2><p>查看字体</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fc-list</span><br></pre></td></tr></table></figure><p>添加字体</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /usr/share/fonts/win/</span><br><span class="line"><span class="built_in">cd</span> /usr/share/fonts/win/</span><br><span class="line">rz <span class="comment"># 或者 wget/scp</span></span><br><span class="line">tar -xzvf fonts.tgz</span><br></pre></td></tr></table></figure><p>添加字体后更新缓存</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fc-cache -fv</span><br><span class="line">fc-list</span><br></pre></td></tr></table></figure><h2 id="设置临时IP"><span class="post-title-index">4.14.</span><a href="#设置临时IP" class="headerlink" title="设置临时IP"></a> 设置临时IP</h2><p>添加临时IP</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip addr add 192.168.51.20/24 dev em1</span><br></pre></td></tr></table></figure><p>删除临时IP</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip addr del 192.168.51.20/24 dev em1</span><br></pre></td></tr></table></figure><h2 id="网桥从属网卡"><span class="post-title-index">4.15.</span><a href="#网桥从属网卡" class="headerlink" title="网桥从属网卡"></a> 网桥从属网卡</h2><p>两台主机通过网线直连，并且设置了临时IP后，如果发现互ping不通，那么可以检查下桥接从属网卡配置。<br>有的时候，一个网桥可能会添加多个从属网卡，从而导致网卡设置了IP但是不通。</p><p>从属网卡在网络中起到以下作用：</p><ul><li>扩展网络端口：通过将多个网卡添加到网桥或交换机上，可以增加网络设备的端口数量，从而连接更多的设备或虚拟机。</li><li>实现网络聚合：从属网卡可以用于实现网络聚合，将多个物理网卡绑定在一起，提供更高的带宽和冗余。</li><li>实现冗余和容错：通过将多个从属网卡连接到网桥或交换机上，可以实现冗余路径，当一个路径发生故障时，可以切换到其他路径，提高网络的可靠性和容错性。</li><li>提供网络隔离：从属网卡可以用于隔离网络流量，将不同类型的流量或不同网络的流量分开处理，增加网络的安全性和性能。</li></ul><p>查看网桥信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ip addr <span class="comment"># 可以查看到网卡从属的网桥</span></span><br><span class="line">brctl show</span><br><span class="line">bridge <span class="built_in">link</span></span><br></pre></td></tr></table></figure><p>增加网桥从属网卡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bridge <span class="built_in">link</span> <span class="built_in">set</span> dev eth2 master br0</span><br></pre></td></tr></table></figure><p>删除网桥从属网卡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ip <span class="built_in">link</span> <span class="built_in">set</span> dev eth2 down</span><br><span class="line">brctl delif br0 eth2</span><br><span class="line">ip <span class="built_in">link</span> <span class="built_in">set</span> dev eth2 up</span><br></pre></td></tr></table></figure><h2 id="确定网卡编号和网口对应关系"><span class="post-title-index">4.16.</span><a href="#确定网卡编号和网口对应关系" class="headerlink" title="确定网卡编号和网口对应关系"></a> 确定网卡编号和网口对应关系</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ethtool -p eth2</span><br></pre></td></tr></table></figure><p>执行上面的命令后，观察网口，闪烁的那个网口就是网卡编号对应的网口。</p><h2 id="修改网卡配置"><span class="post-title-index">4.17.</span><a href="#修改网卡配置" class="headerlink" title="修改网卡配置"></a> 修改网卡配置</h2><p>1、查看网卡配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ethtool eth2</span><br></pre></td></tr></table></figure><p>2、设置网卡千兆全双工</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ethtool -s eth2 speed 1000 duplex full</span><br></pre></td></tr></table></figure><h2 id="修改内核参数"><span class="post-title-index">4.18.</span><a href="#修改内核参数" class="headerlink" title="修改内核参数"></a> 修改内核参数</h2><p>1、查看内核参数，例如</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.core.rmem_max</span><br></pre></td></tr></table></figure><p>2、修改内核参数，例如</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl -w net.core.rmem_max=2097152</span><br></pre></td></tr></table></figure><p>3、永久生效修改内核参数</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sysctl.conf</span><br><span class="line"><span class="comment"># 写入 net.core.rmem_max=2097152</span></span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure><p>如果用的是其它的配置文件，那么需要指定它，例如</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl -p /etc/sysctl.d/mysettings.conf</span><br></pre></td></tr></table></figure><p>参考文档：<a target="_blank" rel="noopener" href="https://cloud.tencent.com/document/product/213/46400">Linux 实例常用内核参数介绍</a></p><h1 id="软件安装"><span class="post-title-index">5.</span><a href="#软件安装" class="headerlink" title="软件安装"></a> 软件安装</h1><h2 id="查看命令属于哪个软件包"><span class="post-title-index">5.1.</span><a href="#查看命令属于哪个软件包" class="headerlink" title="查看命令属于哪个软件包"></a> 查看命令属于哪个软件包</h2><p>1、centos7</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum makecache fast</span><br><span class="line">yum whatprovides lsb_release</span><br></pre></td></tr></table></figure><p>2、ubuntu</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-get install -y apt-file</span><br><span class="line">apt-file update</span><br><span class="line">apt-file search ifconfig</span><br></pre></td></tr></table></figure><h2 id="重建软件安装源"><span class="post-title-index">5.2.</span><a href="#重建软件安装源" class="headerlink" title="重建软件安装源"></a> 重建软件安装源</h2><p>centos7</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/yum.repos.d</span><br><span class="line"><span class="built_in">rm</span> -f *.repo</span><br><span class="line">scp 192.168.56.101:/etc/yum.repos.d/* .</span><br><span class="line">yum clean all</span><br><span class="line">yum makecache fast</span><br></pre></td></tr></table></figure><h2 id="EPEL源"><span class="post-title-index">5.3.</span><a href="#EPEL源" class="headerlink" title="EPEL源"></a> EPEL源</h2><p>EPEL（ExtraPackagesforEnterpriseLinux）是基于Fedora的一个项目，为RedHat系的操作系统提供额外的高质量软件包。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install epel-release</span><br></pre></td></tr></table></figure><p>安装epel源之后，可以安装很多原本 No package xxx available 的软件，比如jq：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install jq</span><br></pre></td></tr></table></figure><h2 id="安装指定版本软件"><span class="post-title-index">5.4.</span><a href="#安装指定版本软件" class="headerlink" title="安装指定版本软件"></a> 安装指定版本软件</h2><p>以安装Docker为例，参考文档<a href="https://www.voidking.com/dev-docker-start/">《Docker入门篇》</a></p><h1 id="问题排查"><span class="post-title-index">6.</span><a href="#问题排查" class="headerlink" title="问题排查"></a> 问题排查</h1><p>参考文档：<a href="https://www.voidking.com/dev-shell-troubleshooting/">《shell命令之问题排查》</a></p><h1 id="Uncategories"><span class="post-title-index">7.</span><a href="#Uncategories" class="headerlink" title="Uncategories"></a> Uncategories</h1><h2 id="跟踪系统调用"><span class="post-title-index">7.1.</span><a href="#跟踪系统调用" class="headerlink" title="跟踪系统调用"></a> 跟踪系统调用</h2><p>假设ls执行卡住，可以通过strace命令查看ls具体的执行情况</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strace <span class="built_in">ls</span> /mnt</span><br></pre></td></tr></table></figure><h2 id="时间和时间戳"><span class="post-title-index">7.2.</span><a href="#时间和时间戳" class="headerlink" title="时间和时间戳"></a> 时间和时间戳</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输出时间</span></span><br><span class="line"><span class="built_in">date</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出时间并格式化</span></span><br><span class="line"><span class="built_in">date</span> <span class="string">&quot;+%Y-%m-%d %H:%M:%S&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 时间转时间戳（秒）</span></span><br><span class="line"><span class="built_in">date</span> <span class="string">&quot;+%s&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 时间转时间戳（微秒）</span></span><br><span class="line">microsecond=$(($(date &quot;+%s%N&quot;)/<span class="number">1000000</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 时间戳（秒）转时间</span></span><br><span class="line"><span class="built_in">date</span> -d @1612351314 <span class="string">&quot;+%Y-%m-%d %H:%M:%S&quot;</span></span><br></pre></td></tr></table></figure><h2 id="还原history"><span class="post-title-index">7.3.</span><a href="#还原history" class="headerlink" title="还原history"></a> 还原history</h2><p>万万没想到，centos4.3的<code>history -c</code>命令，不止会清除当前登录的操作历史记录，还会清除 .bash_history 中的内容。</p><p>如果不小心清除了 .bash_history 中的内容，该怎么办？如果屏幕上还残留着history的历史记录，那么还有得救。<br>拷贝屏幕上的内容，到 history.txt，假设内容为：</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">244486 </span> <span class="number">2021</span>-<span class="number">01</span>-<span class="number">08</span> <span class="number">17</span>:<span class="number">35</span>:<span class="number">18</span> cd haojin</span><br><span class="line"><span class="symbol">244487 </span> <span class="number">2021</span>-<span class="number">01</span>-<span class="number">08</span> <span class="number">17</span>:<span class="number">36</span>:<span class="number">01</span> vim main.py</span><br><span class="line"><span class="symbol">244488 </span> <span class="number">2021</span>-<span class="number">01</span>-<span class="number">08</span> <span class="number">17</span>:<span class="number">38</span>:<span class="number">33</span> python main.py</span><br></pre></td></tr></table></figure><p>怎么恢复成标准的 .bash_history 格式呢？使用如下脚本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> /dev/null &gt; bash_history</span><br><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> line</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  time=$(<span class="built_in">echo</span> <span class="variable">$line</span> | awk <span class="string">&#x27;&#123;print $2&quot; &quot;$3&#125;&#x27;</span>)</span><br><span class="line">  <span class="comment">#cmd=$(echo $line | awk &#x27;&#123;$1=&quot;&quot;;$2=&quot;&quot;;$3=&quot;&quot;;print $0&#125;&#x27;)</span></span><br><span class="line">  cmd=$(<span class="built_in">echo</span> <span class="variable">$line</span> | awk -F <span class="string">&quot; &quot;</span>  <span class="string">&#x27;&#123;for (i=4;i&lt;=NF;i++)printf(&quot;%s &quot;, $i);print &quot;&quot;&#125;&#x27;</span>)</span><br><span class="line">  timestamp=$(<span class="built_in">date</span> -d <span class="string">&quot;<span class="variable">$time</span>&quot;</span> +%s)</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;#&quot;</span><span class="variable">$timestamp</span> &gt;&gt; bash_history</span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$cmd</span> &gt;&gt; bash_history</span><br><span class="line"><span class="keyword">done</span> &lt; history.txt</span><br></pre></td></tr></table></figure><p>执行完成，使用 bash_history 替换 .bash_history 即可。</p></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-linux-system-management/" title="好好学Linux：系统管理常用命令">https://www.voidking.com/dev-linux-system-management/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li><li> <img width="200" height="200" src="/images/avatar.jpg"><p style="text-align:center;margin-bottom:0">微信公众号同步更新，欢迎关注~</p></li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/docker/" rel="tag"># docker</a> <a href="/tags/linux/" rel="tag"># linux</a> <a href="/tags/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/" rel="tag"># 问题排查</a> <a href="/tags/shell/" rel="tag"># shell</a> <a href="/tags/%E5%A5%BD%E5%A5%BD%E5%AD%A6Linux/" rel="tag"># 好好学Linux</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-linux-systemctl/" rel="prev" title="好好学Linux：systemctl命令"><i class="fa fa-chevron-left"></i> 好好学Linux：systemctl命令</a></div><div class="post-nav-item"> <a href="/dev-linux-sudo/" rel="next" title="好好学Linux：sudo命令">好好学Linux：sudo命令<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-3284447971731414" data-ad-slot="9697986181"></ins><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3284447971731414" crossorigin="anonymous"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">1. 前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%A1%AC%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="nav-text">2. 查看硬件配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9E%8B%E5%8F%B7"><span class="nav-text">2.1. 查看服务器型号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8BCPU"><span class="nav-text">2.2. 查看CPU</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%86%85%E5%AD%98"><span class="nav-text">2.3. 查看内存</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%A3%81%E7%9B%98"><span class="nav-text">2.4. 查看磁盘</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%98%BE%E5%8D%A1"><span class="nav-text">2.5. 查看显卡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E5%8D%A1"><span class="nav-text">2.6. 查看网卡</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF"><span class="nav-text">3. 查看系统信息</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E7%89%88%E6%9C%AC"><span class="nav-text">3.1. 查看系统版本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E4%BD%8D%E6%95%B0"><span class="nav-text">3.2. 查看系统位数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC"><span class="nav-text">3.3. 查看内核版本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%98%AF%E5%90%A6%E6%98%AF%E7%89%A9%E7%90%86%E6%9C%BA"><span class="nav-text">3.4. 查看是否是物理机</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE"><span class="nav-text">4. 系统配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4shell"><span class="nav-text">4.1. 修改默认shell</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%98%BE%E7%A4%BA%E9%A2%9C%E8%89%B2"><span class="nav-text">4.2. 显示颜色</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A6%81%E6%AD%A2%E6%A3%80%E6%9F%A5%E9%82%AE%E4%BB%B6"><span class="nav-text">4.3. 禁止检查邮件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7"><span class="nav-text">4.4. 添加用户</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%99%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0sudo%E6%9D%83%E9%99%90"><span class="nav-text">4.5. 给用户添加sudo权限</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E7%BB%84"><span class="nav-text">4.6. 添加用户组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E5%88%B0%E7%94%A8%E6%88%B7%E7%BB%84"><span class="nav-text">4.7. 添加用户到用户组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7%E7%BB%84"><span class="nav-text">4.8. 用户切换用户组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%8E%E7%94%A8%E6%88%B7%E7%BB%84%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="nav-text">4.9. 从用户组删除用户</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="nav-text">4.10. 删除用户</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7"><span class="nav-text">4.11. 切换用户</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%AE%B6%E7%9B%AE%E5%BD%95"><span class="nav-text">4.12. 修改用户家目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%AD%97%E4%BD%93"><span class="nav-text">4.13. 添加字体</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E4%B8%B4%E6%97%B6IP"><span class="nav-text">4.14. 设置临时IP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E6%A1%A5%E4%BB%8E%E5%B1%9E%E7%BD%91%E5%8D%A1"><span class="nav-text">4.15. 网桥从属网卡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A1%AE%E5%AE%9A%E7%BD%91%E5%8D%A1%E7%BC%96%E5%8F%B7%E5%92%8C%E7%BD%91%E5%8F%A3%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="nav-text">4.16. 确定网卡编号和网口对应关系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E9%85%8D%E7%BD%AE"><span class="nav-text">4.17. 修改网卡配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0"><span class="nav-text">4.18. 修改内核参数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="nav-text">5. 软件安装</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%91%BD%E4%BB%A4%E5%B1%9E%E4%BA%8E%E5%93%AA%E4%B8%AA%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="nav-text">5.1. 查看命令属于哪个软件包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%87%8D%E5%BB%BA%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E6%BA%90"><span class="nav-text">5.2. 重建软件安装源</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#EPEL%E6%BA%90"><span class="nav-text">5.3. EPEL源</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%AC%E8%BD%AF%E4%BB%B6"><span class="nav-text">5.4. 安装指定版本软件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5"><span class="nav-text">6. 问题排查</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Uncategories"><span class="nav-text">7. Uncategories</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%9F%E8%B8%AA%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="nav-text">7.1. 跟踪系统调用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%B6%E9%97%B4%E6%88%B3"><span class="nav-text">7.2. 时间和时间戳</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%98%E5%8E%9Fhistory"><span class="nav-text">7.3. 还原history</span></a></li></ol></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">710</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">253</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: 'fc42fb80162851d487d092e3a6ccc31d',
      title: '好好学Linux：系统管理常用命令',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>