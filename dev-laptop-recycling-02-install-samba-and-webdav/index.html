<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:new URL("https://www.voidking.com").hostname,root:"/",scheme:"Gemini",version:"7.7.1",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1,cdn:{enable:!0,url:"//qiniu-cdn.voidking.com/doc/search.xml"}},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="前言NAS（Network Attached Storage，网络附属存储）本质上就是专用的存储硬件+软件。最常用的NAS软件，是NAS系统。而如果我们只是想让通用设备作为NAS，那么常用软件是Samba和WebDAV。 本篇中，我们学习安装配置Samba和WebDAV，让笔记本设备成为一台NAS。"><meta property="og:type" content="article"><meta property="og:title" content="废弃笔记本电脑复活：第二篇 安装配置Samba和WebDav"><meta property="og:url" content="https://www.voidking.com/dev-laptop-recycling-02-install-samba-and-webdav/index.html"><meta property="og:site_name" content="好好学习的郝"><meta property="og:description" content="前言NAS（Network Attached Storage，网络附属存储）本质上就是专用的存储硬件+软件。最常用的NAS软件，是NAS系统。而如果我们只是想让通用设备作为NAS，那么常用软件是Samba和WebDAV。 本篇中，我们学习安装配置Samba和WebDAV，让笔记本设备成为一台NAS。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2023-12-02T08:00:00.000Z"><meta property="article:modified_time" content="2024-11-09T08:00:00.000Z"><meta property="article:author" content="好好学习的郝"><meta property="article:tag" content="linux"><meta property="article:tag" content="ubuntu"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://www.voidking.com/dev-laptop-recycling-02-install-samba-and-webdav/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0}</script><title>废弃笔记本电脑复活：第二篇 安装配置Samba和WebDav | 好好学习的郝</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b759ac2a7fa45129e3ef060bf68259f0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="好好学习的郝" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">好好学习的郝</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">一个计算机技术爱好者与学习者</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/voidking" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.voidking.com/dev-laptop-recycling-02-install-samba-and-webdav/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="好好学习的郝"><meta itemprop="description" content="一个计算机技术爱好者与学习者"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="好好学习的郝"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> 废弃笔记本电脑复活：第二篇 安装配置Samba和WebDav</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2023-12-02 08:00:00" itemprop="dateCreated datePublished" datetime="2023-12-02T08:00:00+00:00">2023-12-02</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2024-11-09 08:00:00" itemprop="dateModified" datetime="2024-11-09T08:00:00+00:00">2024-11-09</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/" itemprop="url" rel="index"><span itemprop="name">engineering</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/engineering/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><span class="post-title-index">1.</span><a href="#前言" class="headerlink" title="前言"></a> 前言</h1><p>NAS（Network Attached Storage，网络附属存储）本质上就是专用的存储硬件+软件。<br>最常用的NAS软件，是NAS系统。而如果我们只是想让通用设备作为NAS，那么常用软件是Samba和WebDAV。</p><p>本篇中，我们学习安装配置Samba和WebDAV，让笔记本设备成为一台NAS。</p><span id="more"></span><h1 id="Samba简介"><span class="post-title-index">2.</span><a href="#Samba简介" class="headerlink" title="Samba简介"></a> Samba简介</h1><p>SMB（Server Message Block）协议是一种网络通信协议，最初由IBM开发，后来被微软用于Windows操作系统中的文件和打印服务共享。<br>Samba 是一个开源软件，它实现了SMB协议，允许Windows和Unix/Linux系统相互通信，提供了在不同操作系统之间共享文件和打印服务的功能。</p><h1 id="安装配置Samba"><span class="post-title-index">3.</span><a href="#安装配置Samba" class="headerlink" title="安装配置Samba"></a> 安装配置Samba</h1><h2 id="安装Samba"><span class="post-title-index">3.1.</span><a href="#安装Samba" class="headerlink" title="安装Samba"></a> 安装Samba</h2><p>1、安装Samba</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install samba</span><br></pre></td></tr></table></figure><p>2、查看Samba服务状态</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status nmbd</span><br></pre></td></tr></table></figure><h2 id="配置Samba"><span class="post-title-index">3.2.</span><a href="#配置Samba" class="headerlink" title="配置Samba"></a> 配置Samba</h2><p>1、创建共享目录，并给sambashare用户组设置所有目录的读写权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /data/samba/video</span><br><span class="line">find /data/samba -<span class="built_in">type</span> d -<span class="built_in">exec</span> <span class="built_in">chgrp</span> sambashare &#123;&#125; \;</span><br><span class="line">find /data/samba -<span class="built_in">type</span> d -<span class="built_in">exec</span> <span class="built_in">chmod</span> 770 &#123;&#125; \;</span><br></pre></td></tr></table></figure><p>其中，sambashare用户组是在安装Samba过程中自动创建的。</p><p>3、创建samba用户并授权</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd -m -s /usr/sbin/nologin -G sambashare samba</span><br><span class="line">smbpasswd -a samba</span><br></pre></td></tr></table></figure><p>Samba权限控制使用Linux用户和组的权限系统，但具有自己的身份验证机制，与标准Linux身份验证分开。</p><p>4、配置共享目录和用户<br>编辑samba配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/samba/smb.conf</span><br></pre></td></tr></table></figure><p>在文件最后添加：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[video]</span><br><span class="line">    path = /data/samba/video</span><br><span class="line">    browseable = yes</span><br><span class="line">    read only = no</span><br><span class="line">    force create mode = 0660</span><br><span class="line">    force directory mode = 2770</span><br><span class="line">    valid users = @sambashare @sadmin</span><br><span class="line"></span><br><span class="line">#[doc]</span><br><span class="line">#    path = /data/samba/doc</span><br><span class="line">#    browseable = no</span><br><span class="line">#    read only = yes</span><br><span class="line">#    force create mode = 0660</span><br><span class="line">#    force directory mode = 2770</span><br><span class="line">#    valid users = samba @sambashare</span><br></pre></td></tr></table></figure><p>配置说明：</p><ul><li><code>[video]</code> 和 <code>[doc]</code> 表示登录时使用的共享名称。</li><li><code>path</code> 表示共享的目录。</li><li><code>browseable</code> 表示可浏览，是否可在共享列表中列出此共享。如果设置为no，其他用户将看不到共享目录。</li><li><code>read only</code> 表示valid users列表中指定的用户是否设置仅允许读，如果值yes，则仅允许读。</li><li><code>force create mode</code> 表示此共享创建文件时设置的文件权限模式。</li><li><code>force directory mode</code> 表示此共享创建目录时设置目录权限的模式。</li><li><code>valid users</code> 表示允许访问共享的用户和组的列表。群组以<code>@</code>符号为前缀。</li></ul><p>更多配置选项，请参考文档 <a target="_blank" rel="noopener" href="https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html">smb.conf — The configuration file for the Samba suite</a></p><p>5、重启samba</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart nmbd</span><br><span class="line">systemctl status nmbd</span><br></pre></td></tr></table></figure><h2 id="测试使用Samba"><span class="post-title-index">3.3.</span><a href="#测试使用Samba" class="headerlink" title="测试使用Samba"></a> 测试使用Samba</h2><p>1、安装 samba client</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install smbclient</span><br></pre></td></tr></table></figure><p>2、创建测试文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> test.txt</span><br></pre></td></tr></table></figure><p>3、连接samba server</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smbclient //192.168.5.233/users -U samba</span><br></pre></td></tr></table></figure><p>4、上传下载文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">smb: \&gt; <span class="built_in">ls</span></span><br><span class="line">smb: \&gt; put test.txt test.txt</span><br><span class="line">smb: \&gt; get test.txt test2.txt</span><br><span class="line">smb: \&gt; <span class="built_in">exit</span></span><br></pre></td></tr></table></figure><p>下载文件时，还可以使用smbget工具</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smbget -U samba smb://192.168.5.233/video/test.txt -o test3.txt</span><br></pre></td></tr></table></figure><h2 id="配置防火墙"><span class="post-title-index">3.4.</span><a href="#配置防火墙" class="headerlink" title="配置防火墙"></a> 配置防火墙</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw allow <span class="string">&#x27;Samba&#x27;</span></span><br></pre></td></tr></table></figure><h1 id="WebDAV简介"><span class="post-title-index">4.</span><a href="#WebDAV简介" class="headerlink" title="WebDAV简介"></a> WebDAV简介</h1><p>WebDAV（Web-based Distributed Authoring and Versioning）是一种基于HTTP协议的通信协议，用于使用户可以方便地对服务器上的文档进行远程编辑和管理。WebDAV扩展了HTTP/1.1协议，增加了一系列的方法，以支持文件的创建、移动、复制和删除等操作。</p><p>使用WebDAV需要两个基本组件：WebDAV客户端和服务器。WebDAV客户端可以是任何支持该协议标准的软件，如一些文件管理器、专门的WebDAV应用程序或甚至是某些操作系统内置的文件浏览功能。服务器端则需要运行支持WebDAV的服务器软件，如Apache的mod_dav模块。</p><p>设置WebDAV环境时，通常需要在服务器上进行配置，以确保正确的文件权限、认证和安全设置。出于安全考虑，WebDAV通信应该通过SSL/TLS加密来保护数据传输过程中的安全性（使用HTTPS协议而不是HTTP）。</p><p>相较于Samba，WebDAV的权限检查更严格，比如目录中存在权限为问号的文件，那么整个目录都无法访问。</p><h1 id="安装配置WebDAV"><span class="post-title-index">5.</span><a href="#安装配置WebDAV" class="headerlink" title="安装配置WebDAV"></a> 安装配置WebDAV</h1><h2 id="安装WebDAV服务端"><span class="post-title-index">5.1.</span><a href="#安装WebDAV服务端" class="headerlink" title="安装WebDAV服务端"></a> 安装WebDAV服务端</h2><p>1、安装Apache HTTP服务器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt install apache2</span><br></pre></td></tr></table></figure><p>2、启用Apache的WebDAV模块</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a2enmod dav dav_fs</span><br></pre></td></tr></table></figure><p>3、重启Apache</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart apache2</span><br></pre></td></tr></table></figure><h2 id="配置WebDAV服务端"><span class="post-title-index">5.2.</span><a href="#配置WebDAV服务端" class="headerlink" title="配置WebDAV服务端"></a> 配置WebDAV服务端</h2><p>1、创建WebDAV共享目录，并授权</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /data/samba</span><br><span class="line">find /data/samba -<span class="built_in">type</span> d -<span class="built_in">exec</span> <span class="built_in">chmod</span> 777 &#123;&#125; \;</span><br></pre></td></tr></table></figure><p>这里复用Samba共享目录，同时修改权限为777，否则 www-data 用户无权读写。</p><p>2、配置WebDAV服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/apache2/sites-available/000-default.conf</span><br></pre></td></tr></table></figure><p>VirtualHost标签中，添加如下内容：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Alias /webdav /data/samba</span><br><span class="line"><span class="tag">&lt;<span class="name">Location</span> /<span class="attr">webdav</span>&gt;</span></span><br><span class="line">    DAV On</span><br><span class="line">    AuthType Basic</span><br><span class="line">    AuthName &quot;WebDAV&quot;</span><br><span class="line">    AuthUserFile /etc/apache2/webdav.password</span><br><span class="line">    Require valid-user</span><br><span class="line"><span class="tag">&lt;/<span class="name">Location</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3、创建用户名和密码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">htpasswd -bc /etc/apache2/webdav.password user1 password1</span><br></pre></td></tr></table></figure><p>增加用户名和密码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">htpasswd -b /etc/apache2/webdav.password user2 password2</span><br></pre></td></tr></table></figure><p>4、重启Apache</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart apache2</span><br></pre></td></tr></table></figure><h2 id="测试使用WebDAV"><span class="post-title-index">5.3.</span><a href="#测试使用WebDAV" class="headerlink" title="测试使用WebDAV"></a> 测试使用WebDAV</h2><h3 id="浏览器访问"><span class="post-title-index">5.3.1.</span><a href="#浏览器访问" class="headerlink" title="浏览器访问"></a> 浏览器访问</h3><p>假设主机IP为 192.168.5.233<br>浏览器访问 <a target="_blank" rel="noopener" href="http://192.168.5.233/webdav">http://192.168.5.233/webdav</a><br>访问时，会提示输入用户名和密码，证明我们的webdav配置正常。</p><p>登录后，会提示 Forbidden You don’t have permission to access this resource.<br>这是正常的，因为缺少 index.html 这种文件。</p><p>假设有一个文件路径为：/data/samba/test.png<br>那么通过浏览器可以直接访问：<a target="_blank" rel="noopener" href="http://192.168.5.233/webdav/test.png">http://192.168.5.233/webdav/test.png</a></p><h3 id="cadver客户端访问"><span class="post-title-index">5.3.2.</span><a href="#cadver客户端访问" class="headerlink" title="cadver客户端访问"></a> cadver客户端访问</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt install cadaver</span><br><span class="line"></span><br><span class="line">cadaver http://192.168.5.233/webdav</span><br></pre></td></tr></table></figure><p>连接时，会提示输入用户名和密码。</p><p>连接成功后，会看到 <code>cadaver</code> 命令行提示符，此时可以使用以下命令：</p><ul><li><code>ls</code>: 列出当前目录中的文件和目录。</li><li><code>cd directory</code>: 更改到名为 <code>directory</code> 的目录。</li><li><code>pwd</code>: 显示当前目录的完整路径。</li><li><code>get filename</code>: 下载文件 <code>filename</code> 到本地当前目录。</li><li><code>put filename</code>: 上传本地文件 <code>filename</code> 到当前的WebDAV目录。</li><li><code>mget *.ext</code>: 下载当前目录中所有扩展名为 <code>.ext</code> 的文件。</li><li><code>mput *.ext</code>: 上传当前本地目录中所有扩展名为 <code>.ext</code> 的文件。</li><li><code>delete filename</code>: 删除文件 <code>filename</code>。</li><li><code>mkcol directory</code>: 创建一个名为 <code>directory</code> 的新目录。</li><li><code>move source destination</code>: 移动或重命名文件 <code>source</code> 为 <code>destination</code>。</li><li><code>copy source destination</code>: 复制文件 <code>source</code> 到 <code>destination</code>。</li></ul></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> 好好学习的郝</li><li class="post-copyright-link"> <strong>原文链接：</strong> <a href="https://www.voidking.com/dev-laptop-recycling-02-install-samba-and-webdav/" title="废弃笔记本电脑复活：第二篇 安装配置Samba和WebDav">https://www.voidking.com/dev-laptop-recycling-02-install-samba-and-webdav/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本文采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议，转载请注明出处！源站会即时更新知识点并修正错误，欢迎访问~</li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/linux/" rel="tag"># linux</a> <a href="/tags/ubuntu/" rel="tag"># ubuntu</a></div><div class="post-nav"><div class="post-nav-item"><a href="/dev-laptop-recycling-03-aliyunpan/" rel="prev" title="废弃笔记本电脑复活：第三篇 利用阿里云盘扩展存储"><i class="fa fa-chevron-left"></i> 废弃笔记本电脑复活：第三篇 利用阿里云盘扩展存储</a></div><div class="post-nav-item"> <a href="/dev-laptop-recycling-01-ubuntu-basic-config/" rel="next" title="废弃笔记本电脑复活：第一篇 Ubuntu系统基础配置">废弃笔记本电脑复活：第一篇 Ubuntu系统基础配置<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="footer-ads" style="margin-top:10px"></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">1. 前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Samba%E7%AE%80%E4%BB%8B"><span class="nav-text">2. Samba简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AESamba"><span class="nav-text">3. 安装配置Samba</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Samba"><span class="nav-text">3.1. 安装Samba</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AESamba"><span class="nav-text">3.2. 配置Samba</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E4%BD%BF%E7%94%A8Samba"><span class="nav-text">3.3. 测试使用Samba</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E9%98%B2%E7%81%AB%E5%A2%99"><span class="nav-text">3.4. 配置防火墙</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#WebDAV%E7%AE%80%E4%BB%8B"><span class="nav-text">4. WebDAV简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEWebDAV"><span class="nav-text">5. 安装配置WebDAV</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85WebDAV%E6%9C%8D%E5%8A%A1%E7%AB%AF"><span class="nav-text">5.1. 安装WebDAV服务端</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEWebDAV%E6%9C%8D%E5%8A%A1%E7%AB%AF"><span class="nav-text">5.2. 配置WebDAV服务端</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E4%BD%BF%E7%94%A8WebDAV"><span class="nav-text">5.3. 测试使用WebDAV</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AE%BF%E9%97%AE"><span class="nav-text">5.3.1. 浏览器访问</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cadver%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%AE%BF%E9%97%AE"><span class="nav-text">5.3.2. cadver客户端访问</span></a></li></ol></li></ol></li></ol></div></div><div class="sidecar-ads" style="margin-top:10px"><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="好好学习的郝" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">好好学习的郝</p><div class="site-description" itemprop="description">一个计算机技术爱好者与学习者</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">780</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">34</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">272</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:voidking@qq.com" title="E-Mail → mailto:voidking@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://github.com/voidking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/voidking" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/voidking" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;voidking" rel="noopener" target="_blank"><i class="fa fa-fw fa-quora"></i> Zhihu</a></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2014 – <span itemprop="copyrightYear">2026</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">好好学习的郝</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="footer-beian"> <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备14021030号</a>&nbsp;|&nbsp; <img src="/images/beian.png" alt=""> <a target="_blank" href="http://www.beian.gov.cn/">苏公网安备 32032202000223号</a></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="https://cdn.staticfile.net/gitalk/1.7.2/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('https://cdn.staticfile.net/gitalk/1.7.2/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: '5a238b8c32b1e4dd2156',
      clientSecret: 'bfb5d518626f6fdc7da0351d1e0cd37ab75c6361',
      repo: 'gitalk-comments',
      owner: 'voidking',
      admin: ['voidking'],
      id: '819b58a0541616c014fc0218735c2840',
      title: '废弃笔记本电脑复活：第二篇 安装配置Samba和WebDav',
      body: '欢迎留言，互相交流学习~',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>